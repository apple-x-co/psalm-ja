# Psalmの実行

設定ファイルを設定したら、プロジェクトのルートディレクトリから以下のコマンドでPsalmを実行できます：

```bash
./vendor/bin/psalm
```

Psalmは`<projectFiles>`で参照されているプロジェクト内のすべてのファイルをスキャンします。

特定のファイルで実行したい場合は、以下のように使用します：

```bash
./vendor/bin/psalm file1.php [file2.php...]
```

## コマンドラインオプション

`--help`を付けて実行すると、Psalmがサポートするオプションのリストが表示されます。

## 終了ステータス

Psalmは、正常に完了し問題が見つからなかった場合は`0`で終了します。Psalmの実行に問題があった場合は`1`、正常に完了したが問題が見つかった場合は`2`で終了します。これら以外の終了ステータスは、何らかの内部問題を示します。

## Shepherd

Psalmは現在、パブリックプロジェクトに対してGitHub統合を提供しています。
`--shepherd`を追加して、ビルドに関する情報をhttps://shepherd.devに送信します。
現在、Shepherdは`master`ブランチの型カバレッジ（Psalmが推論できる型の割合）を追跡しています。

## Psalmをより速く実行する

Psalmには、ビルドを高速化するいくつかのコマンドラインオプションがあります：

- `--threads=[n]` Psalmの分析を複数のスレッドで実行します
- `--diff` 前回の実行以降に更新されたファイル（とその依存ファイル）のみをチェックします。

Psalm 4では、`--diff`がデフォルトで有効になっています（`--no-diff`で無効にできます）。
前回の実行からのデータは*キャッシュディレクトリ*に保存されます。キャッシュディレクトリは[設定](./configuration.md)で設定できます。
ビルドサーバーでPsalmを実行している場合は、実行間でキャッシュディレクトリが保持されるようにサーバーを設定することをお勧めします。

これらを組み合わせて実行する（例：`--threads=8 --diff`）と、最速のPsalm実行が可能になります。
