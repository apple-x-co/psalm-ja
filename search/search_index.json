{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Psalm\u306b\u3064\u3044\u3066","text":"<p>Psalm\u306f\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u6df1\u304f\u6398\u308a\u4e0b\u3052\u3001\u3067\u304d\u308b\u3060\u3051\u591a\u304f\u306e\u578b\u95a2\u9023\u306e\u30d0\u30b0\u3092\u898b\u3064\u3051\u3088\u3046\u3068\u3059\u308b\u9759\u7684\u89e3\u6790\u30c4\u30fc\u30eb\u3067\u3059\u3002</p> <p>\u4ed6\u306e\u985e\u4f3c\u30c4\u30fc\u30eb\u3088\u308a\u3082\u9032\u3093\u3067\u3044\u308b\u6a5f\u80fd\u304c\u3044\u304f\u3064\u304b\u3042\u308a\u307e\u3059\uff1a</p> <ul> <li> <p>\u6df7\u5408\u578b\u306e\u8b66\u544a   Psalm\u304c\u5f0f\u306e\u578b\u3092\u63a8\u8ad6\u3067\u304d\u306a\u3044\u5834\u5408\u3001<code>mixed</code>\u3068\u3044\u3046\u30d7\u30ec\u30fc\u30b9\u30db\u30eb\u30c0\u30fc\u578b\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002<code>mixed</code>\u578b\u306f\u6642\u306b\u30d0\u30b0\u3092\u96a0\u3057\u3066\u3057\u307e\u3046\u3053\u3068\u304c\u3042\u308b\u305f\u3081\u3001\u3053\u308c\u3089\u3092\u8ffd\u8de1\u3059\u308b\u3053\u3068\u3067\u591a\u304f\u306e\u4e00\u822c\u7684\u306a\u843d\u3068\u3057\u7a74\u3092\u907f\u3051\u308b\u306e\u306b\u5f79\u7acb\u3061\u307e\u3059\u3002</p> </li> <li> <p>\u30a4\u30f3\u30c6\u30ea\u30b8\u30a7\u30f3\u30c8\u306a\u30ed\u30b8\u30c3\u30af\u30c1\u30a7\u30c3\u30af   Psalm\u306f\u30b3\u30fc\u30c9\u306b\u95a2\u3059\u308b\u8ad6\u7406\u7684\u306a\u4e3b\u5f35\u3092\u8ffd\u8de1\u3059\u308b\u305f\u3081\u3001<code>if ($a &amp;&amp; $a) {}</code>\u3068<code>if ($a &amp;&amp; !$a) {}</code>\u306f\u3069\u3061\u3089\u3082\u554f\u984c\u3068\u3057\u3066\u6271\u308f\u308c\u307e\u3059\u3002\u307e\u305f\u3001\u4ee5\u524d\u306e\u30b3\u30fc\u30c9\u30d1\u30b9\u3067\u884c\u308f\u308c\u305f\u8ad6\u7406\u7684\u306a\u4e3b\u5f35\u3082\u8ffd\u8de1\u3059\u308b\u305f\u3081\u3001<code>if ($a) {} elseif ($a) {}</code>\u306e\u3088\u3046\u306a\u554f\u984c\u3092\u9632\u304e\u307e\u3059\u3002</p> </li> <li> <p>\u30d7\u30ed\u30d1\u30c6\u30a3\u521d\u671f\u5316\u30c1\u30a7\u30c3\u30af   Psalm\u306f\u3001\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u304c\u547c\u3073\u51fa\u3055\u308c\u305f\u5f8c\u3001\u4e0e\u3048\u3089\u308c\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u3059\u3079\u3066\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u5024\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u304b\u3092\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002</p> </li> <li> <p>\u6c5a\u67d3\u5206\u6790   Psalm\u306f\u30b3\u30fc\u30c9\u5185\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8106\u5f31\u6027\u3092\u691c\u51fa\u3067\u304d\u307e\u3059\u3002</p> </li> <li> <p>\u8a00\u8a9e\u30b5\u30fc\u30d0\u30fc   Psalm\u306b\u306f\u3055\u307e\u3056\u307e\u306aIDE\u3068\u4e92\u63db\u6027\u306e\u3042\u308b\u8a00\u8a9e\u30b5\u30fc\u30d0\u30fc\u304c\u3042\u308a\u307e\u3059\u3002</p> </li> <li> <p>\u81ea\u52d5\u4fee\u6b63   Psalm\u306f\u691c\u51fa\u3057\u305f\u591a\u304f\u306e\u554f\u984c\u3092\u81ea\u52d5\u7684\u306b\u4fee\u6b63\u3067\u304d\u307e\u3059\u3002</p> </li> <li> <p>\u81ea\u52d5\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0   Psalm\u306f\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089\u7c21\u5358\u306a\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002</p> </li> </ul>"},{"location":"#_1","title":"\u51fa\u529b\u4f8b","text":"<p><code>implode_strings.php</code>\u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308b\u5834\u5408\uff1a</p> <pre><code>&lt;?php\n$a = ['foo', 'bar'];\necho implode($a, ' ');\n</code></pre> <pre><code>&gt; ./vendor/bin/psalm implode_strings.php\nERROR: InvalidArgument - somefile.php:3:14 - Argument 1 of implode expects `string`, `array` provided (see https://psalm.dev/004)\n</code></pre>"},{"location":"#_2","title":"\u30a4\u30f3\u30b9\u30d4\u30ec\u30fc\u30b7\u30e7\u30f3","text":"<p>Psalm\u306b\u306f\u4e3b\u306b2\u3064\u306e\u30a4\u30f3\u30b9\u30d4\u30ec\u30fc\u30b7\u30e7\u30f3\u304c\u3042\u308a\u307e\u3059\uff1a</p> <ul> <li>Etsy\u306ePhan\u3002\u3053\u308c\u306fnikic\u306ephp-ast\u62e1\u5f35\u3092\u4f7f\u7528\u3057\u3066\u62bd\u8c61\u69cb\u6587\u6728\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002</li> <li>Facebook\u306eHack\u3002\u3053\u308c\u306fPHP\u306b\u4f3c\u305f\u8a00\u8a9e\u3067\u3001\u591a\u304f\u306e\u9ad8\u5ea6\u306a\u578b\u4ed8\u3051\u6a5f\u80fd\u3092\u30cd\u30a4\u30c6\u30a3\u30d6\u306b\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u308b\u305f\u3081\u3001docblock\u304c\u4e0d\u8981\u3067\u3059\u3002</li> </ul>"},{"location":"#_3","title":"\u76ee\u6b21","text":"<ul> <li>Psalm\u306e\u5b9f\u884c\uff1a<ul> <li>\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb</li> <li>\u8a2d\u5b9a</li> <li>\u30d7\u30e9\u30b0\u30a4\u30f3<ul> <li>\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u4f7f\u7528</li> <li>\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u4f5c\u6210</li> <li>Psalm\u304c\u578b\u3092\u8868\u73fe\u3059\u308b\u65b9\u6cd5</li> </ul> </li> <li>\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u4f7f\u7528\u6cd5</li> <li>IDE\u30b5\u30dd\u30fc\u30c8</li> <li>\u30a8\u30e9\u30fc\u51e6\u7406\uff1a<ul> <li>\u30b3\u30fc\u30c9\u306e\u554f\u984c\u3078\u306e\u5bfe\u51e6</li> <li>\u554f\u984c\u306e\u7a2e\u985e</li> </ul> </li> <li>PHP\u4ee5\u5916\u306e\u30d5\u30a1\u30a4\u30eb\u306e\u30c1\u30a7\u30c3\u30af</li> </ul> </li> <li>\u30b3\u30fc\u30c9\u3078\u306e\u6ce8\u91c8\uff1a<ul> <li>Psalm\u3067\u306e\u578b\u4ed8\u3051</li> <li>\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3</li> <li>\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3</li> </ul> </li> <li>\u30b3\u30fc\u30c9\u306e\u64cd\u4f5c\uff1a<ul> <li>\u30b3\u30fc\u30c9\u306e\u4fee\u6b63</li> <li>\u30b3\u30fc\u30c9\u306e\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0</li> </ul> </li> </ul>"},{"location":"annotating_code/adding_assertions/","title":"\u30a2\u30b5\u30fc\u30b7\u30e7\u30f3\u306e\u8ffd\u52a0","text":"<p>Psalm\u306b\u306f\u3001\u5909\u6570\u3084\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u95a2\u3059\u308b\u4e8b\u5b9f\u3092\u95a2\u6570\u304c\u691c\u8a3c\u3059\u308b\u3053\u3068\u3092\u6307\u5b9a\u3067\u304d\u308b5\u3064\u306edocblock\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u304c\u3042\u308a\u307e\u3059\uff1a</p> <ul> <li><code>@psalm-assert</code>\uff08\u4f8b\u5916\u3092\u30b9\u30ed\u30fc\u3059\u308b\u5834\u5408\u306b\u4f7f\u7528\uff09</li> <li><code>@psalm-assert-if-true</code>/<code>@psalm-assert-if-false</code>\uff08<code>bool</code>\u3092\u8fd4\u3059\u5834\u5408\u306b\u4f7f\u7528\uff09</li> <li><code>@psalm-if-this-is</code>/<code>@psalm-this-out</code>\uff08\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3059\u5834\u5408\u306b\u4f7f\u7528\uff09</li> </ul> <p>\u8a31\u5bb9\u3055\u308c\u308b\u30a2\u30b5\u30fc\u30b7\u30e7\u30f3\u306e\u4e00\u89a7\u306f\u3053\u3061\u3089\u3067\u898b\u3064\u304b\u308a\u307e\u3059\u3002</p>"},{"location":"annotating_code/adding_assertions/#_2","title":"\u4f8b","text":"<p>\u5165\u529b\u304c\u6587\u5b57\u5217\u306e\u914d\u5217\u3067\u3042\u308b\u3053\u3068\u3092\u691c\u8a3c\u3059\u308b\u30af\u30e9\u30b9\u304c\u3042\u308b\u5834\u5408\u3001\u305d\u308c\u3092Psalm\u306b\u660e\u78ba\u306b\u4f1d\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>&lt;?php\n/** @psalm-assert string[] $arr */\nfunction validateStringArray(array $arr) : void {\n    foreach ($arr as $s) {\n        if (!is_string($s)) {\n          throw new UnexpectedValueException('Invalid value ' . gettype($s));\n        }\n    }\n}\n</code></pre> <p>\u3053\u308c\u306b\u3088\u308a\u3001<code>validateStringArray</code>\u95a2\u6570\u3092\u4e00\u90e8\u306e\u30c7\u30fc\u30bf\u306b\u5bfe\u3057\u3066\u547c\u3073\u51fa\u3057\u3001\u4e0e\u3048\u3089\u308c\u305f\u30c7\u30fc\u30bf\u304c\u6587\u5b57\u5217\u306e\u914d\u5217\u3067\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3053\u3068\u3092Psalm\u306b\u7406\u89e3\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>&lt;?php\nfunction takesString(string $s) : void {}\nfunction takesInt(int $s) : void {}\n\nfunction takesArray(array $arr) : void {\n    takesInt($arr[0]); // \u3053\u308c\u306f\u554f\u984c\u3042\u308a\u307e\u305b\u3093\n    validateStringArray($arr);\n    takesInt($arr[0]); // \u3053\u308c\u306f\u30a8\u30e9\u30fc\u3067\u3059\n    foreach ($arr as $a) {\n        takesString($a); // \u3053\u308c\u306f\u554f\u984c\u3042\u308a\u307e\u305b\u3093\n    }\n}\n</code></pre> <p>\u540c\u69d8\u306b\u3001<code>@psalm-assert-if-true</code>\u3068<code>@psalm-assert-if-false</code>\u306f\u3001\u95a2\u6570/\u30e1\u30bd\u30c3\u30c9\u304c\u305d\u308c\u305e\u308c<code>true</code>\u3068<code>false</code>\u3092\u8fd4\u3059\u5834\u5408\u306b\u5165\u529b\u3092\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u3057\u307e\u3059\uff1a</p> <pre><code>&lt;?php\nclass A {\n    public function isValid() : bool {\n        return (bool) rand(0, 1);\n    }\n}\n\nclass B extends A {\n    public function bar() : void {}\n}\n\n/** \n * @psalm-assert-if-true B $a\n */\nfunction isValidB(A $a) : bool {\n    return $a instanceof B &amp;&amp; $a-&gt;isValid();\n}\n\n/** \n * @psalm-assert-if-false B $a\n */\nfunction isInvalidB(A $a) : bool {\n    return !$a instanceof B || !$a-&gt;isValid();\n}\n\nfunction takesA(A $a) : void {\n    if (isValidB($a)) {\n        $a-&gt;bar();\n    }\n\n    if (isInvalidB($a)) {\n        // \u4f55\u304b\u3092\u884c\u3046\n    } else {\n        $a-&gt;bar();\n    }\n\n    $a-&gt;bar(); // \u30a8\u30e9\u30fc\n}\n</code></pre> <p>\u4e0e\u3048\u3089\u308c\u305f\u30c7\u30fc\u30bf\u304c\u7279\u5b9a\u306e\u578b\u3067\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3053\u3068\u3092Psalm\u306b\u7406\u89e3\u3055\u305b\u308b\u3060\u3051\u3067\u306a\u304f\u3001\u5909\u6570\u304cnull\u3067\u306a\u3044\u3053\u3068\u3082\u793a\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>&lt;?php\n/** \n * @psalm-assert !null $value\n */\nfunction assertNotNull($value): void {\n  // $value\u304cnull\u3067\u306a\u3044\u5834\u5408\u306b\u306e\u307f\u30e1\u30bd\u30c3\u30c9\u304c\u5b8c\u4e86\u3059\u308b\u3088\u3046\u306a\u30c1\u30a7\u30c3\u30af\n}\n</code></pre> <p>\u305d\u3057\u3066\u3001null\u5024\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>&lt;?php\n/** \n * @psalm-assert-if-true null $value\n */\nfunction isNull($value): bool {\n  return ($value === null);\n}\n</code></pre>"},{"location":"annotating_code/adding_assertions/#_3","title":"\u30e1\u30bd\u30c3\u30c9\u306e\u623b\u308a\u5024\u306e\u30a2\u30b5\u30fc\u30c8","text":"<p><code>@psalm-assert-if-true</code>\u3068<code>@psalm-assert-if-false</code>\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u3066\u3001\u30af\u30e9\u30b9\u5185\u306e\u30e1\u30bd\u30c3\u30c9\u306e\u623b\u308a\u5024\u3092\u30a2\u30b5\u30fc\u30c8\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u3054\u89a7\u306e\u3088\u3046\u306b\u3001Psalm\u306f\u540c\u3058DocBlock\u5185\u3067\u8907\u6570\u306e\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u8a31\u53ef\u3057\u3066\u3044\u307e\u3059\uff1a</p> <pre><code>&lt;?php\nclass Result {\n    /**\n     * @var ?Exception\n     */\n    private $exception;\n\n    /**\n     * @psalm-assert-if-true Exception $this-&gt;exception\n     * @psalm-assert-if-true Exception $this-&gt;getException()\n     */\n    public function hasException(): bool {\n        return $this-&gt;exception !== null;\n    }\n\n    public function getException(): ?Exception {\n        return $this-&gt;exception;\n    }\n\n    public function foo(): void {\n        if( $this-&gt;hasException() ) {\n            // Psalm\u306f$this-&gt;exception\u304cException\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3067\u3042\u308b\u3053\u3068\u3092\u77e5\u3063\u3066\u3044\u307e\u3059\n            echo $this-&gt;exception-&gt;getMessage();\n        }\n    }\n}\n\n$result = new Result;\nif( $result-&gt;hasException() ) {\n    // Psalm\u306f$result-&gt;getException()\u304cException\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u8fd4\u3059\u3053\u3068\u3092\u77e5\u3063\u3066\u3044\u307e\u3059\n    echo $result-&gt;getException()-&gt;getMessage();\n}\n</code></pre> <p>\u6ce8\u610f\uff1a\u4e0a\u306e\u4f8b\u306f\u3001\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3067\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u306e\u30e1\u30e2\u5316\u3092\u6709\u52b9\u306b\u3059\u308b\u304b\u3001\u30af\u30e9\u30b9\u3092\u4e0d\u5909\u3068\u3057\u3066\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u308b\u5834\u5408\u306b\u306e\u307f\u6a5f\u80fd\u3057\u307e\u3059\u3002</p> <p><code>@psalm-this-out</code>\u3092\u4f7f\u7528\u3057\u3066\u3001\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u5f8c\u306e\u30e1\u30bd\u30c3\u30c9\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5f15\u6570\u3092\u5909\u66f4\u3057\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u5185\u90e8\u72b6\u614b\u306e\u5909\u66f4\u3092\u53cd\u6620\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u307e\u305f\u3001<code>@psalm-if-this-is</code>\u3092\u4f7f\u7528\u3057\u3066\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5f15\u6570\u306b\u95a2\u3059\u308b\u30a2\u30b5\u30fc\u30b7\u30e7\u30f3\u3092\u884c\u3046\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/** \n * @template T\n */\nclass a {\n    /**\n     * @var list&lt;T&gt;\n     */\n    private array $data;\n\n    /**\n     * @param T $data\n     */\n    public function __construct($data) {\n        $this-&gt;data = [$data];\n    }\n\n    /**\n     * @template NewT\n     * \n     * @param NewT $data\n     * \n     * @psalm-this-out self&lt;T|NewT&gt;\n     * \n     * @return void\n     */\n    public function addData($data) {\n        /** @var self&lt;T|NewT&gt; $this */\n        $this-&gt;data []= $data;\n    }\n\n    /**\n     * @template NewT\n     * \n     * @param NewT $data\n     * \n     * @psalm-this-out self&lt;NewT&gt;\n     * \n     * @return void\n     */\n    public function setData($data) {\n        /** @var self&lt;NewT&gt; $this */\n        $this-&gt;data = [$data];\n    }\n\n    /**\n     * @psalm-if-this-is a&lt;int&gt;\n     */\n    public function test(): void {\n    }\n}\n\n$i = new a(123);\n// OK - $i \u306f a&lt;123&gt; \u3067\u3059\n$i-&gt;test();\n\n$i-&gt;addData(321);\n// OK - $i \u306f a&lt;123|321&gt; \u3067\u3059\n$i-&gt;test();\n\n$i-&gt;setData(\"test\");\n// IfThisIsMismatch - \u30af\u30e9\u30b9\u306f psalm-if-this-is \u3067\u8981\u6c42\u3055\u308c\u308b a&lt;int&gt; \u3067\u306f\u3042\u308a\u307e\u305b\u3093\n$i-&gt;test();\n</code></pre>"},{"location":"annotating_code/assertion_syntax/","title":"\u30a2\u30b5\u30fc\u30b7\u30e7\u30f3\u69cb\u6587","text":"<p>Psalm\u306e\u30a2\u30b5\u30fc\u30b7\u30e7\u30f3\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306f\u3001\u3055\u307e\u3056\u307e\u306a\u30a2\u30b5\u30fc\u30b7\u30e7\u30f3\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002</p> <p>Psalm\u306e\u30a2\u30b5\u30fc\u30b7\u30e7\u30f3\u306f\u4ee5\u4e0b\u306e\u5f62\u5f0f\u3092\u53d6\u308a\u307e\u3059\uff1a <code>@psalm-assert(-if-true|-if-false)? (Assertion) (Variable or Property)</code></p> <p>\u3053\u3053\u3067\u306e<code>Assertion</code>\u306b\u306f\u591a\u304f\u306e\u5f62\u5f0f\u304c\u3042\u308a\u307e\u3059\uff1a</p>"},{"location":"annotating_code/assertion_syntax/#_2","title":"\u901a\u5e38\u306e\u30a2\u30b5\u30fc\u30b7\u30e7\u30f3","text":""},{"location":"annotating_code/assertion_syntax/#is_xxx","title":"is_xxx \u30a2\u30b5\u30fc\u30b7\u30e7\u30f3","text":"<p>\u307b\u3068\u3093\u3069\u306e<code>is_xxx</code> PHP\u95a2\u6570\u306b\u306f\u3001\u4f8b\u3048\u3070<code>is_int</code>\u306b\u5bfe\u3059\u308b<code>int</code>\u306e\u3088\u3046\u306a\u5bfe\u5fdc\u3059\u308b\u30a2\u30b5\u30fc\u30b7\u30e7\u30f3\u304c\u3042\u308a\u307e\u3059\u3002\u4ee5\u4e0b\u306f\u5b8c\u5168\u306a\u30ea\u30b9\u30c8\u3067\u3059\uff1a</p> <ul> <li><code>int</code></li> <li><code>float</code></li> <li><code>string</code></li> <li><code>bool</code></li> <li><code>scalar</code></li> <li><code>callable</code></li> <li><code>countable</code></li> <li><code>array</code></li> <li><code>iterable</code></li> <li><code>numeric</code></li> <li><code>resource</code></li> <li><code>object</code></li> <li><code>null</code></li> </ul> <p>\u3057\u305f\u304c\u3063\u3066\u3001\u30ab\u30b9\u30bf\u30e0\u30d0\u30fc\u30b8\u30e7\u30f3\u306e<code>is_int</code>\u306f\u3001Psalm\u3067\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>&lt;?php\n/** @psalm-assert-if-true int $x */\nfunction custom_is_int($x) {\n  return is_int($x);\n}\n</code></pre>"},{"location":"annotating_code/assertion_syntax/#_3","title":"\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u578b\u30a2\u30b5\u30fc\u30b7\u30e7\u30f3","text":"<p>\u4efb\u610f\u306e\u30af\u30e9\u30b9\u3092\u30a2\u30b5\u30fc\u30b7\u30e7\u30f3\u3068\u3057\u3066\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002\u4f8b\uff1a <code>@psalm-assert SomeObjectType $foo</code></p>"},{"location":"annotating_code/assertion_syntax/#_4","title":"\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u30a2\u30b5\u30fc\u30b7\u30e7\u30f3","text":"<p>\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u3082\u30a2\u30b5\u30fc\u30c8\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u4f8b\uff1a <code>@psalm-assert array&lt;int, string&gt; $foo</code></p>"},{"location":"annotating_code/assertion_syntax/#_5","title":"\u5426\u5b9a\u30a2\u30b5\u30fc\u30b7\u30e7\u30f3","text":"<p>\u4e0a\u8a18\u306e\u3069\u306e\u30a2\u30b5\u30fc\u30b7\u30e7\u30f3\u3082\u5426\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff1a</p> <p>\u3053\u308c\u306f<code>$foo</code>\u304c<code>int</code>\u3067\u306f\u306a\u3044\u3053\u3068\u3092\u30a2\u30b5\u30fc\u30c8\u3057\u307e\u3059\uff1a</p> <pre><code>&lt;?php\n/** @psalm-assert !int $foo */\n</code></pre> <p>\u3053\u308c\u306f<code>$bar</code>\u304c<code>SomeObjectType</code>\u578b\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u306f\u306a\u3044\u3053\u3068\u3092\u30a2\u30b5\u30fc\u30c8\u3057\u307e\u3059\uff1a</p> <pre><code>&lt;?php\n/** @psalm-assert !SomeObjectType $bar  */\n</code></pre>"},{"location":"annotating_code/assertion_syntax/#_6","title":"\u30d6\u30fc\u30eb\u30a2\u30b5\u30fc\u30b7\u30e7\u30f3","text":"<p>\u3053\u308c\u306f<code>$bar</code>\u304c<code>true</code>\u3067\u3042\u308b\u3053\u3068\u3092\u30a2\u30b5\u30fc\u30c8\u3057\u307e\u3059\uff1a</p> <pre><code>&lt;?php\n/** @psalm-assert true $bar  */\n</code></pre> <p>\u3053\u308c\u306f<code>$bar</code>\u304c<code>false</code>\u3067\u306f\u306a\u3044\u3053\u3068\u3092\u30a2\u30b5\u30fc\u30c8\u3057\u307e\u3059\uff1a</p> <pre><code>&lt;?php\n/** @psalm-assert !false $bar  */\n</code></pre>"},{"location":"annotating_code/assertion_syntax/#_7","title":"\u7b49\u4fa1\u6027\u30a2\u30b5\u30fc\u30b7\u30e7\u30f3","text":"<p>Psalm\u306f<code>assert($some_int === $other_int)</code>\u3068\u540c\u7b49\u306e\u3082\u306e\u3092\u4ee5\u4e0b\u306e\u5f62\u5f0f\u3067\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\uff1a</p> <pre><code>&lt;?php\n/** @psalm-assert =int $some_int */\n</code></pre> <p>\u4ee5\u4e0b\u306e\u30a2\u30b5\u30fc\u30b7\u30e7\u30f3\u3068\u306e\u9593\u306b\u306f2\u3064\u306e\u9055\u3044\u304c\u3042\u308a\u307e\u3059\uff1a</p> <pre><code>&lt;?php\n/** @psalm-assert int $some_int */\n</code></pre> <p>\u307e\u305a\u3001<code>=int</code>\u306e\u5426\u5b9a\u306b\u306f\u610f\u5473\u304c\u3042\u308a\u307e\u305b\u3093\uff1a</p> <pre><code>&lt;?php\n/** @psalm-assert-if-true =int $x */\nfunction equalsFive($x) {\n  return is_int($x) &amp;&amp; $x === 5;\n}\n\nfunction foo($y) : void {\n  if (equalsFive($y)) {\n    // $y\u306f\u78ba\u5b9f\u306bint\u3067\u3059\n  } else {\n    // $y\u306fint\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u304c\u3001\u305d\u3046\u3067\u306a\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\n  }\n}\n\nfunction bar($y) : void {\n  if (is_int($y)) {\n    // $y\u306f\u78ba\u5b9f\u306bint\u3067\u3059\n  } else {\n    // $y\u306f\u78ba\u5b9f\u306bint\u3067\u306f\u3042\u308a\u307e\u305b\u3093\n  }\n}\n</code></pre> <p>\u6b21\u306b\u3001<code>equalsFive($some_int)</code>\u3092\u547c\u3073\u51fa\u3059\u3053\u3068\u306f\u3001Psalm\u3067\u306f<code>RedundantCondition</code>\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u3001<code>is_int($some_int)</code>\u3092\u547c\u3073\u51fa\u3059\u3053\u3068\u306f<code>RedundantCondition</code>\u3067\u3059\u3002</p>"},{"location":"annotating_code/hello/","title":"Hello","text":"<p>Hello</p>"},{"location":"annotating_code/supported_annotations/","title":"\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308bdocblock\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3","text":"<p>Psalm\u306f\u5e45\u5e83\u3044docblock\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"annotating_code/supported_annotations/#phpdoc","title":"PHPDoc\u30bf\u30b0","text":"<p>Psalm\u306f\u30b3\u30fc\u30c9\u3092\u7406\u89e3\u3059\u308b\u305f\u3081\u306b\u4ee5\u4e0b\u306ePHPDoc\u30bf\u30b0\u3092\u4f7f\u7528\u3057\u307e\u3059\uff1a</p> <ul> <li><code>@var</code>   \u30d7\u30ed\u30d1\u30c6\u30a3\u3068\u5909\u6570\u306e\u578b\u3092\u6307\u5b9a\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059</li> <li><code>@return</code>   \u95a2\u6570\u3001\u30e1\u30bd\u30c3\u30c9\u3001\u30af\u30ed\u30fc\u30b8\u30e3\u306e\u623b\u308a\u5024\u306e\u578b\u3092\u6307\u5b9a\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059</li> <li><code>@param</code>   \u95a2\u6570\u3001\u30e1\u30bd\u30c3\u30c9\u3001\u30af\u30ed\u30fc\u30b8\u30e3\u306b\u6e21\u3055\u308c\u308b\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u578b\u3092\u6307\u5b9a\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059</li> <li><code>@property</code> <code>__get</code>\u3068<code>__set</code>\u3092\u4f7f\u7528\u3059\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u30a2\u30af\u30bb\u30b9\u53ef\u80fd\u306a\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u6307\u5b9a\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059</li> <li><code>@property-read</code> <code>__get</code>\u3092\u4f7f\u7528\u3059\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u8aad\u307f\u53d6\u308a\u53ef\u80fd\u306a\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u6307\u5b9a\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059</li> <li><code>@property-write</code> <code>__set</code>\u3092\u4f7f\u7528\u3059\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u66f8\u304d\u8fbc\u307f\u53ef\u80fd\u306a\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u6307\u5b9a\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059</li> <li><code>@method</code> <code>__call</code>\u3092\u4f7f\u7528\u3059\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u5229\u7528\u53ef\u80fd\u306a\u30de\u30b8\u30c3\u30af\u30e1\u30bd\u30c3\u30c9\u3092\u6307\u5b9a\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059</li> <li><code>@deprecated</code>   \u95a2\u6570\u3001\u30e1\u30bd\u30c3\u30c9\u3001\u30af\u30e9\u30b9\u3001\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u304c\u975e\u63a8\u5968\u3067\u3042\u308b\u3053\u3068\u3092\u30de\u30fc\u30af\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059</li> <li><code>@internal</code>   \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3084\u30e9\u30a4\u30d6\u30e9\u30ea\u5185\u90e8\u306e\u30af\u30e9\u30b9\u3001\u95a2\u6570\u3001\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u30de\u30fc\u30af\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059</li> <li><code>@mixin</code>   \u73fe\u5728\u306e\u30af\u30e9\u30b9\u304c\u53c2\u7167\u3055\u308c\u305f\u30af\u30e9\u30b9\u306e\u30e1\u30bd\u30c3\u30c9\u3068\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u30d7\u30ed\u30ad\u30b7\u3059\u308b\u3053\u3068\u3092Psalm\u306b\u4f1d\u3048\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059</li> </ul>"},{"location":"annotating_code/supported_annotations/#var","title":"<code>@var</code>\u30bf\u30b0\u306e\u975e\u6a19\u6e96\u7684\u306a\u4f7f\u7528","text":"<p><code>@var</code>\u30bf\u30b0\u306f\u672c\u6765\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u306e\u307f\u4f7f\u7528\u3055\u308c\u308b\u3079\u304d\u3067\u3059\u3002Psalm\u306f\u3001PHPStorm\u3084\u305d\u306e\u4ed6\u306e\u9759\u7684\u89e3\u6790\u30c4\u30fc\u30eb\u306b\u5023\u3063\u3066\u3001<code>@var Type [VariableReference]</code>\u306e\u5f62\u5f0f\u3067\u30a4\u30f3\u30e9\u30a4\u30f3\u3067\u306e\u4f7f\u7528\u3092\u8a31\u53ef\u3057\u3066\u3044\u307e\u3059\u3002</p> <p><code>VariableReference</code>\u304c\u63d0\u4f9b\u3055\u308c\u308b\u5834\u5408\u3001\u305d\u308c\u306f<code>$variable</code>\u307e\u305f\u306f<code>$variable-&gt;property</code>\u306e\u5f62\u5f0f\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u4ee3\u5165\u306e\u4e0a\u3067\u4f7f\u7528\u3055\u308c\u308b\u5834\u5408\u3001Psalm\u306f<code>VariableReference</code>\u304c\u4ee3\u5165\u3055\u308c\u308b\u5909\u6570\u3068\u4e00\u81f4\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002\u305d\u308c\u3089\u304c\u7570\u306a\u308b\u5834\u5408\u3001Psalm\u306f<code>Type</code>\u3092<code>VariableReference</code>\u306b\u5272\u308a\u5f53\u3066\u3001\u4e0b\u306e\u5f0f\u3067\u4f7f\u7528\u3057\u307e\u3059\u3002</p> <p><code>VariableReference</code>\u304c\u4e0e\u3048\u3089\u308c\u306a\u3044\u5834\u5408\u3001\u3053\u306e\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306f\u5f0f\u306e\u53f3\u5074\uff08\u4ee3\u5165\u3067\u3042\u308c\u623b\u308a\u5024\u3067\u3042\u308c\uff09\u304c<code>Type</code>\u578b\u3067\u3042\u308b\u3053\u3068\u3092Psalm\u306b\u4f1d\u3048\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/** @var string */\n$a = $_GET['foo'];\n\n/** @var string $b */\n$b = $_GET['bar'];\n\nfunction bat(): string {\n    /** @var string */\n    return $_GET['bat'];\n}\n</code></pre>"},{"location":"annotating_code/supported_annotations/#mixins","title":"@mixins","text":"<p>\u30af\u30e9\u30b9\u306edocblock\u306b<code>@mixin</code>\u3092\u8ffd\u52a0\u3059\u308b\u3068\u3001\u305d\u306e\u30af\u30e9\u30b9\u304c\u53c2\u7167\u3055\u308c\u305f\u30af\u30e9\u30b9\u306e\u30e1\u30bd\u30c3\u30c9\u3068\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u30d7\u30ed\u30ad\u30b7\u3059\u308b\u3053\u3068\u3092Psalm\u306b\u4f1d\u3048\u307e\u3059\u3002</p> <pre><code>class A {\n    public string $a = 'A';\n\n    public function doA(): void\n    {\n    }\n}\n\n/** \n * @mixin A \n */\nclass B {\n    public string $b = 'B';\n\n    public function doB(): void\n    {\n    }\n\n    public function __call($name, $arguments)\n    {\n        (new A())-&gt;$name(...$arguments);\n    }\n\n    public function __get($name)\n    {\n        return (new A())-&gt;$name;\n    }\n}\n\n$b = new B();\n$b-&gt;doB();\n$b-&gt;doA(); // \u52d5\u4f5c\u3057\u307e\u3059\necho $b-&gt;b;\necho $b-&gt;a; // \u52d5\u4f5c\u3057\u307e\u3059\n</code></pre>"},{"location":"annotating_code/supported_annotations/#psalm","title":"Psalm\u56fa\u6709\u306e\u30bf\u30b0","text":"<p>\u30b3\u30fc\u30c9\u3092Psalm\u304c\u3069\u306e\u3088\u3046\u306b\u6271\u3046\u304b\u3092\u6c7a\u5b9a\u3059\u308b\u591a\u304f\u306e\u30ab\u30b9\u30bf\u30e0\u30bf\u30b0\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"annotating_code/supported_annotations/#psalm-consistent-constructor","title":"<code>@psalm-consistent-constructor</code>","text":"<p>UnsafeInstantiation\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"annotating_code/supported_annotations/#psalm-consistent-templates","title":"<code>@psalm-consistent-templates</code>","text":"<p>UnsafeGenericInstantiation\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"annotating_code/supported_annotations/#param-out-psalm-param-out","title":"<code>@param-out</code>, <code>@psalm-param-out</code>","text":"<p>\u3053\u308c\u306f\u3001\u53c2\u7167\u6e21\u3057\u306e\u578b\u304c\u5165\u529b\u6642\u3068\u7570\u306a\u308b\u3053\u3068\u3092\u6307\u5b9a\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002\u4ee5\u4e0b\u306e\u95a2\u6570\u3067\u306f\u3001\u6700\u521d\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306fnull\u3067\u3042\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u95a2\u6570\u304c\u5b9f\u884c\u3055\u308c\u305f\u5f8c\u3001\u53c2\u7167\u6e21\u3057\u306e\u5024\u306fnull\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002</p> <pre><code>&lt;?php\n/** \n * @param-out string $s \n */\nfunction addFoo(?string &amp;$s) : void {\n    if ($s === null) {\n        $s = \"hello\";\n    }\n    $s .= \"foo\";\n}\n</code></pre>"},{"location":"annotating_code/supported_annotations/#psalm-var-psalm-param-psalm-return-psalm-property-psalm-property-read-psalm-property-write-psalm-method","title":"<code>@psalm-var</code>, <code>@psalm-param</code>, <code>@psalm-return</code>, <code>@psalm-property</code>, <code>@psalm-property-read</code>, <code>@psalm-property-write</code>, <code>@psalm-method</code>","text":"<p>phpDocumentor\u3067\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u306a\u3044\u5f62\u5f0f\uff08\u305f\u3060\u3057Psalm\u3067\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\uff09\u3067\u578b\u3092\u6307\u5b9a\u3059\u308b\u5834\u5408\u3001IDE\u3092\u6df7\u4e71\u3055\u305b\u306a\u3044\u3088\u3046\u306b<code>@psalm-</code>\u3092PHPDoc\u30bf\u30b0\u306e\u524d\u306b\u4ed8\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002<code>@psalm-</code>\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u4ed8\u304d\u306e\u30bf\u30b0\u304c\u4e0e\u3048\u3089\u308c\u305f\u5834\u5408\u3001Psalm\u306f\u305d\u308c\u3092\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u306a\u3057\u306e\u5bfe\u5fdc\u3059\u308b\u30bf\u30b0\u306e\u4ee3\u308f\u308a\u306b\u4f7f\u7528\u3057\u307e\u3059\u3002</p>"},{"location":"annotating_code/supported_annotations/#psalm-ignore-var","title":"<code>@psalm-ignore-var</code>","text":"<p>\u3053\u306e\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306f\u3001\u540c\u3058docblock\u306b\u66f8\u304b\u308c\u305f<code>@var</code>\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u7121\u8996\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002\u4e00\u90e8\u306eIDE\u306f\u3001\u30b8\u30a7\u30cd\u30ea\u30af\u30b9\u306e\u3088\u3046\u306a\u8907\u96d1\u306a\u578b\u3092\u5b8c\u5168\u306b\u306f\u7406\u89e3\u3057\u307e\u305b\u3093\u3002\u305d\u306e\u3088\u3046\u306aIDE\u306e\u81ea\u52d5\u88dc\u5b8c\u3092\u6d3b\u7528\u3059\u308b\u305f\u3081\u306b\u3001Psalm\u304c\u578b\u3092\u9069\u5207\u306b\u63a8\u8ad6\u3067\u304d\u308b\u5834\u5408\u3067\u3082\u3001\u660e\u793a\u7684\u306a<code>@var</code>\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u305f\u3044\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002\u591a\u304f\u306e\u5834\u5408\u3001\u660e\u793a\u7684\u306a<code>@var</code>\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u304cPsalm\u306e\u63a8\u8ad6\u3057\u305f\u578b\u3092\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3059\u308b\u305f\u3081\u3001\u3053\u308c\u306f\u578b\u30c1\u30a7\u30c3\u30af\u306e\u52b9\u679c\u3092\u5f31\u3081\u307e\u3059\u3002Psalm\u306f<code>@psalm-ignore-var</code>\u3068\u5171\u5b58\u3059\u308b<code>@var</code>\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u7121\u8996\u3059\u308b\u305f\u3081\u3001IDE\u306f\u81ea\u52d5\u88dc\u5b8c\u306e\u305f\u3081\u306b<code>@var</code>\u3067\u6307\u5b9a\u3055\u308c\u305f\u578b\u3092\u4f7f\u7528\u3067\u304d\u3001Psalm\u306f\u578b\u30c1\u30a7\u30c3\u30af\u306e\u305f\u3081\u306b\u72ec\u81ea\u306e\u63a8\u8ad6\u3057\u305f\u578b\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/** @return iterable&lt;array-key,\\DateTime&gt; */\nfunction getTimes(int $n): iterable {\n    while ($n--) {\n        yield new \\DateTime();\n    }\n};\n\n/** \n * @var \\Datetime[] $times\n * @psalm-ignore-var \n */\n$times = getTimes(3);\n// \u3053\u306e\u30c8\u30ec\u30fc\u30b9\u306f \"array&lt;array-key, Datetime&gt;\" \u3067\u306f\u306a\u304f \"iterable&lt;array-key, DateTime&gt;\" \u3092\u8868\u793a\u3057\u307e\u3059\n/** @psalm-trace $times */\nforeach ($times as $time) {\n    echo $time-&gt;format('Y-m-d H:i:s.u') . PHP_EOL;\n}\n</code></pre>"},{"location":"annotating_code/supported_annotations/#psalm-suppress-someissuename","title":"<code>@psalm-suppress SomeIssueName</code>","text":"<p>\u3053\u306e\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306f\u554f\u984c\u3092\u6291\u5236\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002\u95a2\u6570\u306edocblock\u3001\u30af\u30e9\u30b9\u306edocblock\u3001\u305d\u3057\u3066\u30a4\u30f3\u30e9\u30a4\u30f3\u3067\u3082\u4f7f\u7528\u3067\u304d\u3001\u6b21\u306e\u6587\u306b\u9069\u7528\u3055\u308c\u307e\u3059\u3002</p> <p>\u95a2\u6570\u306edocblock\u306e\u4f8b\uff1a</p> <pre><code>&lt;?php\n/** \n * @psalm-suppress PossiblyNullOperand \n */\nfunction addString(?string $s) {\n    echo \"hello \" . $s;\n}\n</code></pre> <p>\u30a4\u30f3\u30e9\u30a4\u30f3\u306e\u4f8b\uff1a</p> <pre><code>&lt;?php\nfunction addString(?string $s) {\n    /** @psalm-suppress PossiblyNullOperand */\n    echo \"hello \" . $s;\n}\n</code></pre> <p><code>@psalm-suppress all</code>\u3092\u4f7f\u7528\u3057\u3066\u3001\u500b\u5225\u306b\u30ea\u30b9\u30c8\u30a2\u30c3\u30d7\u3059\u308b\u4ee3\u308f\u308a\u306b\u3059\u3079\u3066\u306e\u554f\u984c\u3092\u6291\u5236\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"annotating_code/supported_annotations/#psalm-assert-psalm-assert-if-true-psalm-assert-if-false-psalm-if-this-is-psalm-this-out","title":"<code>@psalm-assert</code>, <code>@psalm-assert-if-true</code>, <code>@psalm-assert-if-false</code>, <code>@psalm-if-this-is</code> \u304a\u3088\u3073 <code>@psalm-this-out</code>","text":"<p>\u30a2\u30b5\u30fc\u30b7\u30e7\u30f3\u306e\u8ffd\u52a0\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"annotating_code/supported_annotations/#psalm-ignore-nullable-return","title":"<code>@psalm-ignore-nullable-return</code>","text":"<p>\u3053\u308c\u306f\u3001\u95a2\u6570/\u30e1\u30bd\u30c3\u30c9\u304cnull\u3092\u8fd4\u3059\u3053\u3068\u306b\u3064\u3044\u3066Psalm\u306b\u5fc3\u914d\u3055\u305b\u306a\u3044\u3088\u3046\u306b\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002\u5c11\u3057\u554f\u984c\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u975enull\u306e\u5024\u306b\u5bfe\u3057\u3066\u975e\u5e38\u306b\u9ad8\u3044\u78ba\u4fe1\u5ea6\u304c\u3042\u308b\u5834\u5408\u3084\u3001\u4ed6\u306e\u95a2\u6570\u304c\u305d\u306e\u7279\u5b9a\u306e\u30b3\u30fc\u30c9\u30d1\u30b9\u3067\u975enull\u306e\u5024\u3092\u4fdd\u8a3c\u3057\u3066\u3044\u308b\u5834\u5408\u306b\u6642\u3005\u4fbf\u5229\u3067\u3059\u3002</p> <pre><code>&lt;?php\nclass Foo {}\n\nfunction takesFoo(Foo $f): void {}\n\n/** @psalm-ignore-nullable-return */\nfunction getFoo(): ?Foo {\n  return rand(0, 10000) &gt; 1 ? new Foo() : null;\n}\n\ntakesFoo(getFoo());\n</code></pre>"},{"location":"annotating_code/supported_annotations/#psalm-ignore-falsable-return","title":"<code>@psalm-ignore-falsable-return</code>","text":"<p>\u3053\u308c\u306f<code>false</code>\u306b\u5bfe\u3057\u3066\u540c\u3058\u3053\u3068\u3092\u63d0\u4f9b\u3057\u307e\u3059\u304c\u3001Psalm\u306f\u5185\u90e8\u7684\u306b\u3053\u308c\u3092<code>preg_replace</code>\u306e\u3088\u3046\u306a\u95a2\u6570\u306b\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u95a2\u6570\u306f\u3001\u4e0e\u3048\u3089\u308c\u305f\u5165\u529b\u306b\u30a8\u30f3\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u30a8\u30e9\u30fc\u304c\u3042\u308b\u5834\u5408\u306bfalse\u3092\u8fd4\u3059\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u304c\u300199.9%\u306e\u5834\u5408\u3001\u95a2\u6570\u306f\u671f\u5f85\u901a\u308a\u306b\u52d5\u4f5c\u3057\u307e\u3059\u3002</p>"},{"location":"annotating_code/supported_annotations/#psalm-seal-properties-psalm-no-seal-properties-seal-properties-no-seal-properties","title":"<code>@psalm-seal-properties</code>, <code>@psalm-no-seal-properties</code>, <code>@seal-properties</code>, <code>@no-seal-properties</code>","text":"<p>\u30de\u30b8\u30c3\u30af\u30d7\u30ed\u30d1\u30c6\u30a3\u30b2\u30c3\u30bf\u30fc/\u30bb\u30c3\u30bf\u30fc\u304c\u3042\u308b\u5834\u5408\u3001<code>@psalm-seal-properties</code>\u3092\u4f7f\u7528\u3057\u3066\u3001<code>@property</code>\uff08\u307e\u305f\u306f<code>@property-read</code>/<code>@property-write</code>\uff09\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306e\u30ea\u30b9\u30c8\u306b\u542b\u307e\u308c\u3066\u3044\u306a\u3044\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u53d6\u5f97\u3068\u8a2d\u5b9a\u3092\u7981\u6b62\u3059\u308b\u3088\u3046Psalm\u306b\u6307\u793a\u3067\u304d\u307e\u3059\u3002</p> <p>\u3053\u308c\u306f\u8a2d\u5b9a\u30aa\u30d7\u30b7\u30e7\u30f3<code>sealAllProperties</code>\u3067\u81ea\u52d5\u7684\u306b\u6709\u52b9\u306b\u306a\u308a\u3001<code>@psalm-no-seal-properties</code>\u3092\u4f7f\u3063\u3066\u30af\u30e9\u30b9\u306b\u5bfe\u3057\u3066\u7121\u52b9\u306b\u3067\u304d\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/** \n * @property string $foo\n * @seal-properties \n */\nclass A {\n    public function __get(string $name): ?string {\n        if ($name === \"foo\") {\n            return \"hello\";\n        }\n    }\n\n    public function __set(string $name, $value): void {}\n}\n\n$a = new A();\n$a-&gt;bar = 5; // \u3053\u306e\u547c\u3073\u51fa\u3057\u306f\u5931\u6557\u3057\u307e\u3059\n</code></pre>"},{"location":"annotating_code/supported_annotations/#psalm-seal-methods-psalm-no-seal-methods-seal-methods-no-seal-methods","title":"<code>@psalm-seal-methods</code>, <code>@psalm-no-seal-methods</code>, <code>@seal-methods</code>, <code>@no-seal-methods</code>","text":"<p>\u30de\u30b8\u30c3\u30af\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u6a5f\u80fd\u304c\u3042\u308b\u5834\u5408\u3001<code>@psalm-seal-methods</code>\u3092\u4f7f\u7528\u3057\u3066\u3001<code>@method</code>\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306e\u30ea\u30b9\u30c8\u306b\u542b\u307e\u308c\u3066\u3044\u306a\u3044\u30e1\u30bd\u30c3\u30c9\u306e\u547c\u3073\u51fa\u3057\u3092\u7981\u6b62\u3059\u308b\u3088\u3046Psalm\u306b\u6307\u793a\u3067\u304d\u307e\u3059\u3002</p> <p>\u3053\u308c\u306f\u8a2d\u5b9a\u30aa\u30d7\u30b7\u30e7\u30f3<code>sealAllMethods</code>\u3067\u81ea\u52d5\u7684\u306b\u6709\u52b9\u306b\u306a\u308a\u3001<code>@psalm-no-seal-methods</code>\u3092\u4f7f\u3063\u3066\u30af\u30e9\u30b9\u306b\u5bfe\u3057\u3066\u7121\u52b9\u306b\u3067\u304d\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/** \n * @method foo(): string\n * @seal-methods \n */\nclass A {\n    public function __call(string $name, array $args) {\n        if ($name === \"foo\") {\n            return \"hello\";\n        }\n    }\n}\n\n$a = new A();\n$b = $a-&gt;bar(); // \u3053\u306e\u547c\u3073\u51fa\u3057\u306f\u5931\u6557\u3057\u307e\u3059\n</code></pre>"},{"location":"annotating_code/supported_annotations/#psalm-internal","title":"<code>@psalm-internal</code>","text":"<p>\u30af\u30e9\u30b9\u3001\u30d7\u30ed\u30d1\u30c6\u30a3\u3001\u307e\u305f\u306f\u95a2\u6570\u3092\u7279\u5b9a\u306e\u540d\u524d\u7a7a\u9593\u306b\u5185\u90e8\u7684\u306a\u3082\u306e\u3068\u3057\u3066\u30de\u30fc\u30af\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002Psalm\u306f\u3053\u308c\u3092PHPDoc\u306e<code>@internal</code>\u30bf\u30b0\u3068\u306f\u5c11\u3057\u7570\u306a\u308b\u65b9\u6cd5\u3067\u6271\u3044\u307e\u3059\u3002<code>@internal</code>\u306e\u5834\u5408\u3001\u547c\u3073\u51fa\u3057\u30b3\u30fc\u30c9\u304c\u547c\u3073\u51fa\u3057\u30b3\u30fc\u30c9\u306e\u540d\u524d\u7a7a\u9593\u3068\u5b8c\u5168\u306b\u7121\u95a2\u4fc2\u306a\u540d\u524d\u7a7a\u9593\u306b\u3042\u308b\u5834\u5408\uff08\u3064\u307e\u308a\u3001\u540d\u524d\u7a7a\u9593\u306e\u6700\u521d\u306e\u8981\u7d20\u3092\u5171\u6709\u3057\u3066\u3044\u306a\u3044\u5834\u5408\uff09\u306b\u554f\u984c\u304c\u767a\u751f\u3057\u307e\u3059\u3002</p> <p>\u5bfe\u7167\u7684\u306b\u3001<code>@psalm-internal</code>\u306e\u5834\u5408\u3001docblock\u306e\u884c\u3067\u540d\u524d\u7a7a\u9593\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u547c\u3073\u51fa\u3057\u30b3\u30fc\u30c9\u304c\u6307\u5b9a\u3055\u308c\u305f\u540d\u524d\u7a7a\u9593\u5185\u306b\u306a\u3044\u5834\u5408\u306b\u554f\u984c\u304c\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nnamespace A\\B {\n    /**\n     * @internal\n     * @psalm-internal A\\B\n     */\n    class Foo { }\n}\n\nnamespace A\\B\\C {\n    class Bat {\n        public function batBat(): void {\n            $a = new \\A\\B\\Foo();  // \u3053\u308c\u306f\u554f\u984c\u3042\u308a\u307e\u305b\u3093\n        }\n    }\n}\n\nnamespace A\\C {\n    class Bat {\n        public function batBat(): void {\n            $a = new \\A\\B\\Foo();  // \u30a8\u30e9\u30fc\n        }\n    }\n}\n</code></pre>"},{"location":"annotating_code/supported_annotations/#psalm-readonly-readonly","title":"<code>@psalm-readonly</code> \u304a\u3088\u3073 <code>@readonly</code>","text":"<p>\u5b9a\u7fa9\u30af\u30e9\u30b9\u306e\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3067\u306e\u307f\u66f8\u304d\u8fbc\u307f\u53ef\u80fd\u306a\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass B {\n  /** @readonly */\n  public string $s;\n\n  public function __construct(string $s) {\n    $this-&gt;s = $s;\n  }\n}\n\n$b = new B(\"hello\");\necho $b-&gt;s;\n$b-&gt;s = \"boo\"; // \u8a31\u53ef\u3055\u308c\u307e\u305b\u3093\n</code></pre>"},{"location":"annotating_code/supported_annotations/#psalm-mutation-free","title":"<code>@psalm-mutation-free</code>","text":"<p>\u30af\u30e9\u30b9\u306e\u30b9\u30b3\u30fc\u30d7\u5185\u5916\u3067\u72b6\u614b\u3092\u5909\u66f4\u3057\u306a\u3044\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9\u306b\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002 \u3053\u308c\u306f\u3001\u623b\u308a\u5024\u304c\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u306e\u307f\u4f9d\u5b58\u3059\u308b\u3053\u3068\u3092\u8981\u6c42\u3057\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001<code>random_int</code>\u306f\u4e71\u6570\u751f\u6210\u5668\u306e\u5185\u90e8\u72b6\u614b\u3092\u5909\u66f4\u3059\u308b\u305f\u3081\u3001\u3053\u3053\u3067\u306f\u5909\u66f4\u3068\u307f\u306a\u3055\u308c\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass D {\n  private string $s;\n\n  public function __construct(string $s) {\n    $this-&gt;s = $s;\n  }\n\n  /**\n   * @psalm-mutation-free\n   */\n  public function getShort() : string {\n    return substr($this-&gt;s, 0, 5);\n  }\n\n  /**\n   * @psalm-mutation-free\n   */\n  public function getShortMutating() : string {\n    $this-&gt;s .= \"hello\"; // \u3053\u308c\u306f\u30d0\u30b0\u3067\u3059\n    return substr($this-&gt;s, 0, 5);\n  }\n}\n</code></pre>"},{"location":"annotating_code/supported_annotations/#psalm-external-mutation-free","title":"<code>@psalm-external-mutation-free</code>","text":"<p>\u30af\u30e9\u30b9\u306e\u30b9\u30b3\u30fc\u30d7\u5916\u3067\u72b6\u614b\u3092\u5909\u66f4\u3057\u306a\u3044\u30af\u30e9\u30b9\u30e1\u30bd\u30c3\u30c9\u306b\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass E {\n  private string $s;\n\n  public function __construct(string $s) {\n    $this-&gt;s = $s;\n  }\n\n  /**\n   * @psalm-external-mutation-free\n   */\n  public function getShortMutating() : string {\n    $this-&gt;s .= \"hello\"; // \u3053\u308c\u306f\u554f\u984c\u3042\u308a\u307e\u305b\u3093\n    return substr($this-&gt;s, 0, 5);\n  }\n\n  /**\n   * @psalm-external-mutation-free\n   */\n  public function save() : void {\n    file_put_contents(\"foo.txt\", $this-&gt;s); // \u3053\u308c\u306f\u30d0\u30b0\u3067\u3059\n  }\n}\n</code></pre>"},{"location":"annotating_code/supported_annotations/#psalm-immutable","title":"<code>@psalm-immutable</code>","text":"<p>\u3059\u3079\u3066\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u304c\u6d88\u8cbb\u8005\u306b\u3088\u3063\u3066<code>@psalm-readonly</code>\u3068\u3057\u3066\u6271\u308f\u308c\u3001\u3059\u3079\u3066\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30e1\u30bd\u30c3\u30c9\u304c<code>@psalm-mutation-free</code>\u3068\u3057\u3066\u6271\u308f\u308c\u308b\u30af\u30e9\u30b9\u306b\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/** \n * @psalm-immutable \n */\nabstract class Foo {\n    public string $baz;\n    abstract public function bar(): int;\n}\n\n/** \n * @psalm-immutable \n */\nfinal class ChildClass extends Foo {\n    public function __construct(string $baz)\n    {\n        $this-&gt;baz = $baz;\n    }\n\n    public function bar(): int\n    {\n        return 0;\n    }\n}\n\n$anonymous = new /** @psalm-immutable */ class extends Foo {\n    public string $baz = \"B\";\n\n    public function bar(): int\n    {\n        return 1;\n    }\n};\n</code></pre>"},{"location":"annotating_code/supported_annotations/#psalm-pure","title":"<code>@psalm-pure</code>","text":"<p>\u7d14\u7c8b\u95a2\u6570 - \u305d\u306e\u51fa\u529b\u304c\u5165\u529b\u306e\u307f\u306e\u95a2\u6570\u3067\u3042\u308b\u3082\u306e - \u306b\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass Arithmetic {\n  /** @psalm-pure */\n  public static function add(int $left, int $right) : int {\n    return $left + $right;\n  }\n\n  /** @psalm-pure - \u3053\u308c\u306f\u9593\u9055\u3063\u3066\u3044\u307e\u3059 */\n  public static function addCumulative(int $left) : int {\n    /** @var int */\n    static $i = 0; // \u3053\u308c\u306f\u526f\u4f5c\u7528\u3067\u3042\u308a\u3001\u3057\u305f\u304c\u3063\u3066\u30d0\u30b0\u3067\u3059\n    $i += $left;\n    return $i;\n  }\n}\n\necho Arithmetic::add(40, 2);\necho Arithmetic::add(40, 2); // \u540c\u3058\u5024\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\necho Arithmetic::addCumulative(3); // 3\u3092\u51fa\u529b\u3057\u307e\u3059\necho Arithmetic::addCumulative(3); // 6\u3092\u51fa\u529b\u3057\u307e\u3059\n</code></pre> <p>\u4e00\u65b9\u3001<code>pure-callable</code>\u306f\u7d14\u7c8b\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3092\u793a\u3059\u305f\u3081\u306b\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002</p> <pre><code>/** \n * @param pure-callable(mixed): int $callback \n */\nfunction foo(callable $callback) {...}\n\n// \u3053\u308c\u306f\u5931\u6557\u3057\u307e\u3059\u3002random_int\u306f\u7d14\u7c8b\u3067\u306f\u306a\u3044\u305f\u3081\nfoo(\n    /** @param mixed $p */\n    fn($p) =&gt; random_int(1, 2)\n);\n</code></pre>"},{"location":"annotating_code/supported_annotations/#psalm-allow-private-mutation","title":"<code>@psalm-allow-private-mutation</code>","text":"<p>private\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3067\u5909\u66f4\u53ef\u80fd\u306a\u8aad\u307f\u53d6\u308a\u5c02\u7528\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001public\u30d7\u30ed\u30d1\u30c6\u30a3\u306f\u5225\u306e\u30af\u30e9\u30b9\u304b\u3089\u8aad\u307f\u53d6\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u304c\u3001\u81ea\u8eab\u306e\u30af\u30e9\u30b9\u306e\u30e1\u30bd\u30c3\u30c9\u5185\u3067\u306e\u307f\u5909\u66f4\u3067\u304d\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass Counter {\n  /**\n   * @readonly\n   * @psalm-allow-private-mutation\n   */\n  public int $count = 0;\n\n  public function increment() : void {\n    $this-&gt;count++;\n  }\n}\n\n$counter = new Counter();\necho $counter-&gt;count; // 0\u3092\u51fa\u529b\u3057\u307e\u3059\n$counter-&gt;increment(); // \u30e1\u30bd\u30c3\u30c9\u306f\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u5909\u66f4\u3067\u304d\u307e\u3059\necho $counter-&gt;count; // 1\u3092\u51fa\u529b\u3057\u307e\u3059\n$counter-&gt;count = 5; // \u3053\u308c\u306f\u5931\u6557\u3057\u307e\u3059\u3002\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u76f4\u63a5\u5909\u66f4\u3057\u3066\u3044\u308b\u305f\u3081\n</code></pre>"},{"location":"annotating_code/supported_annotations/#psalm-readonly-allow-private-mutation","title":"<code>@psalm-readonly-allow-private-mutation</code>","text":"<p>\u3053\u308c\u306f\u3001\u30d7\u30ed\u30d1\u30c6\u30a3\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3<code>@readonly</code>\u3068<code>@psalm-allow-private-mutation</code>\u306e\u7701\u7565\u5f62\u3067\u3059\u3002</p> <pre><code>&lt;?php\nclass Counter {\n  /**\n   * @psalm-readonly-allow-private-mutation\n   */\n  public int $count = 0;\n\n  public function increment() : void {\n    $this-&gt;count++;\n  }\n}\n\n$counter = new Counter();\necho $counter-&gt;count; // 0\u3092\u51fa\u529b\u3057\u307e\u3059\n$counter-&gt;increment(); // \u30e1\u30bd\u30c3\u30c9\u306f\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u5909\u66f4\u3067\u304d\u307e\u3059\necho $counter-&gt;count; // 1\u3092\u51fa\u529b\u3057\u307e\u3059\n$counter-&gt;count = 5; // \u3053\u308c\u306f\u5931\u6557\u3057\u307e\u3059\u3002\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u76f4\u63a5\u5909\u66f4\u3057\u3066\u3044\u308b\u305f\u3081\n</code></pre>"},{"location":"annotating_code/supported_annotations/#psalm-trace","title":"<code>@psalm-trace</code>","text":"<p>\u3053\u306e\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u3066\u3001\u63a8\u8ad6\u3055\u308c\u305f\u578b\u3092\u30c8\u30ec\u30fc\u30b9\u3067\u304d\u307e\u3059\uff08\u6b21\u306e\u6587\u306b\u9069\u7528\u3055\u308c\u307e\u3059\uff09\u3002</p> <pre><code>&lt;?php\n/** @psalm-trace $username */\n$username = $_GET['username']; // \"test.php:4 $username: mixed\" \u306e\u3088\u3046\u306a\u3082\u306e\u3092\u51fa\u529b\u3057\u307e\u3059\n</code></pre> <p>\u6ce8\u610f: \u3053\u308c\u306f\u7279\u5225\u306a\u4f4e\u30ec\u30d9\u30eb\u306e\u554f\u984c\u3092\u30b9\u30ed\u30fc\u3057\u307e\u3059\u3002 \u3053\u308c\u3092\u898b\u308b\u306b\u306f\u3001\u30b0\u30ed\u30fc\u30d0\u30eb\u306e<code>errorLevel</code>\u30921\u306b\u8a2d\u5b9a\u3059\u308b\u304b\u3001Psalm\u3092<code>--show-info=true</code>\u3067\u547c\u3073\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u304c\u3001\u3069\u3061\u3089\u306e\u89e3\u6c7a\u7b56\u3082\u591a\u304f\u306e\u51fa\u529b\u3092\u751f\u6210\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\u3082\u3046\u4e00\u3064\u306e\u89e3\u6c7a\u7b56\u306f\u3001\u554f\u984c\u306e\u30a8\u30e9\u30fc\u30ec\u30d9\u30eb\u3092\u9078\u629e\u7684\u306b\u4e0a\u3052\u3066\u30011\u3064\u3060\u3051\u4f59\u5206\u306a\u30a8\u30e9\u30fc\u3092\u5f97\u308b\u3053\u3068\u3067\u3059\uff1a</p> <pre><code>&lt;!-- psalm.xml --&gt;\n&lt;issueHandlers&gt;\n  &lt;Trace errorLevel=\"error\"/&gt;\n&lt;/issueHandlers&gt;\n</code></pre>"},{"location":"annotating_code/supported_annotations/#psalm-check-type","title":"<code>@psalm-check-type</code>","text":"<p>\u3053\u306e\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u3066\u3001\u63a8\u8ad6\u3055\u308c\u305f\u578b\u304c\u671f\u5f85\u3059\u308b\u3082\u306e\u3068\u4e00\u81f4\u3059\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/** @psalm-check-type $foo = int */\n$foo = 1; // \u554f\u984c\u306a\u3057\n\n/** @psalm-check-type $bar = int */\n$bar = \"not-an-int\"; // \u30c1\u30a7\u30c3\u30af\u3055\u308c\u305f\u5909\u6570 $bar = int \u306f $bar = 'not-an-int' \u3068\u4e00\u81f4\u3057\u307e\u305b\u3093\n</code></pre>"},{"location":"annotating_code/supported_annotations/#psalm-check-type-exact","title":"<code>@psalm-check-type-exact</code>","text":"<p><code>@psalm-check-type</code>\u3068\u540c\u69d8\u3067\u3059\u304c\u3001\u30b5\u30d6\u30bf\u30a4\u30d7\u3092\u8a31\u53ef\u305b\u305a\u306b\u5909\u6570\u306e\u6b63\u78ba\u306a\u578b\u3092\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/** @psalm-check-type-exact $foo = int */\n$foo = 1; // \u30c1\u30a7\u30c3\u30af\u3055\u308c\u305f\u5909\u6570 $foo = int \u306f $foo = 1 \u3068\u4e00\u81f4\u3057\u307e\u305b\u3093\n</code></pre>"},{"location":"annotating_code/supported_annotations/#psalm-taint-","title":"<code>@psalm-taint-*</code>","text":"<p>\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u5206\u6790\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"annotating_code/supported_annotations/#psalm-type","title":"<code>@psalm-type</code>","text":"<p>\u3053\u308c\u3092\u4f7f\u7528\u3057\u3066\u3001\u5225\u306e\u578b\u306e\u30a8\u30a4\u30ea\u30a2\u30b9\u3092\u5b9a\u7fa9\u3067\u304d\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/** \n * @psalm-type PhoneType = array{phone: string} \n */\nclass Phone {\n    /**\n     * @psalm-return PhoneType\n     */\n    public function toArray(): array {\n        return [\"phone\" =&gt; \"Nokia\"];\n    }\n}\n</code></pre>"},{"location":"annotating_code/supported_annotations/#psalm-import-type","title":"<code>@psalm-import-type</code>","text":"<p>\u3053\u306e\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u3066\u3001<code>@psalm-type</code>\u3067\u5b9a\u7fa9\u3055\u308c\u305f\u578b\u3092\u3001\u305d\u308c\u304c\u4ed6\u306e\u5834\u6240\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u306b\u30a4\u30f3\u30dd\u30fc\u30c8\u3067\u304d\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/** \n * @psalm-import-type PhoneType from Phone \n */\nclass User {\n    /**\n     * @psalm-return PhoneType\n     */\n    public function toArray(): array {\n        return array_merge([], (new Phone())-&gt;toArray());\n    }\n}\n</code></pre> <p>\u30a4\u30f3\u30dd\u30fc\u30c8\u6642\u306b\u578b\u306b\u30a8\u30a4\u30ea\u30a2\u30b9\u3092\u4ed8\u3051\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>&lt;?php\n/** \n * @psalm-import-type PhoneType from Phone as MyPhoneTypeAlias \n */\nclass User {\n    /**\n     * @psalm-return MyPhoneTypeAlias\n     */\n    public function toArray(): array {\n        return array_merge([], (new Phone())-&gt;toArray());\n    }\n}\n</code></pre>"},{"location":"annotating_code/supported_annotations/#psalm-require-extends","title":"<code>@psalm-require-extends</code>","text":"<p><code>@psalm-require-extends</code>\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001\u30c8\u30ec\u30a4\u30c8\u304c\u4f7f\u7528\u30af\u30e9\u30b9\u306b\u8ab2\u3059\u8981\u4ef6\u3092\u5b9a\u7fa9\u3067\u304d\u307e\u3059\u3002</p> <pre><code>&lt;?php\nabstract class DatabaseModel {\n  // \u30e1\u30bd\u30c3\u30c9\u3001\u30d7\u30ed\u30d1\u30c6\u30a3\u306a\u3069\n}\n\n/** \n * @psalm-require-extends DatabaseModel \n */\ntrait SoftDeletingTrait {\n  // \u6709\u7528\u3060\u304c\u3001\u30b9\u30b3\u30fc\u30d7\u304c\u9650\u5b9a\u3055\u308c\u305f\u6a5f\u80fd\u3002DatabaseModel\u306e\u30e1\u30bd\u30c3\u30c9/\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u4f9d\u5b58\u3057\u3066\u3044\u307e\u3059\n}\n\nclass MyModel extends DatabaseModel {\n  // \u6709\u52b9\n  use SoftDeletingTrait;\n}\n\nclass NormalClass {\n  // \u30a8\u30e9\u30fc\u3092\u30c8\u30ea\u30ac\u30fc\u3057\u307e\u3059\n  use SoftDeletingTrait;\n}\n</code></pre>"},{"location":"annotating_code/supported_annotations/#psalm-require-implements","title":"<code>@psalm-require-implements</code>","text":"<p><code>@psalm-require-extends</code>\u3068\u540c\u3058\u3088\u3046\u306b\u52d5\u4f5c\u3057\u307e\u3059\u304c\u3001\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306b\u5bfe\u3057\u3066\u3067\u3059\u3002</p>"},{"location":"annotating_code/supported_annotations/#no-named-arguments","title":"<code>@no-named-arguments</code>","text":"<p>\u3053\u308c\u306f\u3001\u540d\u524d\u4ed8\u304d\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u4f7f\u7528\u3057\u3066\u95a2\u6570\u3084\u30e1\u30bd\u30c3\u30c9\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u3092\u9632\u304e\u307e\u3059\uff08<code>NamedArgumentNotAllowed</code>\u554f\u984c\u3092\u767a\u751f\u3055\u305b\u307e\u3059\uff09\u3002 \u5076\u7136\u306b\u3082\u3001\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u306e\u63a8\u8ad6\u3055\u308c\u308b\u578b\u304c\u5909\u66f4\u3055\u308c\u307e\u3059\uff1a</p> <pre><code>&lt;?php\n    function a(int ...$a){\n        var_dump($a);\n    }\n</code></pre> <p><code>$a</code>\u306e\u578b\u306f<code>@no-named-arguments</code>\u304c\u306a\u3044\u5834\u5408\u306f<code>array&lt;array-key, int&gt;</code>\u3067\u3059\u304c\u3001\u305d\u308c\u304c\u3042\u308b\u5834\u5408\u306f<code>list&lt;int&gt;</code>\u306b\u306a\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u30d1\u30e9\u30e1\u30fc\u30bf\u540d\u3092\u6301\u3064\u6587\u5b57\u5217\u30aa\u30d5\u30bb\u30c3\u30c8\u306e\u30b1\u30fc\u30b9\u3092\u9664\u5916\u3059\u308b\u305f\u3081\u3067\u3059\u3002</p>"},{"location":"annotating_code/supported_annotations/#psalm-ignore-variable-property-psalm-ignore-variable-method","title":"<code>@psalm-ignore-variable-property</code> \u304a\u3088\u3073 <code>@psalm-ignore-variable-method</code>","text":"<p>\u30c7\u30c3\u30c9\u30b3\u30fc\u30c9\u3092\u63a2\u3059\u969b\u306b\u5909\u6570\u30d7\u30ed\u30d1\u30c6\u30a3\u30d5\u30a7\u30c3\u30c1 / \u5909\u6570\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u3092\u7121\u8996\u3059\u308b\u3088\u3046Psalm\u306b\u6307\u793a\u3057\u307e\u3059\u3002</p> <pre><code>class Foo {\n    // \u3053\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u306fPsalter\u306b\u3088\u3063\u3066\u524a\u9664\u3055\u308c\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\n    // get()\u5185\u306e\u6f5c\u5728\u7684\u306a\u53c2\u7167\u306f\u7121\u8996\u3055\u308c\u308b\u305f\u3081\n    public string $bar = 'bar';\n\n    public function get(string $name): mixed\n    {\n        /** @psalm-ignore-variable-property */\n        return $this-&gt;{$name};\n    }\n}\n</code></pre> <p>Psalm\u304c\u5909\u6570\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u906d\u9047\u3057\u305f\u5834\u5408\u3001\u4e0e\u3048\u3089\u308c\u305f\u30af\u30e9\u30b9\u5185\u306e\u3059\u3079\u3066\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u304c\u6f5c\u5728\u7684\u306b\u53c2\u7167\u3055\u308c\u3066\u3044\u308b\u3082\u306e\u3068\u3057\u3066\u6271\u3044\u307e\u3059\u3002 <code>@psalm-ignore-variable-property</code>\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001\u3053\u306e\u53c2\u7167\u306f\u7121\u8996\u3055\u308c\u307e\u3059\u3002 \u4e21\u65b9\u306e\u30b1\u30fc\u30b9\u3067<code>PossiblyUnusedProperty</code>\u304c\u767a\u751f\u3057\u307e\u3059\u304c\u3001<code>@psalm-ignore-variable-property</code>\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001Psalter\u304c<code>Foo::$bar</code>\u3092\u524a\u9664\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p> <p><code>@psalm-ignore-variable-method</code>\u306f\u540c\u3058\u3088\u3046\u306b\u52d5\u4f5c\u3057\u307e\u3059\u304c\u3001\u5909\u6570\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u306b\u5bfe\u3057\u3066\u3067\u3059\u3002</p>"},{"location":"annotating_code/supported_annotations/#psalm-yield","title":"<code>@psalm-yield</code>","text":"<p>\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u304c\u4ed8\u3051\u3089\u308c\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u304cyield\u3055\u308c\u305f\u3068\u304d\u306b\u3001\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u306b\u9001\u308a\u8fd4\u3055\u308c\u308b\u5024\u306e\u578b\u3092\u6307\u5b9a\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/** \n * @template-covariant TValue\n * @psalm-yield TValue\n */\ninterface Promise {}\n\n/** \n * @template-covariant TValue\n * @template-implements Promise&lt;TValue&gt;\n */\nclass Success implements Promise {\n    /**\n     * @psalm-param TValue $value\n     */\n    public function __construct($value) {}\n}\n\n/** \n * @return Promise&lt;string&gt;\n */\nfunction fetch(): Promise {\n    return new Success('{\"data\":[]}');\n}\n\nfunction (): Generator {\n    $data = yield fetch();\n\n    // \u3053\u308c\u306f\u554f\u984c\u3042\u308a\u307e\u305b\u3093\u3002Psalm\u306f$data\u304c\u6587\u5b57\u5217\u3067\u3042\u308b\u3053\u3068\u3092\u77e5\u3063\u3066\u3044\u307e\u3059\n    return json_decode($data);\n};\n</code></pre> <p>\u3053\u306e\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306f\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u578b\u306e\u307f\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\u3064\u307e\u308a\u3001\u4f8b\u3048\u3070<code>@psalm-yield string</code>\u306f\u7121\u8996\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"annotating_code/supported_annotations/#api-psalm-api","title":"<code>@api</code>, <code>@psalm-api</code>","text":"<p>\u30af\u30e9\u30b9\u3084\u30e1\u30bd\u30c3\u30c9\u304c\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092Psalm\u306b\u4f1d\u3048\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u30b3\u30fc\u30c9\u5185\u306b\u660e\u793a\u7684\u306a\u53c2\u7167\u304c\u898b\u3064\u304b\u3089\u306a\u3044\u5834\u5408\u3067\u3082\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002\u672a\u4f7f\u7528\u306e\u554f\u984c\u306f\u6291\u5236\u3055\u308c\u307e\u3059\u3002</p> <p>\u4f8b\u3048\u3070\u3001\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u306f\u3001\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u306f\u3057\u3070\u3057\u3070\u300c\u9b54\u6cd5\u306e\u3088\u3046\u306b\u300d\u547c\u3073\u51fa\u3055\u308c\u3001\u30b3\u30fc\u30c9\u5185\u306b\u660e\u793a\u7684\u306a\u53c2\u7167\u304c\u3042\u308a\u307e\u305b\u3093\u3002\u3053\u308c\u3089\u306e\u30af\u30e9\u30b9\u306b\u306f<code>@psalm-api</code>\u3092\u30de\u30fc\u30af\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>/** \n * @psalm-api \n */\nclass UnreferencedClass {}\n</code></pre>"},{"location":"annotating_code/supported_annotations/#psalm-inheritors","title":"<code>@psalm-inheritors</code>","text":"<p>\u30af\u30e9\u30b9\u304c\u7279\u5b9a\u306e\u30b5\u30d6\u30bb\u30c3\u30c8\u306e\u30af\u30e9\u30b9\u306b\u3088\u3063\u3066\u306e\u307f\u62e1\u5f35\u3067\u304d\u308b\u3053\u3068\u3092Psalm\u306b\u4f1d\u3048\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002</p> <p>\u4f8b\u3048\u3070\u3001</p> <pre><code>&lt;?php\n/** \n * @psalm-inheritors FooClass|BarClass \n */\nclass BaseClass {}\n\nclass FooClass extends BaseClass {}\nclass BarClass extends BaseClass {}\nclass BazClass extends BaseClass {} // \u3053\u308c\u306f\u30a8\u30e9\u30fc\u3067\u3059\n</code></pre>"},{"location":"annotating_code/templated_annotations/","title":"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5316\u3055\u308c\u305f\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3","text":"<p>Docblock\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001\u30b3\u30fc\u30c9\u306e\u52d5\u4f5c\u306b\u95a2\u3059\u308b\u7c21\u5358\u306a\u60c5\u5831\u3092Psalm\u306b\u4f1d\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u95a2\u6570\u306e\u623b\u308a\u5024\u306e\u578b\u3067 <code>@return int</code> \u3092\u4f7f\u7528\u3059\u308b\u3068\u3001\u305d\u306e\u95a2\u6570\u304c <code>int</code> \u3092\u8fd4\u3059\u3079\u304d\u3067\u3042\u308b\u3053\u3068\u3092Psalm\u306b\u4f1d\u3048\u307e\u3059\u3002\u540c\u69d8\u306b\u3001<code>@return MyContainer</code> \u306f\u3001\u95a2\u6570\u304c\u30e6\u30fc\u30b6\u30fc\u5b9a\u7fa9\u30af\u30e9\u30b9 <code>MyContainer</code> \u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u8fd4\u3059\u3079\u304d\u3067\u3042\u308b\u3053\u3068\u3092\u793a\u3057\u307e\u3059\u3002\u3044\u305a\u308c\u306e\u5834\u5408\u3082\u3001Psalm\u306f\u95a2\u6570\u304c\u5b9f\u969b\u306b\u305d\u308c\u3089\u306e\u578b\u3092\u8fd4\u3057\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u3092\u30c1\u30a7\u30c3\u30af\u3057\u3001\u3055\u3089\u306b\u305d\u306e\u95a2\u6570\u3092\u547c\u3073\u51fa\u3059\u30b3\u30fc\u30c9\u304c\u8fd4\u3055\u308c\u308b\u5024\u3092\u9069\u5207\u306b\u4f7f\u7528\u3057\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u3082\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002</p> <p>\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5316\u3055\u308c\u305f\u578b\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001\u30b3\u30fc\u30c9\u306e\u52d5\u4f5c\u306b\u3064\u3044\u3066\u3055\u3089\u306b\u591a\u304f\u306e\u60c5\u5831\u3092Psalm\u306b\u4f1d\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u7c21\u5358\u306a\u30af\u30e9\u30b9 <code>MyContainer</code> \u3092\u898b\u3066\u307f\u307e\u3057\u3087\u3046\uff1a</p> <pre><code>&lt;?php\nclass MyContainer {\n  private $value;\n  public function __construct($value) {\n    $this-&gt;value = $value;\n  }\n  public function getValue() {\n    return $this-&gt;value;\n  }\n}\n</code></pre> <p>Psalm\u304c <code>$my_container-&gt;getValue()</code> \u306e\u623b\u308a\u5024\u306e\u578b\u3092\u51e6\u7406\u3059\u308b\u969b\u3001\u5024\u304c\u4efb\u610f\u306e\u3082\u306e\u306b\u306a\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u305f\u3081\u3001\u4f55\u304c\u53d6\u5f97\u3055\u308c\u308b\u304b\u308f\u304b\u308a\u307e\u305b\u3093\u3002</p> <p>\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5316\u3055\u308c\u305f\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306f\u3001\u3053\u306e\u554f\u984c\u306e\u89e3\u6c7a\u7b56\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002<code>MyContainer</code> \u5185\u306e\u5024\u306e\u30d7\u30ec\u30fc\u30b9\u30db\u30eb\u30c0\u30fc\u3068\u3057\u3066\u3001\u30b8\u30a7\u30cd\u30ea\u30c3\u30af/\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5316\u3055\u308c\u305f\u30d1\u30e9\u30e1\u30fc\u30bf <code>T</code> \u3092\u5b9a\u7fa9\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>&lt;?php\n/** \n * @template T \n */\nclass MyContainer {\n  /** @var T */\n  private $value;\n\n  /** @param T $value */\n  public function __construct($value) {\n    $this-&gt;value = $value;\n  }\n\n  /** @return T */\n  public function getValue() {\n    return $this-&gt;value;\n  }\n}\n</code></pre> <p>\u3053\u308c\u3067\u3001docblock\u3067 <code>MyContainer</code> \u3092\u53c2\u7167\u3059\u308b\u969b\u306b\u3001\u305d\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5316\u3055\u308c\u305f\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u5024\u3092\u4ee3\u5165\u3067\u304d\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001<code>@return MyContainer&lt;int&gt;</code> \u3068\u8a18\u8ff0\u3059\u308b\u3053\u3068\u3067\u3001Psalm\u306f\u305d\u306e\u623b\u308a\u5024\u306e\u578b\u3092\u8a55\u4fa1\u3059\u308b\u969b\u306b <code>T</code> \u3092 <code>int</code> \u306b\u7f6e\u304d\u63db\u3048\u307e\u3059\u3002\u3053\u308c\u306f\u5b9f\u8cea\u7684\u306b\u6b21\u306e\u3088\u3046\u306a\u30af\u30e9\u30b9\u3068\u3057\u3066\u6271\u308f\u308c\u307e\u3059\uff1a</p> <pre><code>&lt;?php\nclass One_off_instance_of_MyContainer {\n  /** @var int */\n  private $value;\n\n  /** @param int $value */\n  public function __construct($value) {\n    $this-&gt;value = $value;\n  }\n\n  /** @return int */\n  public function getValue() {\n    return $this-&gt;value;\n  }\n}\n</code></pre> <p>\u3053\u306e\u30d1\u30bf\u30fc\u30f3\u306f\u3001\u30e2\u30c3\u30ad\u30f3\u30b0\u3001\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u3001\u30a4\u30c6\u30ec\u30fc\u30bf\u3001\u4efb\u610f\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30ed\u30fc\u30c9\u306a\u3069\u3001\u3055\u307e\u3056\u307e\u306a\u72b6\u6cc1\u3067\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002Psalm\u306b\u306f\u3001\u30b3\u30fc\u30c9\u30d9\u30fc\u30b9\u3067\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5316\u3055\u308c\u305f\u578b\u3092\u7c21\u5358\u306b\u4f7f\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u306e\u591a\u304f\u306e\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"annotating_code/templated_annotations/#template-psalm-template","title":"<code>@template</code>, <code>@psalm-template</code>","text":"<p><code>@template</code>/<code>@psalm-template</code> \u30bf\u30b0\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001\u30af\u30e9\u30b9\u3084\u95a2\u6570\u304c\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u5ba3\u8a00\u3067\u304d\u307e\u3059\u3002</p> <p>\u975e\u5e38\u306b\u7c21\u5358\u306a\u4f8b\u3068\u3057\u3066\u3001\u3053\u306e\u95a2\u6570\u306f\u6e21\u3055\u308c\u305f\u3082\u306e\u3092\u305d\u306e\u307e\u307e\u8fd4\u3057\u307e\u3059\uff1a</p> <pre><code>&lt;?php\n/** \n * @template T\n * @psalm-param T $t\n * @return T\n */\nfunction mirror($t) {\n    return $t;\n}\n\n$a = 5;\n$b = mirror($a); // Psalm\u306f\u7d50\u679c\u304cint\u3067\u3042\u308b\u3053\u3068\u3092\u77e5\u3063\u3066\u3044\u307e\u3059\n\n$c = \"foo\";\n$d = mirror($c); // Psalm\u306f\u7d50\u679c\u304cstring\u3067\u3042\u308b\u3053\u3068\u3092\u77e5\u3063\u3066\u3044\u307e\u3059\n</code></pre> <p>Psalm\u306f\u3001PHP\u914d\u5217\u95a2\u6570\u306e\u30b9\u30bf\u30d6\u7248\u3067\u3082 <code>@template</code> \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\u4f8b\u3048\u3070\uff1a</p> <pre><code>&lt;?php\n/** \n * \u30ad\u30fc\u3092\u6301\u30641\u3064\u306e\u914d\u5217\u3068\u5024\u3092\u6301\u3064\u3082\u30461\u3064\u306e\u914d\u5217\u3092\u53d6\u308a\u3001\u305d\u308c\u3089\u3092\u7d44\u307f\u5408\u308f\u305b\u307e\u3059\n * \n * @template TKey\n * @template TValue\n * \n * @param array&lt;mixed, TKey&gt; $arr\n * @param array&lt;mixed, TValue&gt; $arr2\n * @return array&lt;TKey, TValue&gt;\n */\nfunction array_combine(array $arr, array $arr2) {}\n</code></pre>"},{"location":"annotating_code/templated_annotations/#_2","title":"\u6ce8\u610f","text":"<ul> <li>\u30af\u30e9\u30b9\u306edocblock\u3067\u306f\u3001<code>@template</code> \u30bf\u30b0\u306e\u9806\u5e8f\u304c\u91cd\u8981\u3067\u3059\u3002\u3053\u308c\u3089\u306fdocblock\u3067\u305d\u308c\u3089\u306e\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u53c2\u7167\u3055\u308c\u308b\u9806\u5e8f\u3092\u6c7a\u5b9a\u3057\u307e\u3059\u3002</li> <li>\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5316\u3055\u308c\u305f\u578b\u306e\u540d\u524d\uff08\u4f8b\uff1a<code>TKey</code>\u3001<code>TValue</code>\uff09\u306f\u3001\u305d\u308c\u3089\u304c\u5ba3\u8a00\u3055\u308c\u3066\u3044\u308b\u30af\u30e9\u30b9\u307e\u305f\u306f\u95a2\u6570\u306e\u30b9\u30b3\u30fc\u30d7\u5916\u3067\u306f\u91cd\u8981\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002</li> </ul>"},{"location":"annotating_code/templated_annotations/#param-class-stringt","title":"@param class-string&lt;T&gt;","text":"<p>Psalm\u3067\u306f\u30af\u30e9\u30b9\u578b\u3082\u30d1\u30e9\u30e1\u30fc\u30bf\u5316\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>&lt;?php\n/** \n * @template T of Foo\n * @psalm-param class-string&lt;T&gt; $class\n * @return T\n */\nfunction instantiator(string $class) {\n    return new $class();\n}\n\nclass Foo {\n    public final function __construct() {}\n}\n\nclass FooChild extends Foo {}\n\n$r = instantiator(FooChild::class);\n// Psalm\u306f$r\u304cFooChild\u30bf\u30a4\u30d7\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u3042\u308b\u3053\u3068\u3092\u77e5\u3063\u3066\u3044\u307e\u3059\n</code></pre>"},{"location":"annotating_code/templated_annotations/#_3","title":"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u7d99\u627f","text":"<p>Psalm\u3067\u306f\u3001<code>@extends</code>/<code>@template-extends</code> \u3092\u4f7f\u7528\u3057\u3066\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5316\u3055\u308c\u305f\u30af\u30e9\u30b9\u3092\u62e1\u5f35\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>&lt;?php\n/** \n * @template T \n */\nclass ParentClass {}\n\n/** \n * @extends ParentClass&lt;int&gt; \n */\nclass ChildClass extends ParentClass {}\n</code></pre> <p>\u540c\u69d8\u306b\u3001<code>@implements</code>/<code>@template-implements</code> \u3092\u4f7f\u7528\u3057\u3066\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u5b9f\u88c5\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>&lt;?php\n/** \n * @template T \n */\ninterface IFoo {}\n\n/** \n * @implements IFoo&lt;int&gt; \n */\nclass Foo implements IFoo {}\n</code></pre> <p>\u305d\u3057\u3066\u3001<code>@use</code>/<code>@template-use</code> \u3092\u4f7f\u7528\u3057\u3066\u30c8\u30ec\u30a4\u30c8\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>&lt;?php\n/** \n * @template T \n */\ntrait MyTrait {}\n\nclass Foo {\n    /**\n     * @use MyTrait&lt;int&gt;\n     */\n    use MyTrait;\n}\n</code></pre> <p>\u307e\u305f\u3001\u3042\u308b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5316\u3055\u308c\u305f\u30af\u30e9\u30b9\u3092\u5225\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5316\u3055\u308c\u305f\u30af\u30e9\u30b9\u3067\u62e1\u5f35\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>&lt;?php\n/** \n * @template T1 \n */\nclass ParentClass {}\n\n/** \n * @template T2\n * @extends ParentClass&lt;T2&gt;\n */\nclass ChildClass extends ParentClass {}\n</code></pre>"},{"location":"annotating_code/templated_annotations/#_4","title":"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u5236\u7d04","text":"<p>\u5165\u529b\u3092\u5236\u9650\u3059\u308b\u305f\u3081\u306b <code>@template of &lt;type&gt;</code> \u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u7279\u5b9a\u306e\u30af\u30e9\u30b9\u306b\u5236\u9650\u3059\u308b\u306b\u306f\u6b21\u306e\u3088\u3046\u306b\u4f7f\u7528\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>&lt;?php\nclass Foo {}\nclass FooChild extends Foo {}\n\n/** \n * @template T of Foo\n * @psalm-param T $t\n * @return array&lt;int, T&gt;\n */\nfunction makeArray($t) {\n    return [$t];\n}\n\n$a = makeArray(new Foo()); // array&lt;int, Foo&gt; \u3068\u578b\u4ed8\u3051\u3055\u308c\u307e\u3059\n$b = makeArray(new FooChild()); // array&lt;int, FooChild&gt; \u3068\u578b\u4ed8\u3051\u3055\u308c\u307e\u3059\n$c = makeArray(new stdClass()); // \u578b\u30a8\u30e9\u30fc\n</code></pre> <p>\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5316\u3055\u308c\u305f\u578b\u306f\u30ad\u30fc\u3068\u5024\u306e\u30da\u30a2\u306b\u9650\u5b9a\u3055\u308c\u307e\u305b\u3093\u3002\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5bfe\u5fdc\u306e\u578b\u306e\u8907\u6570\u306e\u5f15\u6570\u306b\u308f\u305f\u3063\u3066\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u518d\u5229\u7528\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>&lt;?php\n/** \n * @template T0 of array-key\n * \n * @template-implements IteratorAggregate&lt;T0, int&gt;\n */\nabstract class Foo implements IteratorAggregate {\n  /**\n   * @var int\n   */\n  protected $rand_min;\n\n  /**\n   * @var int\n   */\n  protected $rand_max;\n\n  public function __construct(int $rand_min, int $rand_max) {\n    $this-&gt;rand_min = $rand_min;\n    $this-&gt;rand_max = $rand_max;\n  }\n\n  /**\n   * @return Generator&lt;T0, int, mixed, T0&gt;\n   */\n  public function getIterator() : Generator {\n    $j = random_int($this-&gt;rand_min, $this-&gt;rand_max);\n    for($i = $this-&gt;rand_min; $i &lt;= $j; $i += 1) {\n      yield $this-&gt;getFuzzyType($i) =&gt; $i ** $i;\n    }\n    return $this-&gt;getFuzzyType($j);\n  }\n\n  /**\n   * @return T0\n   */\n  abstract protected function getFuzzyType(int $i);\n}\n\n/** \n * @template-extends Foo&lt;int&gt;\n */\nclass Bar extends Foo {\n  protected function getFuzzyType(int $i) : int {\n    return $i;\n  }\n}\n\n/** \n * @template-extends Foo&lt;string&gt;\n */\nclass Baz extends Foo {\n  protected function getFuzzyType(int $i) : string {\n    return static::class . '[' . $i . ']';\n  }\n}\n</code></pre>"},{"location":"annotating_code/templated_annotations/#_5","title":"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u5171\u5909\u6027","text":"<p>\u6b21\u306e\u3088\u3046\u306a\u30b3\u30fc\u30c9\u3092\u60f3\u50cf\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\uff1a</p> <pre><code>&lt;?php\nclass Animal {}\nclass Dog extends Animal {}\nclass Cat extends Animal {}\n\n/** \n * @template T\n */\nclass Collection {\n    /**\n     * @var array&lt;int, T&gt;\n     */\n    public array $list;\n\n    /**\n     * @param array&lt;int, T&gt; $list\n     */\n    public function __construct(array $list) {\n        $this-&gt;list = $list;\n    }\n\n    /**\n     * @param T $t\n     */\n    public function add($t) : void {\n        $this-&gt;list[] = $t;\n    }\n}\n\n/** \n * @param Collection&lt;Animal&gt; $collection \n */\nfunction addAnimal(Collection $collection) : void {\n    $collection-&gt;add(new Cat());\n}\n\n/** \n * @param Collection&lt;Dog&gt; $dog_collection\n */\nfunction takesDogList(Collection $dog_collection) : void {\n    addAnimal($dog_collection);\n}\n</code></pre> <p>\u6700\u5f8c\u306e\u547c\u3073\u51fa\u3057 <code>addAnimal($dog_collection)</code> \u306f\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u306e\u578b\u3092\u58ca\u3057\u307e\u3059 - \u7a81\u7136\u3001\u72ac\u306e\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u304c\u72ac\u307e\u305f\u306f\u732b\u306e\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u306b\u306a\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\u3053\u308c\u306f\u826f\u304f\u3042\u308a\u307e\u305b\u3093\u3002</p> <p>\u3053\u308c\u3092\u9632\u3050\u305f\u3081\u306b\u3001Psalm\u306f <code>addAnimal($dog_collection)</code> \u3092\u547c\u3073\u51fa\u3059\u3068\u304d\u306b \"addAnimal expects a <code>Collection&lt;Animal&gt;</code>, but <code>Collection&lt;Dog&gt;</code> was passed\" \u3068\u3044\u3046\u30a8\u30e9\u30fc\u3092\u767a\u3057\u307e\u3059\u3002\u3082\u3057\u3053\u306e\u30eb\u30fc\u30eb\u306b\u521d\u3081\u3066\u906d\u9047\u3057\u305f\u306a\u3089\u3001\u304a\u305d\u3089\u304f\u6df7\u4e71\u3059\u308b\u3067\u3057\u3087\u3046 - <code>Animal</code> \u3092\u53d7\u3051\u5165\u308c\u308b\u95a2\u6570\u306f\u3001\u305d\u306e\u6d3e\u751f\u578b\u3082\u559c\u3093\u3067\u53d7\u3051\u5165\u308c\u308b\u306f\u305a\u3067\u3059\u3002\u3057\u304b\u3057\u3001\u4e0a\u306e\u4f8b\u3067\u898b\u305f\u3088\u3046\u306b\u3001\u305d\u3046\u3059\u308b\u3053\u3068\u3067\u554f\u984c\u304c\u767a\u751f\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>\u3057\u304b\u3057\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u30b5\u30d6\u30bf\u30a4\u30d7\u3092\u6e21\u3057\u3066\u3082\u5b8c\u5168\u306b\u5b89\u5168\u306a\u5834\u5408\u3082\u3042\u308a\u307e\u3059\uff1a</p> <pre><code>&lt;?php\nabstract class Animal {\n    abstract public function getNoise() : string;\n}\n\nclass Dog extends Animal {\n    public function getNoise() : string { return \"woof\"; }\n}\n\nclass Cat extends Animal {\n    public function getNoise() : string { return \"miaow\"; }\n}\n\n/** \n * @template T\n */\nclass Collection {\n    /** @var array&lt;int, T&gt; */\n    public array $list = [];\n}\n\n/** \n * @param Collection&lt;Animal&gt; $collection\n */\nfunction getNoises(Collection $collection) : void {\n    foreach ($collection-&gt;list as $animal) {\n        echo $animal-&gt;getNoise();\n    }\n}\n\n/** \n * @param Collection&lt;Dog&gt; $dog_collection\n */\nfunction takesDogList(Collection $dog_collection) : void {\n    getNoises($dog_collection);\n}\n</code></pre> <p>\u3053\u3053\u3067\u306f\u4f55\u3082\u60aa\u3044\u3053\u3068\u306f\u3057\u3066\u3044\u307e\u305b\u3093 - \u5358\u306b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u914d\u5217\u3092\u53cd\u5fa9\u51e6\u7406\u3057\u3066\u3044\u308b\u3060\u3051\u3067\u3059\u3002\u3057\u304b\u3057\u3001Psalm\u306f\u4f9d\u7136\u3068\u3057\u3066\u540c\u3058\u57fa\u672c\u7684\u306a\u30a8\u30e9\u30fc\u3092\u51fa\u3057\u307e\u3059 - \"getNoises expects a <code>Collection&lt;Animal&gt;</code>, but <code>Collection&lt;Dog&gt;</code> was passed\"\u3002</p> <p>\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5316\u3055\u308c\u305f\u30d1\u30e9\u30e1\u30fc\u30bf <code>T</code> \u306e\u30b5\u30d6\u30bf\u30a4\u30d7\u3092\u6e21\u3057\u3066\u3082\u5b89\u5168\u3067\u3042\u308b\u3053\u3068\u3092Psalm\u306b\u4f1d\u3048\u308b\u306b\u306f\u3001<code>@template-covariant T</code>\uff08\u307e\u305f\u306f <code>@psalm-template-covariant T</code>\uff09\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>&lt;?php\n/** \n * @template-covariant T\n */\nclass Collection {\n    /** @var array&lt;int, T&gt; */\n    public array $list = [];\n}\n</code></pre> <p>\u4e0a\u306e\u4f8b\u3067\u3053\u308c\u3092\u884c\u3046\u3068\u30a8\u30e9\u30fc\u306f\u767a\u751f\u3057\u307e\u305b\u3093\uff1ahttps://psalm.dev/r/5254af7a8b</p> <p>\u3057\u304b\u3057\u3001<code>@template-covariant</code> \u306f\u3059\u3079\u3066\u306e\u30a8\u30e9\u30fc\u3092\u53d6\u308a\u9664\u304f\u308f\u3051\u3067\u306f\u3042\u308a\u307e\u305b\u3093 - \u6700\u521d\u306e\u4f8b\u306b\u3053\u308c\u3092\u8ffd\u52a0\u3059\u308b\u3068\u3001\u65b0\u3057\u3044\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3059 - https://psalm.dev/r/0fcd699231 - \u95a2\u6570\u306e\u5165\u529b\u306b\u5171\u5909\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u4f7f\u7528\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u8b66\u544a\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u3088\u304f\u3042\u308a\u307e\u305b\u3093\u3002\u306a\u305c\u306a\u3089\u3001\u304a\u305d\u3089\u304f\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u3092\u4f55\u3089\u304b\u306e\u65b9\u6cd5\u3067\u5909\u66f4\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u308b\u304b\u3089\u3067\u3059\uff08\u3053\u308c\u306f\u3001\u518d\u3073\u3001\u9055\u53cd\u3067\u3059\uff09\u3002</p>"},{"location":"annotating_code/templated_annotations/#_6","title":"\u4e0d\u5909\u6027\u306b\u3064\u3044\u3066\u306f\u3069\u3046\u3067\u3057\u3087\u3046\u304b\uff1f","text":"<p>Psalm\u306b\u306f\u95a2\u6570\u7684\u4e0d\u5909\u6027\u3092\u5ba3\u8a00\u3059\u308b\u305f\u3081\u306e\u5305\u62ec\u7684\u306a\u30b5\u30dd\u30fc\u30c8\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>\u30af\u30e9\u30b9\u304c\u4e0d\u5909\u3067\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308c\u3070\u3001\u5171\u5909\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u5165\u529b\u3068\u3057\u3066\u53d7\u3051\u53d6\u308b <code>add</code> \u30e1\u30bd\u30c3\u30c9\u3092\u6301\u3064\u30af\u30e9\u30b9\u3092\u5ba3\u8a00\u3067\u304d\u307e\u3059\u304c\u3001\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u3092\u307e\u3063\u305f\u304f\u5909\u66f4\u305b\u305a\u3001\u4ee3\u308f\u308a\u306b\u65b0\u3057\u3044\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u3092\u8fd4\u3059\u3088\u3046\u306b\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>&lt;?php\n/*** @template-covariant T\n * @psalm-immutable\n */\nclass Collection {\n    /**\n     * @var array&lt;int, T&gt;\n     */\n    public array $list = [];\n\n    /**\n     * @param array&lt;int, T&gt; $list\n     */\n    public function __construct(array $list) {\n        $this-&gt;list = $list;\n    }\n\n    /**\n     * @param T $t\n     * @return Collection&lt;T&gt;\n     */\n    public function add($t) : Collection {\n        return new Collection(array_merge($this-&gt;list, [$t]));\n    }\n}\n</code></pre> <p>\u3053\u308c\u306f\u5b8c\u5168\u306b\u6709\u52b9\u3067\u3001Psalm\u306f\u8b66\u544a\u3092\u51fa\u3057\u307e\u305b\u3093\u3002</p>"},{"location":"annotating_code/templated_annotations/#_7","title":"\u30d3\u30eb\u30c8\u30a4\u30f3\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5316\u3055\u308c\u305f\u30af\u30e9\u30b9\u3068\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9","text":"<p>Psalm\u306b\u306f\u3001\u72ec\u81ea\u306e\u30b3\u30fc\u30c9\u3067\u62e1\u5f35/\u5b9f\u88c5\u3067\u304d\u308b\u591a\u304f\u306e\u30d3\u30eb\u30c8\u30a4\u30f3\u30af\u30e9\u30b9\u3068\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u30b5\u30dd\u30fc\u30c8\u304c\u3042\u308a\u307e\u3059\u3002</p> <ul> <li><code>interface Traversable&lt;TKey, TValue&gt;</code></li> <li><code>interface ArrayAccess&lt;TKey, TValue&gt;</code></li> <li><code>interface IteratorAggregate&lt;TKey, TValue&gt; extends Traversable&lt;TKey, TValue&gt;</code></li> <li><code>interface Iterator&lt;TKey, TValue&gt; extends Traversable&lt;TKey, TValue&gt;</code></li> <li><code>interface SeekableIterator&lt;TKey, TValue&gt; extends Iterator&lt;TKey, TValue&gt;</code></li> <li><code>class Generator&lt;TKey, TValue, TSend, TReturn&gt; extends Traversable&lt;TKey, TValue&gt;</code></li> <li><code>class ArrayObject&lt;TKey, TValue&gt; implements IteratorAggregate&lt;TKey, TValue&gt;, ArrayAccess&lt;TKey, TValue&gt;</code></li> <li><code>class ArrayIterator&lt;TKey of array-key, TValue&gt; implements SeekableIterator&lt;TKey, TValue&gt;, ArrayAccess&lt;TKey, TValue&gt;</code></li> <li><code>class DOMNodeList&lt;TNode of DOMNode&gt; implements Traversable&lt;int, TNode&gt;</code></li> <li><code>class SplDoublyLinkedList&lt;TValue&gt; implements Iterator&lt;TKey, TValue&gt;, ArrayAccess&lt;TKey, TValue&gt;</code></li> <li><code>class SplQueue&lt;TValue&gt; extends SplDoublyLinkedList&lt;TValue&gt;</code></li> <li><code>abstract class FilterIterator&lt;TKey, TValue, TIterator&gt;</code></li> </ul>"},{"location":"annotating_code/typing_in_psalm/","title":"Psalm\u3067\u306e\u578b\u4ed8\u3051","text":"<p>Psalm\u306f\u3059\u3079\u3066\u306ePHPDoc\u578b\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u89e3\u91c8\u3057\u3001\u305d\u308c\u3089\u3092\u4f7f\u7528\u3057\u3066\u30b3\u30fc\u30c9\u30d9\u30fc\u30b9\u3092\u3055\u3089\u306b\u7406\u89e3\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u578b\u306f\u3001\u30d7\u30ed\u30d1\u30c6\u30a3\u3001\u5909\u6570\u3001\u95a2\u6570\u30d1\u30e9\u30e1\u30fc\u30bf\u3001\u304a\u3088\u3073<code>return $x</code>\u306b\u5bfe\u3057\u3066\u8a31\u5bb9\u3055\u308c\u308b\u5024\u3092\u8a18\u8ff0\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"annotating_code/typing_in_psalm/#docblock","title":"Docblock\u578b\u69cb\u6587","text":"<p>Psalm\u3067\u306f\u3001docblock\u3067\u8907\u96d1\u306a\u578b\u60c5\u5831\u3092\u8868\u73fe\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u3059\u3079\u3066\u306edocblock\u578b\u306f\u3001\u30a2\u30c8\u30df\u30c3\u30af\u578b\u3001union\u578b\u3001\u307e\u305f\u306fintersection\u578b\u306e\u3044\u305a\u308c\u304b\u3067\u3059\u3002</p> <p>\u3055\u3089\u306b\u3001Psalm\u306fPHPDoc\u306e\u578b\u69cb\u6587\u3001\u304a\u3088\u3073\u63d0\u6848\u3055\u308c\u3066\u3044\u308bPHPDoc PSR\u578b\u69cb\u6587\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002</p> <p>\u8a73\u7d30\u306a\u8aac\u660e\u306fPsalm\u3067\u306e\u578b\u4ed8\u3051\u306b\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"annotating_code/typing_in_psalm/#vs","title":"\u30d7\u30ed\u30d1\u30c6\u30a3\u5ba3\u8a00\u578b vs \u4ee3\u5165\u578b\u30d2\u30f3\u30c8","text":"<p><code>/** @var Type */</code>docblock\u3092\u4f7f\u7528\u3057\u3066\u3001\u30d7\u30ed\u30d1\u30c6\u30a3\u5ba3\u8a00\u3068\u5909\u6570\u306e\u4ee3\u5165\u306e\u4e21\u65b9\u306b\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"annotating_code/typing_in_psalm/#_1","title":"\u30d7\u30ed\u30d1\u30c6\u30a3\u5ba3\u8a00\u578b","text":"<p>Psalm\u3067\u30af\u30e9\u30b9\u30d7\u30ed\u30d1\u30c6\u30a3\u5ba3\u8a00\u306b\u7279\u5b9a\u306e\u578b\u3092\u6307\u5b9a\u3059\u308b\u306b\u306f\u3001<code>@var</code>\u5ba3\u8a00\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>&lt;?php\n/** @var string|null */\npublic $foo;\n</code></pre> <p><code>$this-&gt;foo = $some_variable;</code>\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u969b\u3001Psalm\u306f<code>$some_variable</code>\u304c<code>string</code>\u307e\u305f\u306f<code>null</code>\u306e\u3044\u305a\u308c\u304b\u3067\u3042\u308b\u304b\u3069\u3046\u304b\u3092\u78ba\u8a8d\u3057\u3001\u305d\u3046\u3067\u306a\u3044\u5834\u5408\u306f\u554f\u984c\u3092\u767a\u751f\u3055\u305b\u307e\u3059\u3002</p> <p>\u30d7\u30ed\u30d1\u30c6\u30a3\u578b\u306edocblock\u3092\u7701\u7565\u3059\u308b\u3068\u3001Psalm\u306f<code>MissingPropertyType</code>\u306e\u554f\u984c\u3092\u767a\u751f\u3055\u305b\u307e\u3059\u3002</p>"},{"location":"annotating_code/typing_in_psalm/#_2","title":"\u4ee3\u5165\u578b\u30d2\u30f3\u30c8","text":"<p>\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3092\u8003\u3048\u3066\u307f\u307e\u3057\u3087\u3046\uff1a</p> <pre><code>&lt;?php\nnamespace YourCode {\n  function bar() : int {\n    $a = \\ThirdPartyFoo();\n    return $a;\n  }\n}\n\nnamespace ThirdParty {\n  function foo() {\n    return mt_rand(0, 100);\n  }\n}\n</code></pre> <p>Psalm\u306f\u3001\u30b5\u30fc\u30c9\u30d1\u30fc\u30c6\u30a3\u306e\u95a2\u6570<code>ThirdPartyFoo</code>\u304c\u4f55\u3092\u8fd4\u3059\u304b\u308f\u304b\u308a\u307e\u305b\u3093\u3002\u306a\u305c\u306a\u3089\u3001\u4f5c\u8005\u304c\u623b\u308a\u5024\u306e\u578b\u3092\u8ffd\u52a0\u3057\u3066\u3044\u306a\u3044\u304b\u3089\u3067\u3059\u3002\u95a2\u6570\u304c\u7279\u5b9a\u306e\u5024\u3092\u8fd4\u3059\u3053\u3068\u304c\u308f\u304b\u3063\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u6b21\u306e\u3088\u3046\u306b\u4ee3\u5165\u578b\u30d2\u30f3\u30c8\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>&lt;?php\nnamespace YourCode {\n  function bar() : int {\n    /** @var int */\n    $a = \\ThirdPartyFoo();\n    return $a;\n  }\n}\n\nnamespace ThirdParty {\n  function foo() {\n    return mt_rand(0, 100);\n  }\n}\n</code></pre> <p>\u3053\u308c\u306b\u3088\u308a\u3001Psalm\u306f<code>$a</code>\u306e\u53ef\u80fd\u306a\u578b\u304c<code>int</code>\u3067\u3042\u308b\u3053\u3068\u3092\u7406\u89e3\u3057\u3001<code>return $a;</code>\u304c\u6574\u6570\u3092\u751f\u6210\u3059\u308b\u3053\u3068\u3092\u63a8\u8ad6\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002</p> <p>\u305f\u3060\u3057\u3001\u30d7\u30ed\u30d1\u30c6\u30a3\u578b\u3068\u306f\u7570\u306a\u308a\u3001\u4ee3\u5165\u578b\u30d2\u30f3\u30c8\u306f\u62d8\u675f\u529b\u304c\u3042\u308a\u307e\u305b\u3093\u3002Psalm\u304c\u554f\u984c\u3092\u767a\u751f\u3055\u305b\u308b\u3053\u3068\u306a\u304f\u3001\u65b0\u3057\u3044\u4ee3\u5165\u306b\u3088\u3063\u3066\u4e0a\u66f8\u304d\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u4f8b\uff1a</p> <pre><code>&lt;?php\n/** @var string|null */\n$a = foo();\n$a = 6; // $a\u306f\u4ecaint\u3068\u3057\u3066\u578b\u4ed8\u3051\u3055\u308c\u3066\u3044\u307e\u3059\n</code></pre> <p>\u7279\u5b9a\u306e\u5909\u6570\u306b\u5bfe\u3057\u3066\u3082\u578b\u30d2\u30f3\u30c8\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002\u4f8b\uff1a</p> <pre><code>&lt;?php\n/** @var string $a */\necho strpos($a, 'hello');\n</code></pre> <p>\u3053\u308c\u306fPsalm\u306b<code>$a</code>\u304c\u6587\u5b57\u5217\u3067\u3042\u308b\u3068\u4eee\u5b9a\u3059\u308b\u3088\u3046\u306b\u6307\u793a\u3057\u307e\u3059\uff08\u305f\u3060\u3057\u3001<code>$a</code>\u304c\u672a\u5b9a\u7fa9\u306e\u5834\u5408\u306f\u30a8\u30e9\u30fc\u3092\u30b9\u30ed\u30fc\u3057\u307e\u3059\uff09\u3002</p>"},{"location":"annotating_code/typing_in_psalm/#enums","title":"\u6587\u5b57\u5217/\u6574\u6570\u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u6307\u5b9a\uff08\u5225\u540d enums\uff09","text":"<p>Psalm\u3067\u306f\u3001\u7279\u5b9a\u306e\u95a2\u6570\u3084\u30e1\u30bd\u30c3\u30c9\u306b\u5bfe\u3057\u3066\u8a31\u53ef\u3055\u308c\u308b\u6587\u5b57\u5217/\u6574\u6570\u5024\u306e\u7279\u5b9a\u306e\u30bb\u30c3\u30c8\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002</p> <p>\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u306f\u3059\u3079\u3066\u306e\u30d1\u30b9\u304c\u5024\u3092\u8fd4\u3055\u306a\u3044\u3068Psalm\u304c\u8b66\u544a\u3059\u308b\u3067\u3057\u3087\u3046\uff1a</p> <pre><code>&lt;?php\nfunction foo(string $s) : string {\n  switch ($s) {\n    case 'a':\n      return 'hello';\n    case 'b':\n      return 'goodbye';\n  }\n}\n</code></pre> <p><code>$s</code>\u306e\u30d1\u30e9\u30e0\u578b\u3092<code>'a'|'b'</code>\u3068\u6307\u5b9a\u3059\u308b\u3068\u3001Psalm\u306f\u3059\u3079\u3066\u306e\u30d1\u30b9\u304c\u5024\u3092\u8fd4\u3059\u3053\u3068\u3092\u77e5\u308a\u307e\u3059\uff1a</p> <pre><code>&lt;?php\n/** \n * @param 'a'|'b' $s\n */\nfunction foo(string $s) : string {\n  switch ($s) {\n    case 'a':\n      return 'hello';\n    case 'b':\n      return 'goodbye';\n  }\n}\n</code></pre> <p>\u5024\u304c\u30af\u30e9\u30b9\u5b9a\u6570\u306b\u3042\u308b\u5834\u5408\u3067\u3082\u3001\u305d\u308c\u3089\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>&lt;?php\nclass A {\n  const FOO = 'foo';\n  const BAR = 'bar';\n}\n\n/** \n * @param A::FOO | A::BAR $s\n */\nfunction foo(string $s) : string {\n  switch ($s) {\n    case A::FOO:\n      return 'hello';\n    case A::BAR:\n      return 'goodbye';\n  }\n}\n</code></pre> <p>\u30af\u30e9\u30b9\u5b9a\u6570\u304c\u5171\u901a\u306e\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u3092\u5171\u6709\u3057\u3066\u3044\u308b\u5834\u5408\u3001\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u3092\u4f7f\u7528\u3057\u3066\u305d\u308c\u3089\u3092\u3059\u3079\u3066\u6307\u5b9a\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>&lt;?php\nclass A {\n  const STATUS_FOO = 'foo';\n  const STATUS_BAR = 'bar';\n}\n\n/** \n * @param A::STATUS_* $s\n */\nfunction foo(string $s) : string {\n  switch ($s) {\n    case A::STATUS_FOO:\n      return 'hello';\n    default:\n      // \u305d\u306e\u4ed6\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\n      return 'goodbye';\n  }\n}\n</code></pre>"},{"location":"annotating_code/type_syntax/array_types/","title":"\u914d\u5217\u578b","text":"<p>PHP\u3067\u306f\u3001<code>array</code>\u578b\u306f\u4e00\u822c\u7684\u306b3\u3064\u306e\u7570\u306a\u308b\u30c7\u30fc\u30bf\u69cb\u9020\u3092\u8868\u73fe\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\uff1a</p> <p>\u30ea\u30b9\u30c8:</p> <pre><code>&lt;?php\n$a = [1, 2, 3, 4, 5];\n</code></pre> <p>\u9023\u60f3\u914d\u5217:</p> <pre><code>&lt;?php\n$a = [0 =&gt; 'hello', 5 =&gt; 'goodbye'];\n$b = ['a' =&gt; 'AA', 'b' =&gt; 'BB', 'c' =&gt; 'CC'];\n</code></pre> <p>\u4ee3\u66ff\u69cb\u9020\u4f53:</p> <pre><code>&lt;?php\n$a = ['name' =&gt; 'Psalm', 'type' =&gt; 'tool'];\n</code></pre> <p>PHP\u306f\u57fa\u672c\u7684\u306b\u3053\u308c\u3089\u306e\u914d\u5217\u3092\u3059\u3079\u3066\u540c\u3058\u3088\u3046\u306b\u6271\u3044\u307e\u3059\uff08\u305f\u3060\u3057\u3001\u6700\u521d\u306e\u30b1\u30fc\u30b9\u306b\u3064\u3044\u3066\u306f\u5185\u90e8\u7684\u306b\u6700\u9069\u5316\u304c\u884c\u308f\u308c\u3066\u3044\u307e\u3059\uff09\u3002</p> <p>Psalm\u306f\u578b\u30b7\u30b9\u30c6\u30e0\u3067\u914d\u5217\u3092\u8868\u73fe\u3059\u308b\u305f\u3081\u306b\u3044\u304f\u3064\u304b\u306e\u65b9\u6cd5\u3092\u6301\u3063\u3066\u3044\u307e\u3059\uff1a</p>"},{"location":"annotating_code/type_syntax/array_types/#_2","title":"\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u914d\u5217","text":"<p>Psalm\u306fJava\u304b\u3089\u501f\u7528\u3057\u305f\u69cb\u6587\u3092\u4f7f\u7528\u3057\u3066\u3001\u30ad\u30fc\u3068\u5024\u306e\u4e21\u65b9\u306e\u578b\u3092\u8868\u8a18\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>/** @return array&lt;TKey, TValue&gt; */\n</code></pre> <p>\u307e\u305f\u3001<code>non-empty-array&lt;TKey, TValue&gt;</code>\u3068\u3044\u3046\u7279\u5225\u306a\u578b\u3092\u4f7f\u7528\u3057\u3066\u3001\u914d\u5217\u304c\u7a7a\u3067\u306a\u3044\u3053\u3068\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"annotating_code/type_syntax/array_types/#phpdoc","title":"PHPDoc\u69cb\u6587","text":"<p>PHPDoc\u3067\u306f\u3001\u4ee5\u4e0b\u306e\u6ce8\u91c8\u3067\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u914d\u5217\u304c\u4fdd\u6301\u3059\u308b\u5024\u306e\u578b\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>/** @return ValueType[] */\n</code></pre> <p>Psalm\u3067\u306f\u3001\u3053\u306e\u6ce8\u91c8\u306f<code>@psalm-return array&lt;array-key, ValueType&gt;</code>\u3068\u540c\u7b49\u3067\u3059\u3002</p> <p>\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u914d\u5217\u306f\u3001_\u9023\u60f3\u914d\u5217_\u3068_\u30ea\u30b9\u30c8_\u306e\u4e21\u65b9\u3092\u5305\u542b\u3057\u307e\u3059\u3002</p>"},{"location":"annotating_code/type_syntax/array_types/#_3","title":"\u30ea\u30b9\u30c8","text":"<p>(Psalm 3.6\u4ee5\u964d)</p> <p>Psalm\u306f\u3001<code>[\"red\", \"yellow\", \"blue\"]</code>\u306e\u3088\u3046\u306a\u9023\u7d9a\u3057\u305f\u6574\u6570\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306e\u914d\u5217\u3092\u8868\u3059<code>list</code>\u578b\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002</p> <p>\u30ea\u30b9\u30c8\u3092\u4f5c\u6210\u3059\u308b\u4e00\u822c\u7684\u306a\u65b9\u6cd5\u306f\u3001<code>$arr[] =</code>\u8868\u8a18\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u3059\u3002</p> <p>\u3053\u308c\u3089\u306e\u914d\u5217\u306f<code>array_is_list($arr)</code>(PHP 8.1\u4ee5\u964d)\u306btrue\u3092\u8fd4\u3057\u3001PHP\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u306e\u914d\u5217\u4f7f\u7528\u306e\u5927\u90e8\u5206\u3092\u5360\u3081\u3066\u3044\u307e\u3059\u3002</p> <p><code>list</code>\u578b\u306f<code>list&lt;SomeType&gt;</code>\u306e\u5f62\u5f0f\u3092\u53d6\u308a\u3001<code>SomeType</code>\u306fPsalm\u304c\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u8a31\u53ef\u3055\u308c\u305f\u30e6\u30cb\u30aa\u30f3\u578b\u3067\u3059\u3002</p> <ul> <li><code>list</code>\u306f<code>array&lt;int, mixed&gt;</code>\u306e\u30b5\u30d6\u30bf\u30a4\u30d7\u3067\u3059</li> <li><code>list&lt;Foo&gt;</code>\u306f<code>array&lt;int, Foo&gt;</code>\u306e\u30b5\u30d6\u30bf\u30a4\u30d7\u3067\u3059\u3002</li> </ul> <p>\u30ea\u30b9\u30c8\u578b\u306f\u3044\u304f\u3064\u304b\u306e\u65b9\u6cd5\u3067\u305d\u306e\u4fa1\u5024\u3092\u793a\u3057\u307e\u3059\uff1a</p> <pre><code>&lt;?php\n/**\n * @param array&lt;int, string&gt; $arr\n */\nfunction takesArray(array $arr) : void {\n  if ($arr) {\n     // \u3053\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306f\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\n    echo $arr[0];\n  }\n}\n\n/**\n * @psalm-param list&lt;string&gt; $arr\n */\nfunction takesList(array $arr) : void {\n  if ($arr) {\n    // \u30ea\u30b9\u30c8\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306f\u5e38\u306b0\u304b\u3089\u59cb\u307e\u308b\u306e\u3067\u3001\n    // \u7a7a\u3067\u306a\u3044\u30ea\u30b9\u30c8\u306f\u3053\u3053\u306b\u8981\u7d20\u3092\u6301\u3061\u307e\u3059\n    echo $arr[0];\n  }\n}\n\ntakesArray([\"hello\"]); // \u3053\u308c\u306f\u554f\u984c\u3042\u308a\u307e\u305b\u3093\ntakesArray([1 =&gt; \"hello\"]); // \u8b66\u544a\u306a\u3057\u306b\u30d0\u30b0\u3092\u5f15\u304d\u8d77\u3053\u3059\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\n\ntakesList([\"hello\"]); // \u3053\u308c\u306f\u554f\u984c\u3042\u308a\u307e\u305b\u3093\ntakesList([1 =&gt; \"hello\"]); // Psalm\u3067\u8b66\u544a\u304c\u30c8\u30ea\u30ac\u30fc\u3055\u308c\u307e\u3059\n</code></pre>"},{"location":"annotating_code/type_syntax/array_types/#_4","title":"\u914d\u5217\u5f62\u72b6","text":"<p>Psalm\u306f\u3001\u30ad\u30fc\u30aa\u30d5\u30bb\u30c3\u30c8\u304c\u65e2\u77e5\u306e\u914d\u5217\u306b\u5bfe\u3057\u3066\u7279\u5225\u306a\u5f62\u5f0f\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\uff1a\u914d\u5217\u5f62\u72b6\u3001\u5225\u540d\u300c\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30e9\u30a4\u30af\u306a\u914d\u5217\u300d\u3067\u3059\u3002</p> <p>\u6b21\u306e\u914d\u5217\u304c\u4e0e\u3048\u3089\u308c\u305f\u5834\u5408\uff1a</p> <pre><code>&lt;?php\n[\"hello\", \"world\", \"foo\" =&gt; new stdClass, 28 =&gt; false];\n</code></pre> <p>Psalm\u306f\u5185\u90e8\u7684\u306b\u3053\u308c\u3092\u6b21\u306e\u3088\u3046\u306b\u578b\u4ed8\u3051\u3057\u307e\u3059\uff1a</p> <pre><code>array{0: string, 1: string, foo: stdClass, 28: false}\n</code></pre> <p>\u3053\u306e\u5f62\u5f0f\u3067\u81ea\u5206\u3067\u578b\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u4f8b\uff1a</p> <pre><code>/** @return array{foo: string, bar: int} */\n</code></pre> <p>\u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u30ad\u30fc\u306f\u672b\u5c3e\u306b<code>?</code>\u3092\u3064\u3051\u3066\u8868\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u4f8b\uff1a</p> <pre><code>/** @return array{optional?: string, bar: int} */\n</code></pre> <p>(PHP\u306b\u4f3c\u305f)\u300c1\u884c\u300d\u30b3\u30e1\u30f3\u30c8\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002\u4f8b\uff1a</p> <pre><code>/** @return array { // \u30b3\u30e1\u30f3\u30c8\u4ed8\u304d\u306e\u914d\u5217\u3002\n *     // \u30b3\u30e1\u30f3\u30c8\u306f\u72ec\u7acb\u3057\u305f\u884c\u306b\u7f6e\u304f\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n *     foo: string, // \u914d\u5217\u30ad\u30fc\u306e\u8aac\u660e\u3002\n *     bar: array {, // \u5225\u306e\u914d\u5217\u30ad\u30fc\u306e\u8aac\u660e\u3002\n *         'foo//bar': string, // \u540d\u524d\u306b\"//\"\u3092\u542b\u3080\u914d\u5217\u30ad\u30fc\u3002\n *     },\n * }\n */\n</code></pre> <p>\u30d2\u30f3\u30c8\uff1a<code>InvalidArgument</code>\u306e\u554f\u984c\u3092\u907f\u3051\u308b\u305f\u3081\u306b\u540c\u3058\u8907\u96d1\u306a\u914d\u5217\u5f62\u72b6\u3092\u4f55\u5ea6\u3082\u30b3\u30d4\u30fc\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u4ee3\u308f\u308a\u306b\u578b\u30a8\u30a4\u30ea\u30a2\u30b9\u306e\u4f7f\u7528\u3092\u691c\u8a0e\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"annotating_code/type_syntax/array_types/#_5","title":"\u914d\u5217\u5f62\u72b6\u306e\u691c\u8a3c","text":"<p>Valinor\u3092\u53b3\u683c\u30e2\u30fc\u30c9\u3067\u4f7f\u7528\u3059\u308b\u3068\u3001Psalm\u914d\u5217\u5f62\u72b6\u69cb\u6587\u3092\u4f7f\u7528\u3057\u3066\u5b9f\u884c\u6642\u306b\u914d\u5217\u5f62\u72b6\u3092\u7c21\u5358\u306b\u30a2\u30b5\u30fc\u30c8\u3067\u304d\u307e\u3059\uff08isset\u3067\u30ad\u30fc\u3092\u624b\u52d5\u3067\u30a2\u30b5\u30fc\u30c8\u3059\u308b\u4ee3\u308f\u308a\u306b\uff09\uff1a</p> <pre><code>try {\n  $array = (new \\CuyZ\\Valinor\\MapperBuilder())\n      -&gt;mapper()\n      -&gt;map(\n          'array{a: string, b: int}',\n          json_decode(file_get_contents('https://.../'), true)\n      );\n\n  /** @psalm-trace $array */; // array{a: string, b: int}\n\n  echo $array['a'];\n  echo $array['b'];\n} catch (\\CuyZ\\Valinor\\Mapper\\MappingError $error) {\n  // \u4f55\u304b\u3092\u884c\u3046\u2026\n}\n</code></pre> <p>Valinor\u306f\u3001\u5b8c\u5168\u306aPsalm\u69cb\u6587\u30b5\u30dd\u30fc\u30c8\u3068\u4ed6\u306e\u591a\u304f\u306e\u6a5f\u80fd\u3092\u5099\u3048\u305f\u5b9f\u884c\u6642\u3068\u9759\u7684\u306aPsalm\u30a2\u30b5\u30fc\u30b7\u30e7\u30f3\u306e\u4e21\u65b9\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002\u8a73\u7d30\u306b\u3064\u3044\u3066\u306fValinor\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u3054\u89a7\u304f\u3060\u3055\u3044\uff01</p>"},{"location":"annotating_code/type_syntax/array_types/#_6","title":"\u30ea\u30b9\u30c8\u5f62\u72b6","text":"<p>Psalm 5\u4ee5\u964d\u3001Psalm\u306f\u30ad\u30fc\u30aa\u30d5\u30bb\u30c3\u30c8\u304c\u65e2\u77e5\u306e\u30ea\u30b9\u30c8\u914d\u5217\u306b\u5bfe\u3057\u3066\u3082\u7279\u5225\u306a\u5f62\u5f0f\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002</p> <p>\u6b21\u306e\u30ea\u30b9\u30c8\u914d\u5217\u304c\u4e0e\u3048\u3089\u308c\u305f\u5834\u5408\uff1a</p> <pre><code>&lt;?php\n[\"hello\", \"world\", new stdClass, false];\n</code></pre> <p>Psalm\u306f\u5185\u90e8\u7684\u306b\u3053\u308c\u3092\u6b21\u306e\u3088\u3046\u306b\u578b\u4ed8\u3051\u3057\u307e\u3059\uff1a</p> <pre><code>list{string, string, stdClass, false}\n</code></pre> <p>\u3053\u306e\u5f62\u5f0f\u3067\u81ea\u5206\u3067\u578b\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u4f8b\uff1a</p> <pre><code>/** @return list{string, int} */\n/** @return list{0: string, 1: int} */\n</code></pre> <p>\u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u30ad\u30fc\u306f\u3001\u3059\u3079\u3066\u306e\u8981\u7d20\u306b\u30ad\u30fc\u3092\u6307\u5b9a\u3057\u3001\u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u30ad\u30fc\u306b\u672b\u5c3e<code>?</code>\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067\u8868\u73fe\u3067\u304d\u307e\u3059\u3002\u4f8b\uff1a</p> <pre><code>/** @return list{0: string, 1?: int} */\n</code></pre> <p>\u30ea\u30b9\u30c8\u5f62\u72b6\u306f\u3001\u578b\u7406\u8ad6\u306e\u89b3\u70b9\u304b\u3089\u672c\u8cea\u7684\u306bn\u9805\u7d44\u3067\u3059\u3002</p>"},{"location":"annotating_code/type_syntax/array_types/#_7","title":"\u672a\u5bc6\u9589\u914d\u5217\u304a\u3088\u3073\u30ea\u30b9\u30c8\u5f62\u72b6","text":"<p>Psalm v5\u4ee5\u964d\u3001\u914d\u5217\u5f62\u72b6\u3068\u30ea\u30b9\u30c8\u5f62\u72b6\u306f\u3001\u6700\u5f8c\u306e\u8981\u7d20\u3068\u3057\u3066<code>...</code>\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u3067\u30aa\u30fc\u30d7\u30f3\u3068\u3057\u3066\u30de\u30fc\u30af\u3067\u304d\u307e\u3059\u3002</p> <p>\u3053\u3053\u3067\u306f\u3001\u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u914d\u5217\u3092\u53d7\u3051\u53d6\u308b<code>handleOptions</code>\u95a2\u6570\u304c\u3042\u308a\u307e\u3059\u3002\u578b\u306f\u3001\u65e2\u77e5\u306e1\u3064\u306e\u30ad\u30fc\u304c<code>string</code>\u578b\u3067\u3042\u308a\u3001\u6f5c\u5728\u7684\u306b\u4ed6\u306e\u591a\u304f\u306e\u672a\u77e5\u306e\u578b\u306e\u30ad\u30fc\u304c\u3042\u308b\u3053\u3068\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002</p> <pre><code>/** @param array{verbose: string, ...} $options */\nfunction handleOptions(array $options): float {\n    if ($options['verbose']) {\n        var_dump($options);\n    }\n}\n\n$options = get_opt(/* some code */);\n$options['verbose'] = isset($options['verbose']);\nhandleOptions($options);\n</code></pre> <p><code>...</code>\u306f<code>...&lt;array-key, mixed&gt;</code>\u306e\u7701\u7565\u5f62\u3067\u3059\u3002\u4ed6\u306e\u914d\u5217\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u578b\u3092\u4f7f\u7528\u3057\u3066\u3001\u30aa\u30fc\u30d7\u30f3\u306a\u5f62\u72b6\u306b\u3064\u3044\u3066\u3088\u308a\u591a\u304f\u306e\u60c5\u5831\u3092\u63d0\u4f9b\u3067\u304d\u307e\u3059\u3002</p> <pre><code>// \u3053\u308c\u306f\u30aa\u30fc\u30d7\u30f3\u306a\u914d\u5217\u3067\u3059\n/** @param array{someKey: string, ...} */ \n// \u3053\u308c\u306f\u6b21\u3068\u540c\u3058\u3067\u3059\n/** @param array{someKey: string, ...&lt;array-key, mixed&gt;} */ \n// \u3057\u304b\u3057\u3001\u5f62\u72b6...&lt;TKey, TValue&gt;\u3067\u3055\u3089\u306b\u5236\u9650\u3067\u304d\u307e\u3059\n/** @return array{someKey: string, ...&lt;int, bool&gt;} */\n</code></pre>"},{"location":"annotating_code/type_syntax/array_types/#_8","title":"\u547c\u3073\u51fa\u3057\u53ef\u80fd\u914d\u5217","text":"<p>PHP\u306e\u30cd\u30a4\u30c6\u30a3\u30d6\u306a<code>call_user_func()</code>\u3084\u305d\u306e\u95a2\u9023\u95a2\u6570\u304c\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u3088\u3046\u306a\u3001\u547c\u3073\u51fa\u3057\u53ef\u80fd\u306a\u3082\u306e\u3092\u4fdd\u6301\u3059\u308b\u914d\u5217\uff1a</p> <pre><code>&lt;?php\n\n$callable = ['myClass', 'aMethod'];\n$callable = [$object, 'aMethod'];\n</code></pre>"},{"location":"annotating_code/type_syntax/array_types/#non-empty-array","title":"non-empty-array","text":"<p>\u7a7a\u3067\u3042\u308b\u3053\u3068\u304c\u8a31\u3055\u308c\u306a\u3044\u914d\u5217\u3002 \u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u69cb\u6587\u3082\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u3059\uff1a<code>non-empty-array&lt;string, int&gt;</code>\u3002</p>"},{"location":"annotating_code/type_syntax/array_types/#_9","title":"\u914d\u5217\u578b","text":"<p>[\u524d\u306e\u5185\u5bb9\u306f\u7701\u7565...]</p>"},{"location":"annotating_code/type_syntax/array_types/#callable-array","title":"callable-array","text":"<p>Psalm\u306f<code>callable-array</code>\u578b\u3082\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f2\u3064\u306e\u8981\u7d20\u3092\u6301\u3064\u914d\u5217\u3067\u3001\u6700\u521d\u306e\u8981\u7d20\u306f\u30af\u30e9\u30b9\u540d\u307e\u305f\u306f<code>object</code>\u30012\u756a\u76ee\u306e\u8981\u7d20\u306f\u6587\u5b57\u5217\uff08\u30e1\u30bd\u30c3\u30c9\u540d\uff09\u3067\u3059\u3002</p> <pre><code>/** @psalm-type CallableArray = callable-array */\n/**\n * @param CallableArray $c\n * @psalm-return CallableArray\n */\nfunction foo(array $c): array {\n    return $c;\n}\n\nclass A {\n    public function bb(): void {}\n}\n\nfoo([A::class, 'bb']); // OK\nfoo(['A', 'bb']); // OK\nfoo([new A(), 'bb']); // OK\nfoo(['A', 'cc']); // Psalm error\nfoo(['B', 'bb']); // Psalm error\n</code></pre>"},{"location":"annotating_code/type_syntax/array_types/#class-string","title":"class-string","text":"<p><code>class-string</code>\u306f\u5b8c\u5168\u4fee\u98fe\u30af\u30e9\u30b9\u540d\u3092\u542b\u3080\u6587\u5b57\u5217\u3092\u8868\u3057\u307e\u3059\u3002 <code>new</code>\u3084<code>instanceof</code>\u3067\u3053\u306e\u6587\u5b57\u5217\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002</p> <pre><code>/** @psalm-param class-string $class */\nfunction instantiator(string $class) {\n    $object = new $class(); // works\n    return $object;\n}\n\ninstantiator(\\My\\ClassName::class); // OK\ninstantiator(\"MyClassName\"); // Error if MyClassName is not in the global namespace\ninstantiator(\"My\\\\ClassName\"); // OK\n</code></pre> <p><code>class-string</code>\u306f\u7279\u5b9a\u306e\u30af\u30e9\u30b9\u306b\u5236\u9650\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>/** @psalm-param class-string&lt;Foo&gt; $classFoo */\nfunction instantiator(string $classFoo) {\n    $object = new $classFoo(); // $object is an instance of Foo\n    return $object;\n}\n</code></pre> <p><code>T</code>\u306f<code>object</code>\u3092\u62e1\u5f35\u3059\u308b\u30af\u30e9\u30b9\u3092\u8868\u3057\u307e\u3059\uff1a</p> <pre><code>/**\n * @template T of object\n * @psalm-param class-string&lt;T&gt; $class\n * @psalm-return T\n */\nfunction instantiator(string $class) {\n    $object = new $class();\n    return $object;\n}\n</code></pre>"},{"location":"annotating_code/type_syntax/array_types/#interface-string","title":"interface-string","text":"<p><code>interface-string</code>\u306f\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u540d\u3092\u542b\u3080\u6587\u5b57\u5217\u3092\u8868\u3057\u307e\u3059\u3002\u3053\u308c\u306f<code>class-string</code>\u3068\u540c\u69d8\u306b\u6a5f\u80fd\u3057\u307e\u3059\u304c\u3001\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306b\u9650\u5b9a\u3055\u308c\u307e\u3059\u3002</p> <pre><code>/** @psalm-param interface-string $interface */\nfunction useInterface(string $interface) {\n    $object = new class implements $interface {}; // works\n    return $object;\n}\n\nuseInterface(\\My\\InterfaceName::class); // OK\nuseInterface(\"MyInterface\"); // Error if MyInterface is not in the global namespace\nuseInterface(\"My\\\\InterfaceName\"); // OK\n</code></pre>"},{"location":"annotating_code/type_syntax/array_types/#trait-string","title":"trait-string","text":"<p><code>trait-string</code>\u306f\u30c8\u30ec\u30a4\u30c8\u540d\u3092\u542b\u3080\u6587\u5b57\u5217\u3092\u8868\u3057\u307e\u3059\u3002</p> <pre><code>/** @psalm-param trait-string $trait */\nfunction useTrait(string $trait) {\n    $object = new class {\n        use $trait; // PHP doesn't actually support this syntax\n    };\n    return $object;\n}\n\nuseTrait(\\My\\TraitName::class); // OK\nuseTrait(\"MyTrait\"); // Error if MyTrait is not in the global namespace\nuseTrait(\"My\\\\TraitName\"); // OK\n</code></pre>"},{"location":"annotating_code/type_syntax/array_types/#callable-string","title":"callable-string","text":"<p><code>callable-string</code>\u306f\u547c\u3073\u51fa\u3057\u53ef\u80fd\u306a\u95a2\u6570\u540d\u3092\u542b\u3080\u6587\u5b57\u5217\u3092\u8868\u3057\u307e\u3059\u3002</p> <pre><code>/** @psalm-param callable-string $callback */\nfunction call(string $callback) {\n    $callback(); // works\n}\n\ncall('htmlspecialchars'); // OK\ncall('html_special_chars'); // Error\n</code></pre>"},{"location":"annotating_code/type_syntax/array_types/#numeric-string","title":"numeric-string","text":"<p><code>numeric-string</code>\u306f\u6570\u5024\u3092\u8868\u3059\u6587\u5b57\u5217\u3092\u8868\u3057\u307e\u3059\u3002</p> <pre><code>/** @psalm-param numeric-string $numeric */\nfunction use_numeric(string $numeric) {\n    return $numeric + 1; // works\n}\n\nuse_numeric('42'); // OK\nuse_numeric('42.1'); // OK\nuse_numeric('foo'); // Error\n</code></pre>"},{"location":"annotating_code/type_syntax/array_types/#class-string-map","title":"class-string-map","text":"<p><code>class-string-map</code>\u306f\u3001\u30ad\u30fc\u304c\u4efb\u610f\u306e\u578b\u3067\u3001\u5024\u304c<code>class-string</code>\u3067\u3042\u308b\u914d\u5217\u3092\u8868\u3057\u307e\u3059\u3002</p> <pre><code>/**\n * @psalm-param class-string-map&lt;string, stdClass&gt; $classes\n */\nfunction foo(array $classes): void {}\n\nfoo(['a' =&gt; stdClass::class, 'b' =&gt; Iterator::class]); // Error\nfoo(['a' =&gt; stdClass::class, 'b' =&gt; ArrayObject::class]); // OK\n</code></pre>"},{"location":"annotating_code/type_syntax/array_types/#_10","title":"\u30ea\u30c6\u30e9\u30eb\u6587\u5b57\u5217","text":"<p>\u6587\u5b57\u5217\u30ea\u30c6\u30e9\u30eb\u578b\u3092\u4f7f\u7528\u3057\u3066\u3001\u7279\u5b9a\u306e\u6587\u5b57\u5217\u5024\u306e\u307f\u3092\u8a31\u53ef\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>/** @psalm-param 'foo'|'bar' $param */\nfunction foo(string $param): void {}\n\nfoo('foo'); // OK\nfoo('bar'); // OK\nfoo('baz'); // Error\n</code></pre>"},{"location":"annotating_code/type_syntax/array_types/#_11","title":"\u30ea\u30c6\u30e9\u30eb\u6574\u6570","text":"<p>\u6574\u6570\u30ea\u30c6\u30e9\u30eb\u578b\u3092\u4f7f\u7528\u3057\u3066\u3001\u7279\u5b9a\u306e\u6574\u6570\u5024\u306e\u307f\u3092\u8a31\u53ef\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>/** @psalm-param 1|2|3 $param */\nfunction foo(int $param): void {}\n\nfoo(1); // OK\nfoo(2); // OK\nfoo(4); // Error\n</code></pre> <p>\u3053\u308c\u3089\u306e\u578b\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u3001PHP\u30b3\u30fc\u30c9\u306e\u9759\u7684\u578b\u30c1\u30a7\u30c3\u30af\u3092\u3088\u308a\u53b3\u5bc6\u306b\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002Psalm\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u591a\u304f\u306e\u6f5c\u5728\u7684\u306a\u30d0\u30b0\u3092\u4e8b\u524d\u306b\u767a\u898b\u3057\u3001\u30b3\u30fc\u30c9\u306e\u54c1\u8cea\u3092\u5411\u4e0a\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"annotating_code/type_syntax/atomic_types/","title":"\u30a2\u30c8\u30df\u30c3\u30af\u578b","text":"<p>\u30a2\u30c8\u30df\u30c3\u30af\u578b\u306f\u3001Psalm\u3067\u4f7f\u7528\u3055\u308c\u308b\u3059\u3079\u3066\u306e\u578b\u60c5\u5831\u306e\u57fa\u672c\u7684\u306a\u69cb\u6210\u8981\u7d20\u3067\u3059\u3002\u8907\u6570\u306e\u30a2\u30c8\u30df\u30c3\u30af\u578b\u306f\u3001\u30e6\u30cb\u30aa\u30f3\u578b\u3084\u30a4\u30f3\u30bf\u30fc\u30bb\u30af\u30b7\u30e7\u30f3\u578b\u3068\u7d44\u307f\u5408\u308f\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002Psalm\u3067\u306f\u3001docblock\u69cb\u6587\u3067\u591a\u304f\u306e\u7570\u306a\u308b\u7a2e\u985e\u306e\u30a2\u30c8\u30df\u30c3\u30af\u578b\u3092\u8868\u73fe\u3067\u304d\u307e\u3059\u3002</p> <p>\u6ce8\u610f: \u4ee5\u4e0b\u306e\u30ea\u30b9\u30c8\u306e\u5404\u578b\u3092\u30af\u30ea\u30c3\u30af\u3059\u308b\u3068\u3001\u3059\u3079\u3066\u306e\u30a2\u30c8\u30df\u30c3\u30af\u578b\u306e\u8a73\u7d30\u306a\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3068\u4f7f\u7528\u4f8b\u3092\u8868\u793a\u3067\u304d\u307e\u3059\u3002</p> <ul> <li>\u30b9\u30ab\u30e9\u30fc\u578b<ul> <li>bool</li> <li>int</li> <li>float</li> <li>string</li> <li><code>int-range&lt;x, y&gt;</code></li> <li><code>int-mask&lt;1, 2, 4&gt;</code></li> <li><code>int-mask-of&lt;MyClass::CLASS_CONSTANT_*&gt;</code></li> <li>class-string \u3068 class-string&lt;Foo&gt;</li> <li>trait-string</li> <li>enum-string</li> <li>callable-string</li> <li>numeric-string</li> <li>literal-string</li> <li>literal-int</li> <li>array-key</li> <li>numeric</li> <li>scalar</li> </ul> </li> <li>\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u578b<ul> <li>object</li> <li>object{foo: string}</li> <li>Exception, Foo\\MyClass \u3068 <code>Foo\\MyClass&lt;Bar&gt;</code></li> <li>Generator</li> </ul> </li> <li>\u914d\u5217\u578b<ul> <li>array&lt;int, string&gt;</li> <li>non-empty-array</li> <li>string[]</li> <li>list &amp; non-empty-list</li> <li>list&lt;string&gt;</li> <li>array{foo: int, bar: string} \u3068 list{int, string}</li> <li>callable-array</li> </ul> </li> <li>\u547c\u3073\u51fa\u3057\u53ef\u80fd\u578b</li> <li>\u5024\u578b<ul> <li>null</li> <li>true, false</li> <li>6, 7.0, \"forty-two\" \u3068 'forty two'</li> <li>Foo\\Bar::MY_SCALAR_CONST</li> </ul> </li> <li>\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u578b<ul> <li>(T is true ? string : bool)</li> <li><code>key-of&lt;T&gt;</code></li> <li><code>value-of&lt;T&gt;</code></li> <li><code>properties-of&lt;T&gt;</code></li> <li><code>class-string-map&lt;T of Foo, T&gt;</code></li> <li><code>T[K]</code></li> <li>\u578b\u30a8\u30a4\u30ea\u30a2\u30b9</li> <li>\u5909\u6570\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8</li> </ul> </li> <li>\u305d\u306e\u4ed6\u306e\u578b<ul> <li><code>iterable&lt;TKey, TValue&gt;</code></li> <li>void</li> <li>resource</li> <li>closed-resource</li> </ul> </li> <li>\u30c8\u30c3\u30d7\u578b\u3068\u30dc\u30c8\u30e0\u578b<ul> <li>mixed</li> <li>never</li> </ul> </li> </ul>"},{"location":"annotating_code/type_syntax/callable_types/","title":"\u547c\u3073\u51fa\u3057\u53ef\u80fd\u578b","text":"<p>Psalm\u306f <code>callable</code> \u306e\u305f\u3081\u306e\u7279\u5225\u306a\u5f62\u5f0f\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306f <code>Closure</code> \u306b\u3082\u6ce8\u91c8\u3092\u4ed8\u3051\u308b\u306e\u306b\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002</p> <pre><code>callable(Type1, OptionalType2=, SpreadType3...):ReturnType\n</code></pre> <p>\u578b\u306e\u5f8c\u306b <code>=</code> \u3092\u8ffd\u52a0\u3059\u308b\u3068\u3001\u305d\u308c\u304c\u30aa\u30d7\u30b7\u30e7\u30ca\u30eb\u3067\u3042\u308b\u3053\u3068\u3092\u610f\u5473\u3057\u3001<code>...</code> \u3092\u672b\u5c3e\u306b\u4ed8\u3051\u308b\u3068\u3001\u30b9\u30d7\u30ec\u30c3\u30c9\u6f14\u7b97\u5b50\u306e\u4f7f\u7528\u3092\u610f\u5473\u3057\u307e\u3059\u3002</p> <p>\u3053\u306e\u6ce8\u91c8\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001\u7279\u5b9a\u306e\u95a2\u6570\u304c <code>Closure</code> \u3092\u8fd4\u3059\u3053\u3068\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002\u4f8b\uff1a</p> <pre><code>&lt;?php\n/** \n * @return Closure(bool):int\n */\nfunction delayedAdd(int $x, int $y) : Closure {\n  return function(bool $debug) use ($x, $y) {\n    if ($debug) echo \"got here\" . PHP_EOL;\n    return $x + $y;\n  };\n}\n\n$adder = delayedAdd(3, 4);\necho $adder(true);\n</code></pre>"},{"location":"annotating_code/type_syntax/callable_types/#_2","title":"\u7d14\u7c8b\u306a\u547c\u3073\u51fa\u3057\u53ef\u80fd\u578b","text":"<p><code>callable</code> \u304c\u7d14\u7c8b\u307e\u305f\u306f\u4e0d\u5909\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308b\u72b6\u6cc1\u306e\u305f\u3081\u306b\u3001<code>pure-callable</code> \u3068 <code>pure-Closure</code> \u306e\u30b5\u30d6\u30bf\u30a4\u30d7\u3082\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002</p> <p>\u3053\u308c\u306f\u3001<code>callable</code> \u304c <code>@psalm-pure</code> \u307e\u305f\u306f <code>@psalm-mutation-free</code> \u3067\u30de\u30fc\u30af\u3055\u308c\u305f\u95a2\u6570\u3067\u4f7f\u7528\u3055\u308c\u308b\u5834\u5408\u306b\u4fbf\u5229\u3067\u3059\u3002\u4f8b\uff1a</p> <pre><code>&lt;?php\n/** @psalm-immutable */\nclass intList {\n    /** @param list&lt;int&gt; $items */\n    public function __construct(private array $items) {}\n\n    /**\n     * @param pure-callable(int, int): int $callback\n     * @psalm-mutation-free\n     */\n    public function walk(callable $callback): int {\n        return array_reduce($this-&gt;items, $callback, 0);\n    }\n}\n\n$list = new intList([1,2,3]);\n\n// \u3053\u308c\u306fOK\u3067\u3059\u3002\u547c\u3073\u51fa\u3057\u53ef\u80fd\u578b\u304c\u7d14\u7c8b\u3067\u3042\u308b\u305f\u3081\necho $list-&gt;walk(fn (int $c, int $v): int =&gt; $c + $v);\n\n// \u3053\u308c\u306f InvalidArgument \u30a8\u30e9\u30fc\u3092\u5f15\u304d\u8d77\u3053\u3057\u307e\u3059\u3002\u30af\u30ed\u30fc\u30b8\u30e3\u304c\u4e0d\u7d14\u306a\u95a2\u6570\u3092\u547c\u3073\u51fa\u3059\u305f\u3081\necho $list-&gt;walk(fn (int $c, int $v): int =&gt; $c + random_int(1, $v));\n</code></pre>"},{"location":"annotating_code/type_syntax/conditional_types/","title":"\u6761\u4ef6\u4ed8\u304d\u578b","text":"<p>Psalm\u306fTypeScript\u306e\u6761\u4ef6\u4ed8\u304d\u578b\u306b\u76f8\u5f53\u3059\u308b\u3082\u306e\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002</p> <p>\u6761\u4ef6\u4ed8\u304d\u578b\u306f\u6b21\u306e\u5f62\u5f0f\u3092\u53d6\u308a\u307e\u3059\uff1a</p> <p><code>(&lt;template param&gt; is &lt;union type&gt; ? &lt;union type&gt; : &lt;union type&gt;)</code></p> <p>\u3059\u3079\u3066\u306e\u6761\u4ef6\u4ed8\u304d\u578b\u306f\u62ec\u5f27\u3067\u56f2\u3080\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u4f8b\uff1a<code>(...)</code></p> <p>\u6761\u4ef6\u4ed8\u304d\u578b\u306f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u4f9d\u5b58\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u95a2\u6570\u3067\u306e\u307f\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"annotating_code/type_syntax/conditional_types/#_2","title":"\u5fdc\u7528\u4f8b","text":"<p>PHP\u306e\u6570\u5024\u52a0\u7b97\u306e\u30e6\u30fc\u30b6\u30fc\u30e9\u30f3\u30c9\u5b9f\u88c5\u3092\u4f5c\u308a\u305f\u3044\u3068\u4eee\u5b9a\u3057\u307e\u3057\u3087\u3046\uff08\u305f\u3060\u3057\u3001\u5b9f\u969b\u306b\u306f\u3053\u308c\u3092\u884c\u308f\u306a\u3044\u3067\u304f\u3060\u3055\u3044\uff09\u3002\u3053\u308c\u3092\u6761\u4ef6\u4ed8\u304d\u623b\u308a\u5024\u578b\u3067\u578b\u4ed8\u3051\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>&lt;?php\n/** \n * @template T of int|float\n * @param T $a\n * @param T $b\n * @return int|float\n * @psalm-return (T is int ? int : float)\n */\nfunction add($a, $b) {\n    return $a + $b;\n}\n</code></pre> <p><code>add($x, $y)</code> \u306e\u7d50\u679c\u3092\u7406\u89e3\u3059\u308b\u969b\u3001Psalm\u306f\u305d\u306e\u7279\u5b9a\u306e\u547c\u3073\u51fa\u3057\u306b\u3064\u3044\u3066 <code>T</code> \u306e\u5024\u3092\u63a8\u8ad6\u3057\u3088\u3046\u3068\u3057\u307e\u3059\u3002<code>add(1, 2)</code> \u3092\u547c\u3073\u51fa\u3059\u5834\u5408\u3001<code>T</code> \u306f\u7c21\u5358\u306b <code>int</code> \u3068\u63a8\u8ad6\u3067\u304d\u307e\u3059\u3002\u6b21\u306b\u3001Psalm\u306f\u63d0\u4f9b\u3055\u308c\u305f\u6761\u4ef6\u4ed8\u304d\u623b\u308a\u5024\u578b <code>(T is int ? int : float)</code> \u3092\u53d6\u308a\u3001\u65e2\u77e5\u306e <code>T</code> \u306e\u5024 <code>int</code> \u3092\u4ee3\u5165\u3057\u307e\u3059\u3002\u305d\u306e\u7d50\u679c\u3001\u5f0f\u306f <code>(int is int ? int : float)</code> \u3068\u306a\u308a\u3001\u3053\u308c\u306f <code>(true ? int : float)</code> \u306b\u7c21\u7565\u5316\u3055\u308c\u3001\u3055\u3089\u306b <code>int</code> \u306b\u7c21\u7565\u5316\u3055\u308c\u307e\u3059\u3002</p> <p><code>add(1, 2.1)</code> \u3092\u547c\u3073\u51fa\u3059\u5834\u5408\u3001<code>T</code> \u306f\u4ee3\u308f\u308a\u306b <code>int|float</code> \u3068\u63a8\u8ad6\u3055\u308c\u307e\u3059\u3002\u3053\u308c\u306f\u5f0f <code>(T is int ? int : float)</code> \u304c\u6b21\u306e\u3088\u3046\u306b\u7f6e\u304d\u63db\u3048\u3089\u308c\u308b\u3053\u3068\u3092\u610f\u5473\u3057\u307e\u3059\uff1a <code>(int|float is int ? int : float)</code> \u30e6\u30cb\u30aa\u30f3 <code>int|float</code> \u306f\u660e\u3089\u304b\u306b <code>int</code> \u3067\u306f\u306a\u3044\u306e\u3067\u3001\u5f0f\u306f <code>(false ? int : float)</code> \u306b\u7c21\u7565\u5316\u3055\u308c\u3001\u3055\u3089\u306b <code>float</code> \u306b\u7c21\u7565\u5316\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"annotating_code/type_syntax/conditional_types/#_3","title":"\u30cd\u30b9\u30c8\u3055\u308c\u305f\u6761\u4ef6\u4ed8\u304d\u578b","text":"<p>\u4e09\u9805\u6f14\u7b97\u5b50\u3068\u540c\u69d8\u306b\u3001\u6761\u4ef6\u4ed8\u304d\u578b\u3092\u30cd\u30b9\u30c8\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>&lt;?php\nclass A {\n    const TYPE_STRING = 0;\n    const TYPE_INT = 1;\n\n    /**\n     * @template T of int\n     * @param T $i\n     * @psalm-return (\n     *     T is self::TYPE_STRING\n     *     ? string\n     *     : (T is self::TYPE_INT ? int : bool)\n     * )\n     */\n    public static function getDifferentType(int $i) {\n        if ($i === self::TYPE_STRING) {\n            return \"hello\";\n        }\n        if ($i === self::TYPE_INT) {\n            return 5;\n        }\n        return true;\n    }\n}\n</code></pre>"},{"location":"annotating_code/type_syntax/intersection_types/","title":"\u30a4\u30f3\u30bf\u30fc\u30bb\u30af\u30b7\u30e7\u30f3\u578b","text":"<p><code>Type1&amp;Type2&amp;Type3</code> \u5f62\u5f0f\u306e\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306f \u30a4\u30f3\u30bf\u30fc\u30bb\u30af\u30b7\u30e7\u30f3\u578b \u3067\u3059\u3002\u4efb\u610f\u306e\u5024\u306f <code>Type1</code>\u3001<code>Type2</code>\u3001<code>Type3</code> \u3092\u540c\u6642\u306b\u6e80\u305f\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002<code>Type1</code>\u3001<code>Type2</code>\u3001<code>Type3</code> \u306f\u3059\u3079\u3066 \u30a2\u30c8\u30df\u30c3\u30af\u578b \u3067\u3059\u3002</p> <p>\u4f8b\u3048\u3070\u3001PHPUnit\u30c6\u30b9\u30c8\u3067\u6b21\u306e\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u306e\u5f8c\uff1a</p> <pre><code>&lt;?php\n$hare = $this-&gt;createMock(Hare::class);\n</code></pre> <p><code>$hare</code> \u306f <code>Hare</code> \u3092\u62e1\u5f35\u3057\u3001<code>\\PHPUnit\\Framework\\MockObject\\MockObject</code> \u3092\u5b9f\u88c5\u3059\u308b\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u306a\u308a\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u3001<code>$hare</code> \u306f <code>Hare&amp;\\PHPUnit\\Framework\\MockObject\\MockObject</code> \u3068\u578b\u4ed8\u3051\u3055\u308c\u307e\u3059\u3002\u3053\u306e\u69cb\u6587\u306f\u3001\u5024\u304c\u8907\u6570\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u5b9f\u88c5\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u5834\u5408\u306f\u3044\u3064\u3067\u3082\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002</p> <p>\u3082\u30461\u3064\u306e\u4f7f\u7528\u4f8b\u306f\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30e9\u30a4\u30af\u306a\u914d\u5217\u3092\u30de\u30fc\u30b8\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u3053\u3068\u3067\u3059\uff1a</p> <pre><code>/** \n * @psalm-type A=array{a: int}\n * @psalm-type B=array{b: int}\n *\n * @param A $a\n * @param B $b\n *\n * @return A&amp;B\n */\nfunction foo($a, $b) {\n    return $a + $b;\n}\n</code></pre> <p>\u8fd4\u3055\u308c\u308b\u578b\u306b\u306f <code>A</code> \u3068 <code>B</code> \u306e\u4e21\u65b9\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u304c\u542b\u307e\u308c\u307e\u3059\u3002\u8a00\u3044\u63db\u3048\u308c\u3070\u3001<code>{a: int, b: int}</code> \u306b\u306a\u308a\u307e\u3059\u3002</p> <p>\u30a4\u30f3\u30bf\u30fc\u30bb\u30af\u30b7\u30e7\u30f3\u306f\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u578b \u306e\u30ea\u30b9\u30c8\u306e\u307f\u3001\u307e\u305f\u306f \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30e9\u30a4\u30af\u306a\u914d\u5217 \u306e\u30ea\u30b9\u30c8\u306e\u307f\u306b\u5bfe\u3057\u3066\u6709\u52b9\u3067\u3059\u3002</p>"},{"location":"annotating_code/type_syntax/object_types/","title":"\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u578b","text":""},{"location":"annotating_code/type_syntax/object_types/#_2","title":"\u540d\u524d\u306e\u306a\u3044\u30aa\u30d6\u30b8\u30a7\u30af\u30c8","text":"<p><code>object</code> \u306f\u540d\u524d\u306e\u306a\u3044\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u578b\u306e\u4f8b\u3067\u3059\u3002\u3053\u306e\u578b\u306fPHP\u3067\u3082\u6709\u52b9\u306a\u578b\u3067\u3059\u3002</p>"},{"location":"annotating_code/type_syntax/object_types/#_3","title":"\u540d\u524d\u4ed8\u304d\u30aa\u30d6\u30b8\u30a7\u30af\u30c8","text":"<p><code>stdClass</code>\u3001<code>Foo</code>\u3001<code>Bar\\Baz</code> \u306a\u3069\u306f\u540d\u524d\u4ed8\u304d\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u578b\u306e\u4f8b\u3067\u3059\u3002\u3053\u308c\u3089\u306e\u578b\u3082PHP\u3067\u6709\u52b9\u306a\u578b\u3067\u3059\u3002</p>"},{"location":"annotating_code/type_syntax/object_types/#_4","title":"\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30d7\u30ed\u30d1\u30c6\u30a3","text":"<p>Psalm\u306f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3068\u305d\u306e\u671f\u5f85\u3055\u308c\u308b\u578b\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\u4f8b\uff1a</p> <pre><code>/** @param object{foo: string} $obj */\nfunction takesObject(object $obj) : string {\n    return $obj-&gt;foo;\n}\n\ntakesObject((object) [\"foo\" =&gt; \"hello\"]);\n</code></pre> <p>\u30aa\u30d7\u30b7\u30e7\u30ca\u30eb\u306a\u30d7\u30ed\u30d1\u30c6\u30a3\u306f\u672b\u5c3e\u306b <code>?</code> \u3092\u4ed8\u3051\u3066\u793a\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u4f8b\uff1a</p> <pre><code>/** @param object{optional?: string} */\n</code></pre>"},{"location":"annotating_code/type_syntax/object_types/#_5","title":"\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u578b","text":"<p>Psalm\u306f <code>ArrayObject&lt;int, string&gt;</code> \u306e\u3088\u3046\u306a\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u578b\u306e\u4f7f\u7528\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u9069\u5207\u306a <code>@template</code> \u30bf\u30b0 \u3067\u578b\u30d2\u30f3\u30c8\u3092\u4ed8\u3051\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"annotating_code/type_syntax/object_types/#_6","title":"\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf","text":"<p>\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u578b\u306f\u6700\u59274\u3064\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002\u4f8b\uff1a<code>Generator&lt;int, string, mixed, void&gt;</code>\uff1a</p> <ol> <li><code>TKey</code>\u3001<code>yield</code> \u30ad\u30fc\u306e\u578b - \u30c7\u30d5\u30a9\u30eb\u30c8: <code>mixed</code></li> <li><code>TValue</code>\u3001<code>yield</code> \u5024\u306e\u578b - \u30c7\u30d5\u30a9\u30eb\u30c8: <code>mixed</code></li> <li><code>TSend</code>\u3001<code>send()</code> \u30e1\u30bd\u30c3\u30c9\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u578b - \u30c7\u30d5\u30a9\u30eb\u30c8: <code>mixed</code></li> <li><code>TReturn</code>\u3001<code>getReturn()</code> \u30e1\u30bd\u30c3\u30c9\u306e\u623b\u308a\u5024\u306e\u578b - \u30c7\u30d5\u30a9\u30eb\u30c8: <code>mixed</code></li> </ol> <p><code>Generator&lt;int&gt;</code> \u306f <code>Generator&lt;mixed, int, mixed, mixed&gt;</code> \u306e\u7701\u7565\u5f62\u3067\u3059\u3002</p> <p><code>Generator&lt;int, string&gt;</code> \u306f <code>Generator&lt;int, string, mixed, mixed&gt;</code> \u306e\u7701\u7565\u5f62\u3067\u3059\u3002</p>"},{"location":"annotating_code/type_syntax/other_types/","title":"\u305d\u306e\u4ed6\u306e\u578b","text":"<ul> <li><code>iterable</code> - iterable\u7591\u4f3c\u578b\u3092\u8868\u3057\u307e\u3059\u3002\u914d\u5217\u3068\u540c\u69d8\u306b\u3001\u30a4\u30c6\u30e9\u30d6\u30eb\u306f\u578b\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6301\u3064\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u4f8b\uff1a<code>iterable&lt;string, Foo&gt;</code></li> <li><code>void</code> - \u95a2\u6570\u304c\u5024\u3092\u8fd4\u3055\u306a\u3044\u5834\u5408\u306b\u623b\u308a\u5024\u306e\u578b\u3068\u3057\u3066\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002</li> <li><code>resource</code> \u306f PHP\u30ea\u30bd\u30fc\u30b9 \u3092\u8868\u3057\u307e\u3059\u3002</li> <li><code>closed-resource</code> \u306f\uff08<code>fclose</code>\u307e\u305f\u306f\u4ed6\u306e\u30af\u30ed\u30fc\u30ba\u95a2\u6570\u3092\u4f7f\u7528\u3057\u3066\uff09\u9589\u3058\u3089\u308c\u305f PHP\u30ea\u30bd\u30fc\u30b9 \u3092\u8868\u3057\u307e\u3059\u3002</li> </ul>"},{"location":"annotating_code/type_syntax/scalar_types/","title":"\u30b9\u30ab\u30e9\u30fc\u578b","text":""},{"location":"annotating_code/type_syntax/scalar_types/#_2","title":"\u30b9\u30ab\u30e9\u30fc","text":"<p><code>int</code>\u3001<code>bool</code>\u3001<code>float</code>\u3001<code>string</code> \u306f\u30b9\u30ab\u30e9\u30fc\u578b\u306e\u4f8b\u3067\u3059\u3002\u30b9\u30ab\u30e9\u30fc\u578b\u306fPHP\u306e\u30b9\u30ab\u30e9\u30fc\u5024\u3092\u8868\u3057\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u578b\u306fPHP 7\u3067\u3082\u6709\u52b9\u306a\u578b\u3067\u3059\u3002 <code>scalar</code> \u578b\u306f\u3059\u3079\u3066\u306e\u30b9\u30ab\u30e9\u30fc\u578b\u306e\u30b9\u30fc\u30d1\u30fc\u30bf\u30a4\u30d7\u3067\u3059\u3002</p>"},{"location":"annotating_code/type_syntax/scalar_types/#int-range","title":"int-range","text":"<p>\u6574\u6570\u7bc4\u56f2\u306f\u3001\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u69cb\u6587\u3092\u4f7f\u7528\u3057\u3066\u6307\u5b9a\u3055\u308c\u305f\u7bc4\u56f2\u5185\u306e\u6574\u6570\u3092\u793a\u3057\u307e\u3059\uff1a<code>int&lt;x, y&gt;</code> <code>x</code> \u3068 <code>y</code> \u306f\u6574\u6570\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 <code>x</code> \u306f <code>min</code> \u3092\u4f7f\u7528\u3057\u3066 PHP_INT_MIN \u3092\u793a\u3059\u3053\u3068\u3082\u3067\u304d\u3001<code>y</code> \u306f <code>max</code> \u3092\u4f7f\u7528\u3057\u3066 PHP_INT_MAX \u3092\u793a\u3059\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002</p> <p>\u4f8b\uff1a</p> <ul> <li><code>int&lt;-1, 3&gt;</code></li> <li><code>int&lt;min, 0&gt;</code></li> <li><code>int&lt;1, max&gt;</code> \uff08<code>positive-int</code> \u3068\u540c\u7b49\uff09</li> <li><code>int&lt;0, max&gt;</code> \uff08<code>non-negative-int</code> \u3068\u540c\u7b49\uff09</li> <li><code>int&lt;min, -1&gt;</code> \uff08<code>negative-int</code> \u3068\u540c\u7b49\uff09</li> <li><code>int&lt;min, 0&gt;</code> \uff08<code>non-positive-int</code> \u3068\u540c\u7b49\uff09</li> <li><code>int&lt;min, max&gt;</code> \uff08<code>int</code> \u3068\u540c\u7b49\uff09</li> </ul>"},{"location":"annotating_code/type_syntax/scalar_types/#int-mask1-2-4","title":"int-mask&lt;1, 2, 4&gt;","text":"<p>\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u30d3\u30c3\u30c8\u30de\u30b9\u30af\u7d44\u307f\u5408\u308f\u305b\u306e\u7d50\u679c\u3067\u3042\u308b\u578b\u3092\u8868\u3057\u307e\u3059\u3002 <code>int-mask&lt;1, 2, 4&gt;</code> \u306f <code>0|1|2|3|4|5|6|7</code> \u306b\u5bfe\u5fdc\u3057\u307e\u3059\u3002</p>"},{"location":"annotating_code/type_syntax/scalar_types/#int-mask-ofmyclassclass_constant_","title":"int-mask-of&lt;MyClass::CLASS_CONSTANT_*&gt;","text":"<p>\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u30d3\u30c3\u30c8\u30de\u30b9\u30af\u7d44\u307f\u5408\u308f\u305b\u306e\u7d50\u679c\u3067\u3042\u308b\u578b\u3092\u8868\u3057\u307e\u3059\u3002 \u3053\u308c\u306f <code>int-mask</code> \u3068\u540c\u3058\u6982\u5ff5\u3067\u3059\u304c\u3001\u3053\u306e\u578b\u306f\u30b3\u30fc\u30c9\u5185\u306e\u5b9a\u6570\u3078\u306e\u53c2\u7167\u3068\u3068\u3082\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\uff1a<code>int-mask-of&lt;MyClass::CLASS_CONSTANT_*&gt;</code> \u306f\u3001\u5024\u304c1\u30012\u30014\u306e <code>CLASS_CONSTANT_{A,B,C}</code> \u3068\u3044\u30463\u3064\u306e\u5b9a\u6570\u304c\u3042\u308b\u5834\u5408\u3001<code>0|1|2|3|4|5|6|7</code> \u306b\u5bfe\u5fdc\u3057\u307e\u3059\u3002</p>"},{"location":"annotating_code/type_syntax/scalar_types/#array-key","title":"array-key","text":"<p><code>array-key</code> \u306f <code>int</code> \u3068 <code>string</code> \u306e\u30b9\u30fc\u30d1\u30fc\u30bf\u30a4\u30d7\u3067\u3059\uff08\u305f\u3060\u3057\u3001\u30e6\u30cb\u30aa\u30f3\u3067\u306f\u3042\u308a\u307e\u305b\u3093\uff09\u3002</p>"},{"location":"annotating_code/type_syntax/scalar_types/#numeric","title":"numeric","text":"<p><code>numeric</code> \u306f <code>int</code> \u307e\u305f\u306f <code>float</code> \u3068 <code>numeric-string</code> \u306e\u30b9\u30fc\u30d1\u30fc\u30bf\u30a4\u30d7\u3067\u3059\u3002</p>"},{"location":"annotating_code/type_syntax/scalar_types/#class-string-interface-string","title":"class-string, interface-string","text":"<p>Psalm\u306f <code>MyClass::class</code> \u5b9a\u6570\u306e\u305f\u3081\u306e\u7279\u5225\u306a\u30e1\u30bf\u578b <code>class-string</code> \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u304a\u308a\u3001\u3053\u308c\u306f <code>string</code> \u304c\u4f7f\u7528\u3067\u304d\u308b\u3069\u3053\u3067\u3082\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002</p> <p>\u4f8b\u3048\u3070\u3001<code>string</code> \u30d1\u30e9\u30e1\u30fc\u30bf <code>$class_name</code> \u3092\u6301\u3064\u95a2\u6570\u304c\u3042\u308b\u3068\u304d\u3001\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3 <code>@param class-string $class_name</code> \u3092\u4f7f\u7528\u3057\u3066\u3001\u305d\u306e\u4f4d\u7f6e\u306b\u5e38\u306b <code>::class</code> \u5b9a\u6570\u304c\u6e21\u3055\u308c\u308b\u3053\u3068\u3092Psalm\u306b\u78ba\u8a8d\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>&lt;?php\nclass A {}\n\n/**\n * @param class-string $s\n */\nfunction takesClassName(string $s) : void {}\n</code></pre> <p><code>takesClassName(\"A\");</code> \u306f <code>TypeCoercion</code> \u306e\u554f\u984c\u3092\u5f15\u304d\u8d77\u3053\u3057\u307e\u3059\u304c\u3001<code>takesClassName(A::class)</code> \u306f\u554f\u984c\u3042\u308a\u307e\u305b\u3093\u3002</p> <p>\u307e\u305f\u3001<code>class-string</code> \u3092\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u540d\u3067\u30d1\u30e9\u30e1\u30fc\u30bf\u5316\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u4f8b\uff1a<code>class-string&lt;Foo&gt;</code>\u3002\u3053\u308c\u306f\u3001\u4e00\u81f4\u3059\u308b\u578b\u304c <code>Foo</code> \u306e\u30af\u30e9\u30b9\u6587\u5b57\u5217\u307e\u305f\u306f\u305d\u306e\u5b50\u5b6b\u306e\u3044\u305a\u308c\u304b\u3067\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u3053\u3068\u3092Psalm\u306b\u4f1d\u3048\u307e\u3059\u3002</p>"},{"location":"annotating_code/type_syntax/scalar_types/#trait-string","title":"trait-string","text":"<p>Psalm\u306f\u5b58\u5728\u3059\u308b\u30c8\u30ec\u30a4\u30c8\u3092\u793a\u3059 <code>trait-string</code> \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3082\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"annotating_code/type_syntax/scalar_types/#enum-string","title":"enum-string","text":"<p>Psalm\u306f\u5b58\u5728\u3059\u308b\u5217\u6319\u578b\u3092\u793a\u3059 <code>enum-string</code> \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3082\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"annotating_code/type_syntax/scalar_types/#callable-string","title":"callable-string","text":"<p><code>callable-string</code> \u306f <code>is_callable</code> \u30c1\u30a7\u30c3\u30af\u3092\u901a\u904e\u3057\u305f\u6587\u5b57\u5217\u5024\u3092\u793a\u3057\u307e\u3059\u3002</p>"},{"location":"annotating_code/type_syntax/scalar_types/#numeric-string","title":"numeric-string","text":"<p><code>numeric-string</code> \u306f <code>is_numeric</code> \u30c1\u30a7\u30c3\u30af\u3092\u901a\u904e\u3057\u305f\u6587\u5b57\u5217\u5024\u3092\u793a\u3057\u307e\u3059\u3002</p>"},{"location":"annotating_code/type_syntax/scalar_types/#literal-string","title":"literal-string","text":"<p><code>literal-string</code> \u306f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5185\u306e\u6587\u5b57\u5217\u306e\u307f\u3067\u69cb\u6210\u3055\u308c\u308b\u6587\u5b57\u5217\u5024\u3092\u793a\u3057\u307e\u3059\u3002</p> <p>\u4f8b\uff1a</p> <ul> <li><code>\"hello \" . \"world\"</code></li> <li><code>\"hello \" . Person::DEFAULT_NAME</code></li> <li><code>implode(', ', [\"one\", \"two\"])</code></li> <li><code>implode(', ', [1, 2, 3])</code></li> <li><code>\"hello \" . &lt;another literal-string&gt;</code></li> </ul> <p>\u3053\u306e\u30bf\u30a4\u30d7\u30c1\u30a7\u30c3\u30af\u3092\u901a\u904e\u3057\u306a\u3044\u6587\u5b57\u5217\uff1a</p> <ul> <li><code>file_get_contents(\"foo.txt\")</code></li> <li><code>$_GET[\"foo\"]</code></li> <li><code>\"hello \" . $_GET[\"foo\"]</code></li> </ul>"},{"location":"annotating_code/type_syntax/scalar_types/#literal-int","title":"literal-int","text":"<p><code>literal-int</code> \u306f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5185\u306e\u30ea\u30c6\u30e9\u30eb\u6574\u6570\u306e\u307f\u3067\u69cb\u6210\u3055\u308c\u308b\u6574\u6570\u5024\u3092\u793a\u3057\u307e\u3059\u3002</p> <p>\u4f8b\uff1a</p> <ul> <li><code>12</code></li> <li><code>12+42</code></li> </ul> <p>\u3053\u306e\u30bf\u30a4\u30d7\u30c1\u30a7\u30c3\u30af\u3092\u901a\u904e\u3057\u306a\u3044\u6574\u6570\uff1a</p> <ul> <li><code>(int) file_get_contents(\"foo.txt\")</code></li> <li><code>(int) $_GET[\"foo\"]</code></li> <li><code>((int)$_GET[\"foo\"]) + 2</code></li> </ul>"},{"location":"annotating_code/type_syntax/scalar_types/#lowercase-string-non-empty-string-non-empty-lowercase-string","title":"lowercase-string, non-empty-string, non-empty-lowercase-string","text":"<p>\u7a7a\u3067\u306a\u3044\u6587\u5b57\u5217\u3001\u5c0f\u6587\u5b57\u306e\u6587\u5b57\u5217\u3001\u307e\u305f\u306f\u4e21\u65b9\u3092\u540c\u6642\u306b\u8868\u3057\u307e\u3059\u3002</p> <p>\u3053\u3053\u3067\u306e <code>empty</code> \u306f\u7a7a\u6587\u5b57\u5217 <code>''</code> \u3092\u9664\u304f\u3059\u3079\u3066\u306e\u6587\u5b57\u5217\u3068\u3057\u3066\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u5225\u306e\u578b <code>non-falsy-string</code> \u306f\u4e8b\u5b9f\u4e0a <code>non-empty-string</code> \u306e\u30b5\u30d6\u30bf\u30a4\u30d7\u3067\u3042\u308a\u3001\u6587\u5b57\u5217\u5024 <code>'0'</code> \u3082\u9664\u5916\u3057\u307e\u3059\u3002</p>"},{"location":"annotating_code/type_syntax/top_bottom_types/","title":"\u30c8\u30c3\u30d7\u578b\u3001\u30dc\u30c8\u30e0\u578b","text":""},{"location":"annotating_code/type_syntax/top_bottom_types/#mixed","title":"<code>mixed</code>","text":"<p>\u3053\u308c\u306fPHP\u306e\u578b\u30b7\u30b9\u30c6\u30e0\u306b\u304a\u3051\u308b \u30c8\u30c3\u30d7\u578b \u3067\u3042\u308a\u3001\u578b\u60c5\u5831\u306e\u6b20\u5982\u3092\u8868\u3057\u307e\u3059\u3002Psalm\u306f <code>reportMixedIssues</code> \u30d5\u30e9\u30b0\u304c\u30aa\u30f3\u306b\u306a\u3063\u3066\u3044\u308b\u3068\u304d\u3001\u307e\u305f\u306f Level 1 \u306e\u5834\u5408\u306b <code>mixed</code> \u578b\u306b\u3064\u3044\u3066\u8b66\u544a\u3057\u307e\u3059\u3002</p>"},{"location":"annotating_code/type_syntax/top_bottom_types/#never","title":"<code>never</code>","text":"<p>docblock\u3067\u306f <code>no-return</code> \u307e\u305f\u306f <code>never-return</code> \u3068\u3057\u3066\u30a8\u30a4\u30ea\u30a2\u30b9\u3092\u4ed8\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u6ce8\u610f\uff1a\u3053\u308c\u306f\u4ee5\u524d Psalm \u306b\u5b58\u5728\u3057\u3066\u3044\u305f\u53e4\u3044 <code>empty</code> \u578b\u306b\u53d6\u3063\u3066\u4ee3\u308f\u308a\u307e\u3057\u305f\u3002</p> <p>\u3053\u308c\u306fPHP\u306e\u578b\u30b7\u30b9\u30c6\u30e0\u306b\u304a\u3051\u308b \u30dc\u30c8\u30e0\u578b \u3067\u3059\u3002\u53ef\u80fd\u306a\u5024\u3092\u6301\u305f\u306a\u3044\u578b\u3092\u8868\u3059\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002\u3053\u308c\u306f\u8907\u6570\u306e\u30b1\u30fc\u30b9\u3067\u767a\u751f\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\uff1a</p> <ul> <li>PHP 8.1 \u306e\u5b9f\u969b\u306e <code>never</code> \u578b\uff08\u53e4\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u306fdocblock\u3067\u4f7f\u7528\u3067\u304d\u307e\u3059\uff09\u3002\u3053\u306e\u578b\u306f\u3001\u5e38\u306b\u4f8b\u5916\u3092\u30b9\u30ed\u30fc\u3059\u308b\u304b\u3001\u5e38\u306b exit() \u3059\u308b\u95a2\u6570\u306e\u623b\u308a\u5024\u578b\u3068\u3057\u3066\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002</li> <li>\u53ef\u80fd\u306a\u3059\u3079\u3066\u306e\u578b\u304c\u9664\u5916\u3055\u308c\u305f\u30e6\u30cb\u30aa\u30f3\u578b\u3002\uff08\u4f8b\u3048\u3070\u3001\u5909\u6570\u304c <code>string|int</code> \u3067\u3001\u6761\u4ef6\u5185\u3067 is_bool() \u30c1\u30a7\u30c3\u30af\u3092\u884c\u3046\u5834\u5408\u3001\u305d\u306e\u6761\u4ef6\u5185\u3067\u306e\u5909\u6570\u306e\u578b\u306f <code>never</code> \u306b\u306a\u308a\u307e\u3059\u3002\u306a\u305c\u306a\u3089\u3001\u305d\u306e\u6761\u4ef6\u306b\u5165\u308b\u3053\u3068\u306f\u6c7a\u3057\u3066\u306a\u3044\u304b\u3089\u3067\u3059\uff09</li> <li>\u4eca\u5f8c\u304f\u308b\u578b\u306e\u30d7\u30ec\u30fc\u30b9\u30db\u30eb\u30c0\u30fc\u3092\u8868\u3059\u3053\u3068\u3082\u3067\u304d\u307e\u3059 - \u826f\u3044\u4f8b\u306f\u7a7a\u306e\u914d\u5217 <code>[]</code> \u306e\u578b\u3067\u3001Psalm \u306f\u3053\u308c\u3092 <code>array&lt;never, never&gt;</code> \u3068\u578b\u4ed8\u3051\u3057\u307e\u3059\u3002\u914d\u5217\u306e\u5185\u5bb9\u306f\u7a7a\u306a\u306e\u3067\u3001\u3069\u3093\u306a\u5185\u5bb9\u3067\u3082\u53d7\u3051\u5165\u308c\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059</li> <li>\u4e0a\u306e\u884c\u3068\u540c\u3058\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3067\u3001\u307e\u3060\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u306a\u3044\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306b\u5bfe\u3057\u3066\u3082\u767a\u751f\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059</li> </ul>"},{"location":"annotating_code/type_syntax/union_types/","title":"\u30e6\u30cb\u30aa\u30f3\u578b","text":"<p><code>Type1|Type2|Type3</code> \u5f62\u5f0f\u306e\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306f \u30e6\u30cb\u30aa\u30f3\u578b \u3067\u3059\u3002<code>Type1</code>\u3001<code>Type2</code>\u3001<code>Type3</code> \u306f\u3059\u3079\u3066\u3001\u305d\u306e\u30e6\u30cb\u30aa\u30f3\u578b\u306e\u8a31\u5bb9\u53ef\u80fd\u306a\u53ef\u80fd\u306a\u578b\u3067\u3059\u3002</p> <p><code>Type1</code>\u3001<code>Type2</code>\u3001<code>Type3</code> \u306f\u305d\u308c\u305e\u308c \u30a2\u30c8\u30df\u30c3\u30af\u578b \u3067\u3059\u3002</p> <p>\u30e6\u30cb\u30aa\u30f3\u578b\u306f\u3001\u4f8b\u3048\u3070\u4e09\u9805\u6f14\u7b97\u5b50\u306e\u5f0f\u306a\u3069\u3001\u3055\u307e\u3056\u307e\u306a\u65b9\u6cd5\u3067\u751f\u6210\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>&lt;?php\n$rabbit = rand(0, 10) === 4 ? 'rabbit' : ['rabbit'];\n</code></pre> <p><code>$rabbit</code> \u306f <code>string</code> \u307e\u305f\u306f <code>array</code> \u306e\u3044\u305a\u308c\u304b\u306b\u306a\u308a\u307e\u3059\u3002\u3053\u306e\u8003\u3048\u3092\u30e6\u30cb\u30aa\u30f3\u578b\u3067\u8868\u73fe\u3067\u304d\u307e\u3059 - \u3064\u307e\u308a\u3001<code>$rabbit</code> \u306f <code>string|array</code> \u3068\u578b\u4ed8\u3051\u3055\u308c\u307e\u3059\u3002\u30e6\u30cb\u30aa\u30f3\u578b\u306f\u3001\u4e0e\u3048\u3089\u308c\u305f\u5909\u6570\u304c\u6301\u3064\u53ef\u80fd\u6027\u306e\u3042\u308b \u3059\u3079\u3066\u306e \u578b\u3092\u8868\u3057\u307e\u3059\u3002</p> <p>PHP\u306e\u30d3\u30eb\u30c8\u30a4\u30f3\u95a2\u6570\u3082\u30e6\u30cb\u30aa\u30f3\u578b\u306e\u623b\u308a\u5024\u3092\u6301\u3063\u3066\u3044\u307e\u3059 - <code>strpos</code> \u306f\u72b6\u6cc1\u306b\u3088\u3063\u3066 <code>false</code> \u3092\u8fd4\u3059\u3053\u3068\u3082\u3042\u308c\u3070\u3001<code>int</code> \u3092\u8fd4\u3059\u3053\u3068\u3082\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u30e6\u30cb\u30aa\u30f3\u578b\u3092 <code>int|false</code> \u3068\u8868\u73fe\u3057\u307e\u3059\u3002</p>"},{"location":"annotating_code/type_syntax/utility_types/","title":"\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u578b","text":"<p>Psalm\u306f\u3001PHP\u306e\u578b\u30b7\u30b9\u30c6\u30e0\u306b\u8d85\u80fd\u529b\u3092\u3082\u305f\u3089\u3059\u3044\u304f\u3064\u304b\u306e \u9b54\u6cd5\u306e \u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u578b\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"annotating_code/type_syntax/utility_types/#key-oft","title":"key-of&lt;T&gt;","text":"<p>(Psalm 5.0+)</p> <p><code>key-of</code> \u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u306f\u3001\u4efb\u610f\u306e \u914d\u5217\u578b \u306e\u30aa\u30d5\u30bb\u30c3\u30c8\u578b\u3092\u8fd4\u3057\u307e\u3059\u3002</p> <p>\u3044\u304f\u3064\u304b\u306e\u4f8b\uff1a - <code>key-of&lt;Foo\\Bar::ARRAY_CONST&gt;</code> \u306f <code>ARRAY_CONST</code> \u306e\u30aa\u30d5\u30bb\u30c3\u30c8\u578b\u3092\u8a55\u4fa1\u3057\u307e\u3059\uff08Psalm 3.3+\uff09 - <code>key-of&lt;list&lt;mixed&gt;&gt;</code> \u306f <code>int</code> \u3092\u8a55\u4fa1\u3057\u307e\u3059 - <code>key-of&lt;array{a: mixed, b: mixed}|array{c: mixed}&gt;</code> \u306f <code>'a'|'b'|'c'</code> \u3092\u8a55\u4fa1\u3057\u307e\u3059 - <code>key-of&lt;string[]&gt;</code> \u306f <code>array-key</code> \u3092\u8a55\u4fa1\u3057\u307e\u3059 - <code>key-of&lt;T&gt;</code> \u306f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u30aa\u30d5\u30bb\u30c3\u30c8\u578b\u3092\u8a55\u4fa1\u3057\u307e\u3059\uff08<code>@template T of array</code> \u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\uff09</p>"},{"location":"annotating_code/type_syntax/utility_types/#_2","title":"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u4f7f\u7528\u306b\u95a2\u3059\u308b\u6ce8\u610f","text":"<p>\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d1\u30e9\u30e1\u30fc\u30bf\u3067 <code>key-of</code> \u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u3001\u6b21\u306e\u8a31\u53ef\u3055\u308c\u305f\u30e1\u30bd\u30c3\u30c9\u3067\u306e\u307f\u578b\u30c1\u30a7\u30c3\u30af\u3092\u6e80\u305f\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff1a - <code>array_keys($t)</code> - <code>array_key_first($t)</code> - <code>array_key_last($t)</code></p> <p>\u73fe\u5728\u3001<code>array_key_exists($key, $t)</code> \u306f <code>$key</code> \u304c <code>key-of&lt;T&gt;</code> \u3067\u3042\u308b\u3068\u63a8\u8ad6 \u3057\u307e\u305b\u3093\u3002</p> <pre><code>/** \n * @template T of array\n * @param T $array\n * @return list&lt;key-of&lt;T&gt;&gt;\n */\nfunction getKeys($array) {\n    return array_keys($array);\n}\n</code></pre>"},{"location":"annotating_code/type_syntax/utility_types/#value-oft","title":"value-of&lt;T&gt;","text":"<p>(Psalm 5.0+)</p> <p><code>value-of</code> \u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u306f\u3001\u4efb\u610f\u306e \u914d\u5217\u578b \u306e\u5024\u578b\u3092\u8fd4\u3057\u307e\u3059\u3002</p> <p>\u3044\u304f\u3064\u304b\u306e\u4f8b\uff1a - <code>value-of&lt;Foo\\Bar::ARRAY_CONST&gt;</code> \u306f <code>ARRAY_CONST</code> \u306e\u5024\u578b\u3092\u8a55\u4fa1\u3057\u307e\u3059\uff08Psalm 3.3+\uff09 - <code>value-of&lt;list&lt;float&gt;&gt;</code> \u306f <code>float</code> \u3092\u8a55\u4fa1\u3057\u307e\u3059 - <code>value-of&lt;array{a: bool, b: int}|array{c: string}&gt;</code> \u306f <code>bool|int|string</code> \u3092\u8a55\u4fa1\u3057\u307e\u3059 - <code>value-of&lt;string[]&gt;</code> \u306f <code>string</code> \u3092\u8a55\u4fa1\u3057\u307e\u3059 - <code>value-of&lt;T&gt;</code> \u306f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u5024\u578b\u3092\u8a55\u4fa1\u3057\u307e\u3059\uff08<code>@template T of array</code> \u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\uff09</p>"},{"location":"annotating_code/type_syntax/utility_types/#_3","title":"\u5217\u6319\u578b\u3067\u306e\u4f7f\u7528","text":"<p>\u914d\u5217\u578b\u306b\u52a0\u3048\u3066\u3001<code>value-of</code> \u306f <code>BackedEnum</code> \u306e\u53ef\u80fd\u306a\u5024\u306e1\u3064\u3092\u542b\u3080 <code>int</code> \u307e\u305f\u306f <code>string</code> \u3092\u6307\u5b9a\u3059\u308b\u305f\u3081\u306b\u3082\u4f7f\u7528\u3067\u304d\u307e\u3059\uff1a - <code>value-of&lt;Suit&gt;</code> \u306f <code>'H'|'D'|'C'|'S'</code> \u3092\u8a55\u4fa1\u3057\u307e\u3059\uff08\u30d0\u30c3\u30af\u30c9\u5217\u6319\u578b \u3092\u53c2\u7167\uff09 - <code>value-of&lt;BinaryDigits&gt;</code> \u306f <code>0|1</code> \u3092\u8a55\u4fa1\u3057\u307e\u3059</p>"},{"location":"annotating_code/type_syntax/utility_types/#_4","title":"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u4f7f\u7528\u306b\u95a2\u3059\u308b\u6ce8\u610f","text":"<p>\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d1\u30e9\u30e1\u30fc\u30bf\u3067 <code>value-of</code> \u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u3001\u6b21\u306e\u8a31\u53ef\u3055\u308c\u305f\u30e1\u30bd\u30c3\u30c9\u3067\u306e\u307f\u578b\u30c1\u30a7\u30c3\u30af\u3092\u6e80\u305f\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff1a - <code>array_values</code></p> <pre><code>/** \n * @template T of array\n * @param T $array\n * @return value-of&lt;T&gt;[]\n */\nfunction getValues($array) {\n    return array_values($array);\n}\n</code></pre> <p>\u73fe\u5728\u3001<code>in_array($value, $t)</code> \u306f <code>$value</code> \u304c <code>value-of&lt;T&gt;</code> \u3067\u3042\u308b\u3068\u63a8\u8ad6 \u3057\u307e\u305b\u3093\u3002</p>"},{"location":"annotating_code/type_syntax/utility_types/#properties-oft","title":"properties-of&lt;T&gt;","text":"<p>(Psalm 5.0+)</p> <p>\u3053\u306e \u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u578b \u306e\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u306f\u3001\u30af\u30e9\u30b9\u306e\u975e\u9759\u7684\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u540d\u524d\u3092\u30ad\u30fc\u3068\u3057\u3001\u305d\u308c\u305e\u308c\u306e\u578b\u3092\u5024\u3068\u3059\u308b\u30ad\u30fc\u4ed8\u304d\u914d\u5217\u578b\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u914d\u5217\u306b\u5909\u63db\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u5834\u5408\u306b\u4fbf\u5229\u3067\u3059\u3002</p> <pre><code>class A {\n  public string $foo = 'foo!';\n  public int $bar = 42;\n\n  /**\n   * @return properties-of&lt;self&gt;\n   */\n  public function asArray(): array {\n    return [\n      'foo' =&gt; $this-&gt;foo,\n      'bar' =&gt; $this-&gt;bar,\n    ];\n  }\n\n  /**\n   * @return list&lt;key-of&lt;properties-of&lt;self&gt;&gt;&gt;\n   */\n  public function attributeNames(): array {\n    return ['foo', 'bar']\n  }\n}\n</code></pre>"},{"location":"annotating_code/type_syntax/utility_types/#_5","title":"\u30d0\u30ea\u30a8\u30fc\u30b7\u30e7\u30f3","text":"<p><code>properties-of&lt;T&gt;</code> \u306f \u3059\u3079\u3066\u306e\u975e\u9759\u7684 \u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u8fd4\u3059\u3053\u3068\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u7279\u5b9a\u306e\u53ef\u8996\u6027\u3092\u6301\u3064\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u307f\u3092\u9078\u629e\u3059\u308b\u305f\u3081\u306b\u3001\u4ee5\u4e0b\u306e\u30b5\u30d6\u30bf\u30a4\u30d7\u304c\u3042\u308a\u307e\u3059\uff1a - <code>public-properties-of&lt;T&gt;</code> - <code>protected-properties-of&lt;T&gt;</code> - <code>private-properties-of&lt;T&gt;</code></p>"},{"location":"annotating_code/type_syntax/utility_types/#_6","title":"\u30b7\u30fc\u30eb\u30c9\u914d\u5217\u306e\u30b5\u30dd\u30fc\u30c8","text":"<p>properties-of \u3068 get_object_vars \u304c\u30b7\u30fc\u30eb\u30c9\u914d\u5217\u3092\u8fd4\u3059\u3088\u3046\u306b\u3057\u305f\u3044\u5834\u5408\u306f\u3001final\u30af\u30e9\u30b9\u3092\u4f7f\u7528\u3057\u3066\u304f\u3060\u3055\u3044\uff1a</p> <p>```php /*   * @template T  * @param T $object  * @return properties-of / function asArray($object): array {   return get_object_vars($object); } <p>class A {   public string $foo = 'foo!';   public int $bar = 42; }</p> <p>final class B extends A {   public float $baz = 2.1; }</p> <p>$a = asArray(new A); /* @psalm-trace $a /; // array{foo: string, bar: int, ...}</p> <p>$b = asArray(new B); /*</p>"},{"location":"annotating_code/type_syntax/value_types/","title":"\u5024\u578b","text":"<p>Psalm\u3067\u306f\u3001\u578b\u3067\u5024\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"annotating_code/type_syntax/value_types/#null","title":"null","text":"<p>\u3053\u308c\u306f <code>null</code> \u5024\u3067\u3001\u4e16\u754c\u306e\u7834\u58ca\u8005\u3067\u3059\u3002\u614e\u91cd\u306b\u4f7f\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002Psalm\u3067\u306f\u3001<code>?Foo</code> \u3068\u66f8\u304f\u3053\u3068\u3067 <code>null|Foo</code> \u3092\u610f\u5473\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"annotating_code/type_syntax/value_types/#true-false","title":"true, false","text":"<p><code>true</code> \u3068 <code>false</code> \u306e\u4f7f\u7528\u3082PHPDoc\u3068\u4e92\u63db\u6027\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"annotating_code/type_syntax/value_types/#some_string-4-314","title":"\"some_string\", 4, 3.14","text":"<p>Psalm\u3067\u306f\u3001\u578b\u306b\u30ea\u30c6\u30e9\u30eb\u5024\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u4f8b\uff1a<code>@return \"good\"|\"bad\"</code></p>"},{"location":"annotating_code/type_syntax/value_types/#_2","title":"\u901a\u5e38\u306e\u30af\u30e9\u30b9\u5b9a\u6570","text":"<p>Psalm\u3067\u306f\u3001\u578b\u306b\u30af\u30e9\u30b9\u5b9a\u6570\u3092\u542b\u3081\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u4f8b\uff1a<code>@return Foo::GOOD|Foo::BAD</code>\u3002\u307e\u305f\u3001\u660e\u793a\u7684\u306a\u30af\u30e9\u30b9\u6587\u5b57\u5217\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u4f8b\uff1a<code>Foo::class|Bar::class</code></p> <p>\u7279\u5b9a\u306e\u30af\u30e9\u30b9\u306e\u3001\u307e\u305f\u306f\u305d\u306e\u30af\u30e9\u30b9\u3092\u62e1\u5f35\u3057\u305f\u30af\u30e9\u30b9\u6587\u5b57\u5217\u306e\u307f\u3092\u30d1\u30e9\u30e1\u30fc\u30bf\u3068\u3057\u3066\u53d7\u3051\u5165\u308c\u308b\u3088\u3046\u306b\u6307\u5b9a\u3057\u305f\u3044\u5834\u5408\u306f\u3001<code>@param class-string&lt;Foo&gt; $foo_class</code> \u3068\u3044\u3046\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002\u305d\u306e\u30af\u30e9\u30b9\u6587\u5b57\u5217\u3060\u3051\u3092\u53d7\u3051\u5165\u308c\u308b\u3088\u3046\u306b\u3057\u305f\u3044\u5834\u5408\u306f\u3001<code>Foo::class</code> \u3068\u3044\u3046\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>&lt;?php\nclass A {}\nclass AChild extends A {}\nclass B {}\nclass BChild extends B {}\n\n/** \n * @param class-string&lt;A&gt;|class-string&lt;B&gt; $s \n */\nfunction foo(string $s) : void {}\n\n/** \n * @param A::class|B::class $s \n */\nfunction bar(string $s) : void {}\n\nfoo(A::class); // \u52d5\u4f5c\u3057\u307e\u3059\nfoo(AChild::class); // \u52d5\u4f5c\u3057\u307e\u3059\nfoo(B::class); // \u52d5\u4f5c\u3057\u307e\u3059\nfoo(BChild::class); // \u52d5\u4f5c\u3057\u307e\u3059\n\nbar(A::class); // \u52d5\u4f5c\u3057\u307e\u3059\nbar(AChild::class); // \u5931\u6557\u3057\u307e\u3059\nbar(B::class); // \u52d5\u4f5c\u3057\u307e\u3059\nbar(BChild::class); // \u5931\u6557\u3057\u307e\u3059\n</code></pre>"},{"location":"contributing/","title":"psalm\u3078\u306e\u8ca2\u732e","text":"<p>Psalm\u306f\u3001hundreds of developers \u3002</p> <p>\u3042\u306a\u305f\u304c\u305d\u306e\u4e00\u4eba\u306b\u306a\u308c\u308b\u3053\u3068\u3092\u9858\u3063\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"contributing/#_1","title":"\u30b9\u30bf\u30fc\u30c8","text":"<p>Here\u2019s a rough guide to the codebase.</p> <p>Here's the philosophy underpinning the Psalm\u2019s development.</p> <p>a list of Psalm\u2019s complexities \u3082\u307e\u3068\u3081\u305f\u3002</p> <p>\u4f4e\u7a7a\u98db\u884c\u306e\u679c\u5b9f\u3092\u304a\u63a2\u3057\u3067\u3059\u304b\uff1fGitHub issues \u3001\u89e3\u6c7a\u306f\u305d\u308c\u307b\u3069\u96e3\u3057\u304f\u306a\u3044\u306f\u305a\u3060\u3002</p>"},{"location":"contributing/#_2","title":"\u6016\u304c\u3089\u306a\u3044\u3067\uff01","text":"<p>Psalm \u3067\u4f5c\u696d\u3059\u308b\u3053\u3068\u306e\u3059\u3070\u3089\u3057\u3044\u70b9\u306f\u3001Psalm \u306e\u30b3\u30fc\u30c9\u30d9\u30fc\u30b9\u3067\u4f55\u3089\u304b\u306e\u578b\u30a8\u30e9\u30fc\u3092\u5f15\u304d\u8d77\u3053\u3059\u3053\u3068\u304c\u975e\u5e38\u306b\u96e3\u3057\u3044\u3068\u3044\u3046\u3053\u3068\u3067\u3059\u30025,000\u8fd1\u3044PHPUnit\u30c6\u30b9\u30c8\u304c\u3042\u308b\u306e\u3067\u3001(CI\u30b7\u30b9\u30c6\u30e0\u306b\u6c17\u3065\u304b\u308c\u305a\u306b)\u5931\u6557\u3059\u308b\u30ea\u30b9\u30af\u306f\u975e\u5e38\u306b\u5c0f\u3055\u3044\u3067\u3059\u3002</p>"},{"location":"contributing/#_3","title":"\u9759\u7684\u89e3\u6790\u304c\u30af\u30fc\u30eb\u306a\u7406\u7531","text":"<p>\u65e5\u3005\u306e PHP \u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u3067\u306f\u5177\u4f53\u7684\u306a\u554f\u984c\u3092\u89e3\u6c7a\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u304c\u3001 \u305d\u306e\u554f\u984c\u304c\u305d\u308c\u307b\u3069\u8907\u96d1\u3067\u3042\u308b\u3053\u3068\u306f\u307b\u3068\u3093\u3069\u3042\u308a\u307e\u305b\u3093\u3002\u4e00\u65b9\u3001Psalm \u306f\u975e\u5e38\u306b\u96e3\u3057\u3044\u554f\u984c\u3092\u89e3\u6c7a\u3057\u3088\u3046\u3068\u3057\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u3001PHP \u30b3\u30fc\u30c9\u3092\u5b9f\u969b\u306b\u5b9f\u884c\u3059\u308b\u3053\u3068\u306a\u304f\u3001PHP \u30b3\u30fc\u30c9\u306e\u30d0\u30b0\u3092\u5927\u91cf\u306b\u691c\u51fa\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>Psalm\u304c\u884c\u3046\u3053\u3068\u306e\u80cc\u5f8c\u306b\u306f\u3001\u8208\u5473\u6df1\u3044\u7406\u8ad6\u3082\u305f\u304f\u3055\u3093\u3042\u308b\u3002Psalm\u3092\u6539\u826f\u3059\u308b\u305f\u3081\u306b\u672c\u5f53\u306b\u3069\u3093\u306a\u7406\u8ad6\u3082\u77e5\u3063\u3066\u3044\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u3001\u3042\u306a\u305f\u304c\u671b\u3080\u306a\u3089\u3001\u3042\u306a\u305f\u306f\u975e\u5e38\u306b\u6df1\u304f\u884c\u304f\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u6700\u5f8c\u306b\u3001\u9759\u7684\u89e3\u6790\u30c4\u30fc\u30eb\u306e\u6539\u5584\u306b\u53d6\u308a\u7d44\u3080\u3053\u3068\u306f\u3001\u3042\u306a\u305f\u3092\u3088\u308a\u826f\u3044PHP\u958b\u767a\u8005\u306b\u3059\u308b\u3053\u3068\u3067\u3082\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"contributing/#_4","title":"\u30ac\u30a4\u30c9","text":"<p>Editing callmaps Adding a new issue type</p>"},{"location":"contributing/#_5","title":"\u30d7\u30eb\u30ea\u30af\u30a8\u30b9\u30c8","text":"<p>\u30d7\u30eb\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9001\u308b\u524d\u306b\u3001\u4ee5\u4e0b\u306e\u30ac\u30a4\u30c9\u30e9\u30a4\u30f3\u306b\u5f93\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\uff1a</p> <p>\u30ed\u30fc\u30ab\u30eb\u3067\u7d71\u5408\u30c1\u30a7\u30c3\u30af\u3092\u5b9f\u884c\u3059\u308b\uff1a<code>composer tests</code></p> <p>\u65b0\u6a5f\u80fd\u3092\u8ffd\u52a0\u3057\u305f\u308a\u30d0\u30b0\u3092\u4fee\u6b63\u3057\u305f\u308a\u3059\u308b\u5834\u5408\u306f\u3001\u5fd8\u308c\u305a\u306b\u30c6\u30b9\u30c8\u3092\u8ffd\u52a0\u3057\u307e\u3057\u3087\u3046\uff01</p>"},{"location":"contributing/adding_issues/","title":"\u65b0\u3057\u3044issue\u30bf\u30a4\u30d7\u306e\u8ffd\u52a0","text":"<p>\u65b0\u3057\u3044\u30a4\u30b7\u30e5\u30fc\u30fb\u30bf\u30a4\u30d7\u3092\u8ffd\u52a0\u3059\u308b\u306b\u306f\u3001\u4ee5\u4e0b\u306b\u6319\u3052\u308b\u3044\u304f\u3064\u304b\u306e\u30b9\u30c6\u30c3\u30d7\u304c\u5fc5\u8981\u3067\u3059\u3002</p>"},{"location":"contributing/adding_issues/#_1","title":"\u65b0\u3057\u3044\u30b7\u30e7\u30fc\u30c8\u30b3\u30fc\u30c9\u3092\u751f\u6210\u3059\u308b","text":"<p><code>bin/max_used_shortcode.php</code> \u3092\u5b9f\u884c\u3057\u3001\u8868\u793a\u3055\u308c\u305f\u5024\u306b\u6ce8\u76ee\u3057\u3066\u304f\u3060\u3055\u3044 (<code>$max_shortcode</code>)</p>"},{"location":"contributing/adding_issues/#_2","title":"\u8ab2\u984c\u30af\u30e9\u30b9\u3092\u4f5c\u6210\u3059\u308b","text":"<p><code>Psalm\\Issue</code> \u540d\u524d\u7a7a\u9593\u306b\u6b21\u306e\u3088\u3046\u306a\u30af\u30e9\u30b9\u3092\u4f5c\u6210\u3059\u308b\uff1a</p> <pre><code>&lt;?php\n\nnamespace Psalm\\Issue;\n\nfinal class MyNewIssue extends CodeIssue \n{\n    public const ERROR_LEVEL = 2;\n    public const SHORTCODE = 123;\n}\n</code></pre> <p><code>SHORTCODE</code> \u306e\u5024\u306b\u306f<code>$max_shortcode + 1</code> \u3092\u4f7f\u7528\u3059\u308b\u3002\u9069\u5207\u306a\u30a8\u30e9\u30fc\u30fb\u30ec\u30d9\u30eb\u3092\u9078\u629e\u3059\u308b\u306b\u306f\u3001Error levels \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>\u62e1\u5f35\u3067\u304d\u308b\u62bd\u8c61\u30af\u30e9\u30b9\u306f\u591a\u6570\u3042\u308a\u307e\u3059\uff1a</p> <p><code>CodeIssue</code> - \u975e\u7279\u5b9a\u306e\u30c7\u30d5\u30a9\u30eb\u30c8issue\u3002\u3053\u308c\u306f\u3059\u3079\u3066\u306eissue\u306e\u57fa\u672c\u30af\u30e9\u30b9\u3067\u3059\u3002<code>ClassIssue</code> - \u7279\u5b9a\u306e\u30af\u30e9\u30b9\uff08\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3001trait\u3001enum\u3082\uff09\u306b\u95a2\u9023\u3059\u308b\u554f\u984c\u3002\u3053\u308c\u3089\u306e\u554f\u984c\u306f\u3001<code>referencedClass</code> \u5c5e\u6027\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u3001<code>psalm.xml</code> \u306e\u7279\u5b9a\u306e\u30af\u30e9\u30b9\u306b\u5bfe\u3057\u3066\u6291\u5236\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 <code>PropertyIssue</code> - \u7279\u5b9a\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u95a2\u9023\u3059\u308b\u554f\u984c\u3002<code>psalm.xml</code> \u3067<code>referencedProperty</code> \u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u5bfe\u8c61\u3068\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059 <code>FunctionIssue</code> - \u7279\u5b9a\u306e\u95a2\u6570\u306b\u95a2\u3059\u308b\u554f\u984c\u3002<code>referencedFunction</code> \u5c5e\u6027\u3067\u6291\u5236\u53ef\u80fd\u3002<code>ArgumentIssue</code> - \u7279\u5b9a\u306e\u5f15\u6570\u306b\u95a2\u3059\u308b\u554f\u984c\u3002<code>referencedFunction</code> \u3002<code>MethodIssue</code> - \u7279\u5b9a\u306e\u30e1\u30bd\u30c3\u30c9\u306b\u95a2\u3059\u308b\u554f\u984c\u3002<code>referencedMethod</code> \u3002<code>ClassConstantIssue</code> - \u7279\u5b9a\u306e\u30af\u30e9\u30b9\u5b9a\u6570\u306b\u95a2\u3059\u308b\u554f\u984c\u3067\u3059\u3002<code>referencedConstant</code> \u3067\u30bf\u30fc\u30b2\u30c3\u30c8\u306b\u3067\u304d\u307e\u3059\u3002<code>VariableIssue</code> - \u7279\u5b9a\u306e\u5909\u6570\u306b\u95a2\u3059\u308b\u554f\u984c\u3002\u3067\u30bf\u30fc\u30b2\u30c3\u30c8\u306b\u3067\u304d\u307e\u3059\u3002<code>referencedVariable</code></p>"},{"location":"contributing/adding_issues/#configxsd","title":"<code>config.xsd</code> \u30a8\u30f3\u30c8\u30ea\u3092\u8ffd\u52a0","text":"<p><code>psalm.xml</code> \u3092\u691c\u8a3c\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u308b<code>config.xsd</code> \u306b\u306f\u3001\u3059\u3079\u3066\u306eissue\u30bf\u30a4\u30d7\u3092\u5217\u6319\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u9069\u5207\u306a<code>type</code> \u5c5e\u6027\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u4f8b:<code>PropertyIssue</code> \u3092\u62e1\u5f35\u3059\u308bissue\u306b\u306f<code>type=\"PropertyIssueHandlerType\"</code> \u3092\u4f7f\u7528\u3057\u307e\u3059\u3002</p>"},{"location":"contributing/adding_issues/#issuedoc","title":"\u65b0\u3057\u3044issue\u306edoc\u30da\u30fc\u30b8\u3092\u8ffd\u52a0\u3059\u308b","text":"<p>\u3059\u3079\u3066\u306e\u8ab2\u984c\u306f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u5316\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002<code>docs/running_psalm/issues</code> \u30d5\u30a9\u30eb\u30c0\u306b\u30de\u30fc\u30af\u30c0\u30a6\u30f3\u30fb\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u3002issue\u3092\u8aac\u660e\u3059\u308b\u30b3\u30fc\u30c9\u306e\u30b9\u30cb\u30da\u30c3\u30c8\u3092\u5fc5\u305a\u542b\u3081\u3066\u304f\u3060\u3055\u3044\u3002\u91cd\u8981\uff1a\u30b9\u30cb\u30da\u30c3\u30c8\u306f\u30d5\u30a7\u30f3\u30b9\u3067\u56f2\u307e\u308c\u305fphp\u30b3\u30fc\u30c9\u30d6\u30ed\u30c3\u30af\u3092\u4f7f\u7528\u3057\u3001\u958b\u59cbPHP\u30bf\u30b0(<code>&lt;?php</code>)\u3092\u542b\u3081\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u30b9\u30cb\u30da\u30c3\u30c8\u306f\u3001\u3042\u306a\u305f\u304c\u6587\u66f8\u5316\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u308b\u554f\u984c\u3092\u5b9f\u969b\u306b\u751f\u6210\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u79c1\u305f\u3061\u306e\u30c6\u30b9\u30c8\u30b9\u30a4\u30fc\u30c8\u3067\u30c1\u30a7\u30c3\u30af\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"contributing/adding_issues/#doc","title":"doc\u30da\u30fc\u30b8\u3078\u306e\u30ea\u30f3\u30af\u306e\u8ffd\u52a0","text":"<p>\u4f5c\u6210\u3057\u305fdoc\u30da\u30fc\u30b8\u3078\u306e\u30ea\u30f3\u30af\u3092<code>docs/running_psalm/error_levels.md</code> \u3068<code>docs/running_psalm/issues.md</code></p>"},{"location":"contributing/adding_issues/#_3","title":"\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u30c6\u30b9\u30c8\u3092\u5b9f\u884c\u3059\u308b","text":"<pre><code>$ vendor/bin/phpunit tests/DocumentationTest.php\n</code></pre> <p>\u4e0a\u8a18\u306e\u30b9\u30c6\u30c3\u30d7\u3092\u3059\u3079\u3066\uff08\u3042\u308b\u3044\u306f\u5c11\u306a\u304f\u3068\u3082\u307b\u3068\u3093\u3069\uff09\u5b9f\u884c\u3057\u305f\u304b\u3069\u3046\u304b\u3092\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002</p>"},{"location":"contributing/adding_issues/#issuepsalm","title":"\u65b0\u3057\u3044issue\u30bf\u30a4\u30d7\u3092Psalm\u30b3\u30a2\u3067\u4f7f\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002","text":"<pre><code>IssueBuffer::maybeAdd(new MyNewIssue(...))\n</code></pre>"},{"location":"contributing/editing_callmaps/","title":"\u30b3\u30fc\u30eb\u30de\u30c3\u30d7\u306e\u5909\u66f4","text":""},{"location":"contributing/editing_callmaps/#_2","title":"\u30a4\u30f3\u30c8\u30ed","text":"<p>\u307b\u3068\u3093\u3069\u306e\u30b3\u30f3\u30c8\u30ea\u30d3\u30e5\u30fc\u30bf\u30fc\u304c\u6700\u521d\u306b\u7740\u624b\u3059\u308b\u3053\u3068\u306e1\u3064\u306f\u3001\u30b3\u30fc\u30eb\u30de\u30c3\u30d7\u306e \u5909\u66f4\u3092\u63d0\u6848\u3059\u308b\u3053\u3068\u3067\u3042\u308b\u3002</p> <p>\u30b3\u30fc\u30eb\u30de\u30c3\u30d7\u3068\u306f\u3001\u95a2\u6570/\u30e1\u30bd\u30c3\u30c9\u304c\u3069\u306e\u3088\u3046\u306a\u5f15\u6570\u3092\u53d6\u308a\u3001\u4f55\u3092\u8fd4\u3059\u304b\u3092Psalm\u306b\u4f1d\u3048\u308b\u30c7\u30fc\u30bf\u30d5\u30a1\u30a4\u30eb(\u914d\u5217\u3092\u8fd4\u3059PHP\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3055\u308c\u308b)\u3067\u3059\u3002</p> <p>\u306b\u306f2\u3064\u306e\u5b8c\u5168\u306a\u30b3\u30fc\u30eb\u30de\u30c3\u30d7 (<code>CallMap.php</code> \u3068<code>CallMap_historical.php</code>) \u304c\u3042\u308a\u307e\u3059\u3002 <code>dictionaries</code> \u30d5\u30a9\u30eb\u30c0\u306b\u3042\u308a\u307e\u3059\u3002 <code>CallMap_historical</code> \u3002 \u30b7\u30b0\u30cd\u30c1\u30e3\u306f PHP 7.0 \u306e\u3082\u306e\u3067\u3001<code>CallMap.php</code> \u306b\u306f\u73fe\u5728\u306e\u30b7\u30b0\u30cd\u30c1\u30e3\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002 (\u57f7\u7b46\u6642\u306ePHP 8.1\u7528)\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"contributing/editing_callmaps/#_3","title":"\u5b8c\u5168\u306a\u30b3\u30fc\u30eb\u30de\u30c3\u30d7\u5f62\u5f0f","text":"<p>\u5b8c\u5168\u306a\u30b3\u30fc\u30eb\u30de\u30c3\u30d7 (<code>CallMap.php</code> \u304a\u3088\u3073<code>CallMap_historical.php</code>) \u306f\u3001\u95a2\u6570/\u30e1\u30bd\u30c3\u30c9\u540d\u3092\u30ad\u30fc\u3068\u3057\u3001 \u5bfe\u5fdc\u3059\u308b\u30b7\u30b0\u30cd\u30c1\u30e3\u3092\u8868\u3059\u914d\u5217\u3092\u5024\u3068\u3057\u307e\u3059\u3002 \u306e\u540d\u524d\u3092\u30ad\u30fc\u3068\u3057\u3001\u5bfe\u5fdc\u3059\u308b\u30b7\u30b0\u30cd\u30c1\u30e3\u3092\u8868\u3059\u914d\u5217\u3092\u5024\u3068\u3057\u307e\u3059\u3002</p> <p>\u305d\u306e\u5024\u306e\u6700\u521d\u306e\u8981\u7d20\u306f\u30ea\u30bf\u30fc\u30f3\u30fb\u30bf\u30a4\u30d7\u3067\uff08\u3053\u308c\u3082\u30ad\u30fc\u3092\u6301\u305f\u306a\u3044\uff09\u3001\u305d\u308c\u4ee5\u964d\u306e\u8981\u7d20\u306f\u95a2\u6570/\u30e1\u30bd\u30c3\u30c9\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8868\u3059\u3002 \u4ee5\u964d\u306e\u8981\u7d20\u306f\u95a2\u6570/\u30e1\u30bd\u30c3\u30c9\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8868\u3057\u307e\u3059\u3002\u30d1\u30e9\u30e1\u30fc\u30bf\u540d \u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u540d\u306f\u3001<code>=</code> \u3067\u5f8c\u7f6e\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"contributing/editing_callmaps/#_4","title":"\u30c7\u30eb\u30bf\u30d5\u30a1\u30a4\u30eb\u5f62\u5f0f","text":"<p>\u30c7\u30eb\u30bf\u30d5\u30a1\u30a4\u30eb\uff08\u540d\u524d <code>CallMap_&lt;PHP major version&gt;&lt;PHP minor version&gt;_delta.php</code>) \u306f\u3001\u5bfe\u5fdc\u3059\u308b PHP \u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u767a\u751f\u3057\u305f\u5909\u66f4\u3092\u30ea\u30b9\u30c8\u30a2\u30c3\u30d7\u3057\u307e\u3059\u3002\u4ee5\u4e0b\u306e3\u3064\u306e\u30bb\u30af\u30b7\u30e7\u30f3\u304c\u3042\u308a\u307e\u3059\u3002 <code>added</code> (\u305d\u306e PHP \u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u8ffd\u52a0\u3055\u308c\u305f\u95a2\u6570/\u30e1\u30bd\u30c3\u30c9)\u3001 (\u305d\u306e PHP \u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u524a\u9664\u3055\u308c\u305f\u95a2\u6570/\u30e1\u30bd\u30c3\u30c9) (\u305d\u306e PHP \u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u8ffd\u52a0\u3055\u308c\u305f\u95a2\u6570/\u30e1\u30bd\u30c3\u30c9)\u3001<code>removed</code> (\u524a\u9664\u3055\u308c\u305f\u95a2\u6570/\u30e1\u30bd\u30c3\u30c9)\u3001 \u305d\u3057\u3066 <code>changed</code>.</p> <p><code>removed</code> \u304a\u3088\u3073<code>added</code> \u30bb\u30af\u30b7\u30e7\u30f3\u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u306e\u66f8\u5f0f\u306f\u5b8c\u5168\u306a\u30b3\u30fc\u30eb\u30de\u30c3\u30d7\u306e\u66f8\u5f0f\u3068\u540c\u3058\u3067\u3059\u304c\u3001<code>changed</code> \u306e\u30a8\u30f3\u30c8\u30ea\u30fc\u306f<code>old</code> \u304a\u3088\u3073<code>new</code> \u306e\u30b7\u30b0\u30cd\u30c1\u30e3\u3092\u5217\u6319\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"contributing/editing_callmaps/#psalm","title":"Psalm\u306b\u3088\u308b\u30c7\u30eb\u30bf\u30d5\u30a1\u30a4\u30eb\u306e\u4f7f\u7528\u65b9\u6cd5","text":"<p>\u73fe\u5728\u306ePHP\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u3001Psalm\u304c\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u6700\u65b0\u306ePHP\u306e\u30d0\u30fc\u30b8\u30e7\u30f3 \u4ee5\u5916\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u89e3\u6790\u6642\u306b\u4f7f\u7528\u3055\u308c\u308b\u30b3\u30fc\u30eb\u30de\u30c3\u30d7\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306b \u5408\u81f4\u3059\u308b\u305f\u3081\u306b\u3001\u5dee\u5206\u30d5\u30a1\u30a4\u30eb\u3092\u51e6\u7406\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002Psalm\u306f\u3001\u305d\u306e\u305f\u3081\u306b\u4ee5\u4e0b\u306e\u30d7\u30ed\u30bb\u30b9\u3092\u4f7f\u7528\u3057\u307e\u3059\uff1a</p> <p>1.<code>CallMap.php</code> \uff08\u6ce8\uff1a\u6700\u65b0\u306e\u30b7\u30b0\u30cd\u30c1\u30e3\u3092\u6301\u3064\u3082\u306e\uff09\u3092\u8aad\u307f\u8fbc\u3080\u30022.\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308bPHP\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3068\u4e00\u81f4\u3059\u308c\u3070\u3001\u305d\u308c\u3092\u4f7f\u7528\u3059\u308b\u30023.\u4ee5\u524d\u306ePHP\u30d0\u30fc\u30b8\u30e7\u30f3\u306ecallmap delta\u304c\u3042\u308c\u3070\u3001\u305d\u308c\u3092\u8aad\u3080\u30024.\u4ee5\u524d\u306e\u30b3\u30fc\u30eb\u30de\u30c3\u30d7\u5dee\u5206\u3092\u9006\u9806\u306b\u9069\u7528\u3059\u308b\u3002\u3064\u307e\u308a\u3001<code>removed</code> \u30bb\u30af\u30b7\u30e7\u30f3\u306e\u30a8\u30f3\u30c8\u30ea\u304c\u8ffd\u52a0\u3055\u308c\u3001<code>added</code> \u30bb\u30af\u30b7\u30e7\u30f3\u306e\u30a8\u30f3\u30c8\u30ea\u304c\u524a\u9664\u3055\u308c\u308b\u3002    <code>changed.new</code> \u73fe\u5728\u306ecallamp\u306e\u30b7\u30b0\u30cd\u30c1\u30e3\u3092   <code>changed.old</code>. 5.2.</p>"},{"location":"contributing/editing_callmaps/#_5","title":"\u4e00\u8cab\u3057\u305f\u6b74\u53f2","text":"<p>\u30c7\u30eb\u30bf\u3068\u30b3\u30fc\u30eb\u30de\u30c3\u30d7\u306b\u30df\u30b9\u30de\u30c3\u30c1\u304c\u306a\u3044\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u305f\u3081\u306b\u3001CI\u306f\u3059\u3079\u3066\u306e\u95a2\u6570/\u30e1\u30bd\u30c3\u30c9\u30a8\u30f3\u30c8\u30ea\u304c\u4e00\u8cab\u3057\u305f\u5c65\u6b74\u3092\u6301\u3064\u3053\u3068\u3092\u691c\u8a3c\u3059\u308b\u3002\u4f8b\u3048\u3070\u3001<code>changed.new</code> \u306e\u30b7\u30b0\u30cd\u30c1\u30e3\u304c<code>CallMap.php</code> \u306e\u30b7\u30b0\u30cd\u30c1\u30e3\u3068\u4e00\u81f4\u3059\u308b\u3053\u3068\u3001<code>removed</code> \u306e\u30a8\u30f3\u30c8\u30ea\u304c\u5b9f\u969b\u306b\u306f<code>CallMap.php</code> \u306b\u5b58\u5728\u3057\u306a\u3044\u3053\u3068\u306a\u3069\u3067\u3042\u308b\u3002</p>"},{"location":"contributing/editing_callmaps/#_6","title":"\u5178\u578b\u7684\u306a\u5909\u66f4","text":"<p>\u5b9f\u7528\u7684\u306a\u89b3\u70b9\u304b\u3089\u3001\u5178\u578b\u7684\u306a\u30b3\u30fc\u30eb\u30de\u30c3\u30d7\u306e\u5909\u66f4\u3092\u3044\u304f\u3064\u304b\u898b\u3066\u307f\u3088\u3046\u3002</p>"},{"location":"contributing/editing_callmaps/#_7","title":"\u65b0\u3057\u3044\u95a2\u6570\u306e\u8ffd\u52a0","text":"<p>PHP 8.1 \u3067\u8ffd\u52a0\u3055\u308c\u305f\u95a2\u6570\u304c\u3042\u308b\u3068\u3057\u307e\u3059\u3002\u4f8b\u3048\u3070<code>array_is_list()</code> \u3002\u306b\u8ffd\u52a0\u3057\u307e\u3059\u3002 <code>CallMap_81_delta.php</code> (PHP8.1\u3067\u5c0e\u5165\u3055\u308c\u305f\u306e\u3067)\u3001\u305d\u3057\u3066<code>CallMap.php</code> (\u6700\u65b0\u306ePHP\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u5b58\u5728\u3059\u308b\u306e\u3067)\u3002 \u306b\u8ffd\u52a0\u3057\u307e\u3059\u3002\uff09\u4ee5\u4e0b\u306fthe PR that does it \u3002</p>"},{"location":"contributing/editing_callmaps/#_8","title":"\u95a2\u6570\u306e\u30b7\u30b0\u30cd\u30c1\u30e3\u306e\u4fee\u6b63","text":"<p>\u9593\u9055\u3063\u305f\u30b7\u30b0\u30cd\u30c1\u30e3\u3092\u898b\u3064\u3051\u305f\u3068\u3057\u307e\u3057\u3087\u3046\u3002 \u73fe\u5728Psalm\u306b\u3042\u308b\u3082\u306e\u3068\u306f\u5e38\u306b\u7570\u306a\u3063\u3066\u3044\u305f\u3002\u3053\u308c\u306b\u306f<code>CallMap_historical.php</code> <code>CallMap.php</code> (\u306b\u5909\u66f4\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u3078\u306e\u5909\u66f4\u304c\u5fc5\u8981\u3067\u3059\u3002\uff09\u4ee5\u4e0b\u306fthe PR that does it \u3002</p> <p>\u95a2\u6570\u306e\u7f72\u540d\u304c\u53e4\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u306f\u6b63\u3057\u3044\u304c\u3001\u305d\u306e\u5f8c\u5909\u66f4\u3055\u308c\u305f\u5834\u5408\u306f \u3092\u7de8\u96c6\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 <code>CallMap.php</code> \u3092\u7de8\u96c6\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059 (\u3053\u306e\u65b0\u3057\u3044\u30b7\u30b0\u30cd\u30c1\u30e3\u306f\u307e\u3060\u6709\u52b9\u3067\u3059)\u3002  \u4ee5\u4e0b\u306f the PR that does it (makes <code>timestamp</code> nullable).</p>"},{"location":"contributing/how_psalm_works/","title":"psalm\u306e\u50cd\u304d","text":"<p>\u3059\u3079\u3066\u306e\u5206\u6790\u306e\u5165\u308a\u53e3\u306f<code>ProjectAnalyzer</code></p> <p><code>ProjectAnalyzer</code> \u306f2\u3064\u306e\u3053\u3068\u3092\u62c5\u5f53\u3059\u308b\uff1a\u30b9\u30ad\u30e3\u30f3\u3068\u5206\u6790</p>"},{"location":"contributing/how_psalm_works/#_1","title":"\u30b9\u30ad\u30e3\u30f3","text":"<p>\u89e3\u6790\u30d5\u30a7\u30fc\u30ba\u3092\u30de\u30eb\u30c1\u30b9\u30ec\u30c3\u30c9\u3067\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u305f\u3081\u3001Psalm\u306f\u30d5\u30a1\u30a4\u30eb\u3084\u30d5\u30a1\u30a4\u30eb\u7fa4\u306b\u5bfe\u3057\u3066\u3001\u53ef\u80fd\u6027\u306e\u3042\u308b\u3059\u3079\u3066\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u6c7a\u5b9a\u3057\u3001\u305d\u306e\u95a2\u6570\u306e\u30b7\u30b0\u30cd\u30c1\u30e3\u3068\u5b9a\u6570\u3092\u53d6\u5f97\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002</p> <p>\u30b9\u30ad\u30e3\u30f3\u306f<code>Psalm\\Internal\\Codebase\\Scanner</code> \u3067\u884c\u308f\u308c\u307e\u3059\u3002</p> <p>\u6700\u521d\u306e\u30bf\u30b9\u30af\u306f\u3001\u30d5\u30a1\u30a4\u30eb\u3092PHP Parser \u306e\u6587\u306e\u96c6\u5408\u306b\u5909\u63db\u3059\u308b\u3053\u3068\u3067\u3059\u3002PHP Parser\u306f\u3001PHP\u30b3\u30fc\u30c9\u3092\u62bd\u8c61\u69cb\u6587\u6728\u306b\u5909\u63db\u3057\u3001Psalm\u304c\u3059\u3079\u3066\u306e\u89e3\u6790\u306b\u4f7f\u7528\u3057\u307e\u3059\u3002</p>"},{"location":"contributing/how_psalm_works/#_2","title":"\u30c7\u30a3\u30fc\u30d7\u30b9\u30ad\u30e3\u30f3\u3068\u30b7\u30e3\u30ed\u30fc\u30b9\u30ad\u30e3\u30f3\u306e\u6bd4\u8f03","text":"<p><code>NodeVisitor</code> <code>ReflectorVisitor</code> \u3053\u308c\u306f\u3001\u95a2\u6570\u306e\u30b7\u30b0\u30cd\u30c1\u30e3\u3001\u623b\u308a\u5024\u578b\u3001\u5b9a\u6570\u3001\u7d99\u627f\u3092\u53d6\u5f97\u3059\u308b\u3060\u3051\u306e\u6d45\u3044\u30b9\u30ad\u30e3\u30f3\u3068\u3001\u95a2\u6570\u306e\u3059\u3079\u3066\u306e\u6587\u306b\u6f5c\u308a\u8fbc\u3093\u3067\u4f9d\u5b58\u95a2\u4fc2(\u95a2\u6570\u304c\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3059\u308b\u30af\u30e9\u30b9\u540d\u306a\u3069)\u3092\u53d6\u5f97\u3059\u308b\u6df1\u3044\u30b9\u30ad\u30e3\u30f3\u306e2\u3064\u306e\u30e2\u30fc\u30c9\u304c\u3042\u308a\u307e\u3059\u3002\u30c7\u30a3\u30fc\u30d7\u30b9\u30ad\u30e3\u30f3\u306f\u3001\u5f8c\u3067\u5206\u6790\u3055\u308c\u308b\u3053\u3068\u304c\u308f\u304b\u3063\u3066\u3044\u308b\u30d5\u30a1\u30a4\u30eb\u306b\u5bfe\u3057\u3066\u306e\u307f\u884c\u308f\u308c\u307e\u3059\uff08\u3057\u305f\u304c\u3063\u3066\u3001\u4f8b\u3048\u3070\u30d9\u30f3\u30c0\u30fc\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u5927\u90e8\u5206\u306f\u3001\u30b7\u30e3\u30ed\u30fc\u30b9\u30ad\u30e3\u30f3\u3092\u53d7\u3051\u308b\u3060\u3051\u3067\u3059\uff09\u3002</p> <p>\u305d\u306e\u305f\u3081\u3001<code>src</code> \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u5206\u6790\u3059\u308b\u5834\u5408\u3001Psalm \u306f\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u30c7\u30a3\u30fc\u30d7\u30b9\u30ad\u30e3\u30f3\u3057\u307e\u3059\uff1a</p> <p>src/A.php <pre><code>&lt;?php use Vendor\\VendorClass; use Vendor\\OtherVendorClass;\n\nclass A extends VendorClass {     public function foo(OtherVendorClass $c): void {} }\n</code></pre></p> <p>\u307e\u305f\u3001<code>Vendor\\VendorClass</code> \u306b\u5c5e\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u3082\u30c7\u30a3\u30fc\u30d7\u30b9\u30ad\u30e3\u30f3\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u3042\u308b\u6642\u70b9\u3067\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u304b\u3089\u3067\u3059\u3002</p> <p>\u5909\u6570<code>$c</code> \u306e\u30e1\u30bd\u30c3\u30c9\u30b7\u30b0\u30cd\u30c1\u30e3\u3068\u623b\u308a\u5024\u306e\u578b\u306b\u3057\u304b\u95a2\u5fc3\u304c\u306a\u3044\u305f\u3081\u3001<code>Vendor\\OtherVendorClass</code> (\u304a\u3088\u3073\u4f9d\u5b58\u3059\u308b\u3059\u3079\u3066\u306e\u30d5\u30a1\u30a4\u30eb) \u3092\u6d45\u304f\u30b9\u30ad\u30e3\u30f3\u3057\u307e\u3059\u3002</p>"},{"location":"contributing/how_psalm_works/#_3","title":"\u30af\u30e9\u30b9\u540d\u304b\u3089\u30d5\u30a1\u30a4\u30eb\u3092\u898b\u3064\u3051\u308b","text":"<p><code>ClassName</code> =&gt;<code>src/FileName.php</code> \u306e\u30de\u30c3\u30d4\u30f3\u30b0\u3092\u628a\u63e1\u3059\u308b\u305f\u3081\u306b\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30fb\u30d5\u30a1\u30a4\u30eb\u306b\u306f\u30ea\u30d5\u30ec\u30af\u30b7\u30e7\u30f3\u3092\u4f7f\u3044\u3001\u30d9\u30f3\u30c0\u30fc\u30fb\u30d5\u30a1\u30a4\u30eb\u306b\u306fComposer\u30af\u30e9\u30b9\u30de\u30c3\u30d7\u3092\u4f7f\u3046\u3002</p>"},{"location":"contributing/how_psalm_works/#_4","title":"\u30b9\u30ad\u30e3\u30f3\u304b\u3089\u30c7\u30fc\u30bf\u3092\u4fdd\u5b58\u3059\u308b","text":"<p><code>ReflectorVisitor</code> \u304c\u30a2\u30af\u30bb\u30b9\u3059\u308b\u5404\u30d5\u30a1\u30a4\u30eb\u306b\u5bfe\u3057\u3066\u3001Psalm \u306f<code>FileStorage</code> \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f5c\u6210\u3057\u3001\u30d5\u30a1\u30a4\u30eb\u306e\u5185\u5bb9\u306b\u5fdc\u3058\u3066<code>ClassLikeStorage</code> \u3068<code>FunctionLikeStorage</code> \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3082\u4f5c\u6210\u3059\u308b\u3002</p> <p>\u3059\u3079\u3066\u306e\u30d5\u30a1\u30a4\u30eb\u3068\u305d\u306e\u30af\u30e9\u30b9\u3068\u95a2\u6570\u30b7\u30b0\u30cd\u30c1\u30e3\u306e\u30bb\u30c3\u30c8\u304c\u3067\u304d\u305f\u3089\u3001<code>Populator</code> \u30af\u30e9\u30b9\u306e\u3059\u3079\u3066\u306e\u7d99\u627f\u3092\u8a08\u7b97\u3057\u3001\u5206\u6790\u306b\u79fb\u308b\u3002</p> <p>\u30b9\u30ad\u30e3\u30f3\u30fb\u30b9\u30c6\u30c3\u30d7\u306e\u6700\u5f8c\u306b\u306f\u3001<code>ClassLikes</code> \u3001<code>Functions</code> \u3001<code>Methods</code> \u30af\u30e9\u30b9\u306b\u5fc5\u8981\u306a\u60c5\u5831\u3092\u3059\u3079\u3066\u5165\u529b\u3057\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3067\u4f7f\u7528\u3059\u308b\u3059\u3079\u3066\u306e\u30af\u30e9\u30b9\u3068\u30d5\u30a1\u30a4\u30eb\u306b\u3064\u3044\u3066\u3001<code>FileStorage</code> \u3068<code>ClassLikeStorage</code> \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u5b8c\u5168\u306a\u30ea\u30b9\u30c8\uff08\u305d\u308c\u305e\u308c<code>FileStorageProvider</code> \u3068<code>ClassLikeStorageProvider</code> \u5185\uff09\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002</p>"},{"location":"contributing/how_psalm_works/#_5","title":"\u5206\u6790","text":"<p>\u306b\u3042\u308b\u30d5\u30a1\u30a4\u30eb\u3092\u5206\u6790\u3059\u308b\u3002<code>FileAnalyzer</code></p> <p><code>FileAnalyzer</code> \u3001\u4e0e\u3048\u3089\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u53d7\u3051\u53d6\u308a\u3001\u30c8\u30c3\u30d7\u30ec\u30d9\u30eb\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\uff08\u30af\u30e9\u30b9\u3001\u7279\u6027\u3001\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3001\u95a2\u6570\uff09\u3092\u63a2\u3057\u307e\u3059\u3002\u540d\u524d\u7a7a\u9593\u306e\u5185\u90e8\u3092\u8abf\u3079\u3001\u305d\u306e\u4e2d\u306e\u30af\u30e9\u30b9\u3001\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\u3001\u7279\u6027\u3001\u95a2\u6570\u3092\u62bd\u51fa\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002</p> <p>\u3053\u308c\u3089\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u89e3\u6790\u306f\u3001<code>ClassAnalyzer</code> \u3001<code>InterfaceAnalyzer</code> \u3001<code>FunctionAnalyzer</code> \u306b\u59d4\u8b72\u3055\u308c\u307e\u3059\u3002</p> <p>\u884c\u3054\u3068\u306e\u89e3\u6790\u306f\u6700\u3082\u57fa\u672c\u7684\u306a\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u306a\u306e\u3067\uff08\u30af\u30e9\u30b9\u7d99\u627f\u306e\u5fc3\u914d\u306f\u306a\u3044\uff09\u3001<code>FunctionAnalyzer</code> \u3002</p>"},{"location":"contributing/how_psalm_works/#_6","title":"\u95a2\u6570\u89e3\u6790","text":"<p><code>FunctionAnalyzer::analyze</code> \u306f<code>FunctionLikeAnalyzer</code> \u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30e1\u30bd\u30c3\u30c9\u306f\u307e\u305a\u3001\u30b9\u30ad\u30e3\u30f3\u30fb\u30b9\u30c6\u30c3\u30d7\u3067\u4f5c\u6210\u3057\u305f\u3001\u6307\u5b9a\u3055\u308c\u305f\u95a2\u6570\u306e<code>FunctionLikeStorage</code> \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\u3053\u306e<code>FunctionLikeStorage</code> \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u306f\u3001\u95a2\u6570\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u95a2\u3059\u308b\u60c5\u5831\u304c\u3042\u308a\u3001\u305d\u308c\u3092<code>Context</code> \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u6e21\u3057\u307e\u3059\u3002<code>Context</code> \u306b\u306f\u3001\u5909\u6570\u3068\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u95a2\u3059\u308b\u3059\u3079\u3066\u306e\u578b\u60c5\u5831 (<code>Context::$vars_in_scope</code> \u306b\u683c\u7d0d) \u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002</p> <p><code>FunctionLikeAnalyzer::analyze</code> \u306e\u3069\u3053\u304b\u3067\u65b0\u3057\u3044<code>StatementsAnalyzer</code> \u3092\u4f5c\u6210\u3057\u3001\u305d\u306e<code>analyze()</code> \u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3057\u3066\u3001PhpParser \u30ce\u30fc\u30c9\u306e\u30bb\u30c3\u30c8\u3092\u6e21\u3057\u307e\u3059\u3002<code>StatementAnalyzer::analyze</code> \u306f\u3001\u3088\u308a\u8a73\u7d30\u306a\u5206\u6790\u3092\u884c\u3046\u305f\u3081\u306b\u3001\u3055\u307e\u3056\u307e\u306a\u30c1\u30a7\u30c3\u30ab\u30fc (<code>IfAnalyzer</code>,<code>ForeachAnalyzer</code>,<code>ExpressionAnalyzer</code> \u306a\u3069) \u306b\u6e21\u3057\u307e\u3059\u3002</p> <p>\u5404\u884c\u3067\u306f\u3001<code>Context</code> \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u64cd\u4f5c\u3055\u308c\u305f\u308a\u3055\u308c\u306a\u304b\u3063\u305f\u308a\u3057\u307e\u3059\u3002\u5206\u5c90\u70b9\uff08if\u6587\u3001\u30eb\u30fc\u30d7\u30013\u9805\u306a\u3069\uff09\u3067\u306f\u3001<code>Context</code> \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u30af\u30ed\u30fc\u30f3\u3055\u308c\u3001\u5206\u5c90\u306e\u6700\u5f8c\u3067\u3001Psalm\u304c\u5909\u66f4\u3092\u89e3\u6c7a\u3059\u308b\u65b9\u6cd5\u3092\u898b\u3064\u3051\u51fa\u3057\u3001\u30af\u30ed\u30fc\u30f3\u3055\u308c\u3066\u3044\u306a\u3044<code>Context</code> \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002</p> <p><code>NodeDataProvider</code> \u306f\u5404 PhpParser \u30ce\u30fc\u30c9\u306e\u578b\u3092\u4fdd\u5b58\u3057\u307e\u3059\u3002</p> <p>\u3059\u3079\u3066\u306e\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u304c\u5206\u6790\u3055\u308c\u305f\u5f8c\u3001\u3059\u3079\u3066\u306e\u623b\u308a\u5024\u306e\u578b\u3092\u96c6\u3081\u3001\u4e0e\u3048\u3089\u308c\u305f\u623b\u308a\u5024\u306e\u578b\u3068\u6bd4\u8f03\u3057\u307e\u3059\u3002</p>"},{"location":"contributing/how_psalm_works/#_7","title":"\u578b\u306e\u7167\u5408","text":"<p><code>Context</code> \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u66f4\u65b0\u306f\u7c21\u5358\u306a\u3082\u306e\u3082\u3042\u308a\u307e\u3059\u304c\u3001\u305d\u3046\u3067\u306a\u3044\u3082\u306e\u3082\u3042\u308a\u307e\u3059\u3002\u65b0\u3057\u3044\u578b\u60c5\u5831\u306b\u7167\u3089\u3057\u3066<code>Context</code> \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u66f4\u65b0\u3059\u308b\u3053\u3068\u306f\u3001<code>Reconciler</code> \u3067\u884c\u308f\u308c\u308b\u3002 \u306f\u3001<code>[\u201c$a\u201d =&gt; \u201c!null\u201d]</code> \u306e\u3088\u3046\u306a\u914d\u5217\u30a2\u30b5\u30fc\u30b7\u30e7\u30f3\u3068\u3001<code>$a =&gt; string|null</code> \u306e\u3088\u3046\u306a\u65e2\u5b58\u306e\u578b\u60c5\u5831\u306e\u30ea\u30b9\u30c8\u3092\u53d7\u3051\u53d6\u308a\u3001 \u306e\u3088\u3046\u306a\u66f4\u65b0\u3055\u308c\u305f\u60c5\u5831\u306e\u30bb\u30c3\u30c8\u3092\u8fd4\u3059\u3002<code>$a =&gt; string</code></p>"},{"location":"contributing/philosophy/","title":"\u54f2\u5b66","text":"<p>\u306a\u305cpsalm\u306f\u3053\u3046\u306a\u306e\u304b\uff1f\u3053\u308c\u306f\u751f\u304d\u305f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3067\u3042\u308b\uff01</p>"},{"location":"contributing/philosophy/#psalmphpphp","title":"Psalm\u306fPHP\u3067\u66f8\u304b\u308c\u305fPHP\u306e\u305f\u3081\u306e\u30c4\u30fc\u30eb\u3067\u3059\u3002","text":""},{"location":"contributing/philosophy/#_2","title":"\u5229\u70b9","text":"<ul> <li>PHP\u306f\u307b\u3068\u3093\u3069\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3067\u5341\u5206\u306b\u9ad8\u901f\u3067\u3042\u308b - PHP\u3067\u66f8\u304b\u308c\u305f\u30c4\u30fc\u30eb\u306f\u3001PHP\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u306e\u30e1\u30f3\u30d0\u30fc\u304c\u305d\u308c\u307b\u3069\u82e6\u52b4\u305b\u305a\u306b\u8ca2\u732e\u3067\u304d\u308b\u3053\u3068\u3092\u4fdd\u8a3c\u3059\u308b\u3002</li> </ul>"},{"location":"contributing/philosophy/#_3","title":"\u6b20\u70b9","text":"<ul> <li>Psalm\u306f\u975e\u5e38\u306b\u5927\u304d\u306a\u30e2\u30ce\u30ec\u30dd\uff08\u30c1\u30a7\u30c3\u30af\u30a4\u30f3\u3055\u308c\u305f\u30b3\u30fc\u30c9\u304c500\u4e07\u884c\u4ee5\u4e0a\uff09\u3067\u306f\u9045\u3044\u3002- Psalm\u306e\u8a00\u8a9e\u30b5\u30fc\u30d0\u30fc\u306f\u3001\u540c\u7b49\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u8a00\u8a9e\u30c4\u30fc\u30eb\u3088\u308a\u3082\u63d0\u4f9b\u3067\u304d\u308b\u3082\u306e\u304c\u9650\u3089\u308c\u3066\u3044\u308b\u3002\u4f8b\u3048\u3070\u3001\u3042\u308b\u30b7\u30f3\u30dc\u30eb\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u3059\u3079\u3066\u306e\u30d5\u30a1\u30a4\u30eb\u306b\u304a\u3044\u3066\u3001\u305d\u306e\u30b7\u30f3\u30dc\u30eb\u3092\u5165\u529b\u3059\u308b\u305f\u3073\u306b\u3001\u305d\u306e\u30b7\u30f3\u30dc\u30eb\u306e\u3059\u3079\u3066\u306e\u51fa\u73fe\u7b87\u6240\u3092\u691c\u7d22\u30fb\u5909\u66f4\u3059\u308b\u3053\u3068\u306f\u4e0d\u53ef\u80fd\u3067\u3059\u3002</li> </ul>"},{"location":"contributing/philosophy/#_4","title":"\u4ed6\u306e\u8a00\u8a9e\u3084\u30c4\u30fc\u30eb\u3068\u306e\u6bd4\u8f03","text":"<p>\u591a\u304f\u306e\u8a00\u8a9e\u306b\u306f\u3001\u540c\u3058\u8a00\u8a9e\u3067\u66f8\u304b\u308c\u305f\u30bf\u30a4\u30d7\u30c1\u30a7\u30c3\u30ab/\u30b3\u30f3\u30d1\u30a4\u30e9\u304c\u3042\u308a\u307e\u3059\u3002\u4eba\u6c17\u306e\u3042\u308b\u4f8b\u3068\u3057\u3066\u306f\u3001Go\u3001Rust\u3001TypeScript\u306a\u3069\u304c\u3042\u308b\u3002Python\u306f\u7279\u5225\u306a\u30b1\u30fc\u30b9\u3067\u3001\u534a\u516c\u5f0f\u306e\u30bf\u30a4\u30d7\u30c1\u30a7\u30c3\u30ab\u30fcMyPy \uff08Python\u3067\u66f8\u304b\u308c\u3066\u3044\u308b\uff09\u3082compile to a C Python extension \u3001\u30a4\u30f3\u30bf\u30d7\u30ea\u30bf\u578b\u306e\u540c\u7b49\u54c1\u3088\u308a4\u500d\u901f\u304f\u5b9f\u884c\u3067\u304d\u308b\u3002</p> <p>\u30a4\u30f3\u30bf\u30d7\u30ea\u30bf\u578b\u8a00\u8a9e\u306e\u4e2d\u306b\u306f\u3001\u3088\u308a\u9ad8\u901f\u306a\u30b3\u30f3\u30d1\u30a4\u30eb\u8a00\u8a9e\u3067\u66f8\u304b\u308c\u305f\u975e\u516c\u5f0f\u306a\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u306e\u30bf\u30a4\u30d7\u30c1\u30a7\u30c3\u30ab\u30fc\u304c\u3042\u308b\u3082\u306e\u3082\u3042\u308b\u3002\u3069\u306e\u3088\u3046\u306a\u5834\u5408\u306b\u3082\u3001\u4e00\u3064\u306e\u4e2d\u898f\u6a21\u304b\u3089\u5927\u898f\u6a21\u306e\u4f01\u696d\u304c\u305d\u308c\u305e\u308c\u306e\u53d6\u308a\u7d44\u307f\u306e\u80cc\u5f8c\u306b\u3042\u308a\u3001\u305d\u306e\u4f01\u696d\u306b\u96c7\u7528\u3055\u308c\u3066\u3044\u306a\u3044\u5c11\u6570\u306e\u8ca2\u732e\u8005\u304c\u3044\u308b\uff1a</p> <ul> <li>PHP -NoVerify - Go\u3067\u66f8\u304b\u308c\u3066\u3044\u308b\u3002Psalm\u3088\u308a\u306f\u308b\u304b\u306b\u9ad8\u901f\u306b\u52d5\u4f5c\u3059\u308b\uff08\u305f\u3060\u3057\u3001\u6700\u65b0\u306ePHP\u306e\u6a5f\u80fd\u306e\u591a\u304f\u306f\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u306a\u3044\uff09 - Ruby -Sorbet - C\u3067\u66f8\u304b\u308c\u3066\u3044\u308b - Python -Pyre - OCaml\u3067\u66f8\u304b\u308c\u3066\u3044\u308b -Hack - \u30bf\u30a4\u30d7\u30c1\u30a7\u30c3\u30ab\u30fc\u306fOCaml\u3068Rust\u3067\u66f8\u304b\u308c\u3066\u3044\u308b\u3002</li> </ul>"},{"location":"contributing/philosophy/#psalm","title":"Psalm\u306e\u4e3b\u306a\u76ee\u7684\u306f\u30d0\u30b0\u3092\u898b\u3064\u3051\u308b\u3053\u3068\u3067\u3042\u308b\u3002","text":"<p>Psalm\u306f\u591a\u304f\u306e\u6a5f\u80fd\u3092\u6301\u3063\u3066\u3044\u308b\u304c\u3001\u4e3b\u306b\u30b3\u30fc\u30c9\u306e\u6f5c\u5728\u7684\u306a\u30d0\u30b0\u3092\u898b\u3064\u3051\u308b\u305f\u3081\u306b\u4f7f\u308f\u308c\u3066\u3044\u308b\u3002</p> <p>\u305d\u306e\u4ed6\u306e\u6a5f\u80fd-\u8a00\u8a9e\u30b5\u30fc\u30d0\u30fc\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u5206\u6790\u3001\u30b3\u30fc\u30c9\u306e\u64cd\u4f5c/\u4fee\u6b63-\u306f\u3059\u3079\u3066\u4e8c\u6b21\u7684\u306a\u95a2\u5fc3\u4e8b\u3067\u3059\u3002</p>"},{"location":"contributing/philosophy/#_5","title":"\u69cb\u6587\u7684\u306b\u6b63\u3057\u3044\u30b3\u30fc\u30c9\u3067\u5b9f\u884c\u3055\u308c\u308b\u3088\u3046\u306b\u8a2d\u8a08\u3055\u308c\u3066\u3044\u308b","text":"<p>Psalm\u306f\u3001\u307b\u3068\u3093\u3069\u306e\u5834\u5408\u3001\u30ea\u30f3\u30c8\u30c1\u30a7\u30c3\u30af(<code>php -l &lt;filename&gt;</code>) \u3092\u89e3\u6790\u3059\u308b PHP \u30b3\u30fc\u30c9\u3001\u3064\u307e\u308a\u69cb\u6587\u7684\u306b\u6b63\u3057\u3044\u30b3\u30fc\u30c9\u3067\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002Psalm \u306f\u69cb\u6587\u30c1\u30a7\u30c3\u30af\u306e\u4ee3\u308f\u308a\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002</p> <p><code>nikic/php-parser</code> Psalm \u306f\u307b\u3068\u3093\u3069\u306e\u5834\u5408\u3001\u69cb\u6587\u7684\u306b\u6b63\u3057\u3044\u30b3\u30fc\u30c9\u3067\u4f7f\u7528\u3055\u308c\u308b\u305f\u3081\u3001 \u305d\u306e\u76ee\u7684\u306e\u305f\u3081\u306b\u69cb\u7bc9\u3055\u308c\u305f\u30d1\u30fc\u30b5\u3092\u4f7f\u7528\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>Psalm\u304c\u69cb\u6587\u7684\u306b\u6b63\u3057\u304f\u306a\u3044\u30b3\u30fc\u30c9\u3067\u52d5\u4f5c\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u5834\u5408\uff08\u8a00\u8a9e\u30b5\u30fc\u30d0\u30fc\u30e2\u30fc\u30c9\u306a\u3069\uff09\u3001Psalm\u306f\u540c\u3058\u30d1\u30fc\u30b5\u30fc\u3092\u4f7f\u7528\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff08\u305d\u3057\u3066\u3001\u305d\u306e\u30d1\u30fc\u30b5\u30fc\u304c\u751f\u6210\u3059\u308b\u554f\u984c\u3092\u56de\u907f\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff09\u3002</p>"},{"location":"contributing/philosophy/#docblock","title":"Docblock\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306f\u578b\u63d0\u4f9b\u30d7\u30e9\u30b0\u30a4\u30f3\u3088\u308a\u3082\u512a\u308c\u3066\u3044\u308b","text":"<p>Psalm\u306f\u30d7\u30e9\u30b0\u30a4\u30f3API\u3092\u63d0\u4f9b\u3057\u3066\u304a\u308a\u3001\u3042\u306a\u305f\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u578b\u3001\u623b\u308a\u5024\u578b\u3001\u30d1\u30e9\u30e1\u30fc\u30bf\u578b\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>Psalm\u306f\u3001\u4ed6\u306e\u9759\u7684\u89e3\u6790\u30c4\u30fc\u30eb\u3068\u306e\u5171\u5b58\u3092\u76ee\u6307\u3057\u3066\u3044\u308b\u3002\u30e6\u30fc\u30b6\u30fc\u304c\u30d7\u30e9\u30b0\u30a4\u30f3\u306b\u983c\u308c\u3070\u983c\u308b\u307b\u3069\u3001\u4ed6\u306e\u30c4\u30fc\u30eb\u304c\u30e6\u30fc\u30b6\u30fc\u306e\u610f\u56f3\u3092\u7406\u89e3\u3059\u308b\u6a5f\u4f1a\u306f\u6e1b\u3063\u3066\u3044\u304f\u3002</p> <p>Psalm\u306f\u3001\u958b\u767a\u8005\u304c\u578b\u3092\u63d0\u4f9b\u3059\u308b\u30d7\u30e9\u30b0\u30a4\u30f3\u3067\u306f\u306a\u304f\u3001docblock\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3092\u5968\u52b1\u3059\u3079\u304d\u3067\u3059\u3002\u3053\u308c\u306fConditional Types \u3001Psalm\u304c\u5185\u90e8\u306e\u578b\u63d0\u4f9b\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u4e00\u90e8\u3092\u7f6e\u304d\u63db\u3048\u308b\u3053\u3068\u3092\u53ef\u80fd\u306b\u3059\u308b\u539f\u52d5\u529b\u3068\u306a\u3063\u305f\u3002</p> <p>\u307b\u3068\u3093\u3069\u306e\u5834\u5408\u3001Psalm\u306fdocblock\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u304c\u6b63\u3057\u3044\u304b\u3069\u3046\u304b\u3092\u691c\u8a3c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u304c\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u304c\u4f7f\u308f\u308c\u3066\u3044\u308b\u5834\u5408\u306b\u306f\u591a\u304f\u306e\u4fdd\u8a3c\u3092\u63d0\u4f9b\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002</p> <p>\u3053\u308c\u306f\u30d7\u30e9\u30b0\u30a4\u30f3\u5168\u4f53\u304c\u60aa\u3044\u3068\u304b\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u304c\u6709\u7528\u306a\u578b\u3092\u63d0\u4f9b\u3067\u304d\u306a\u3044\u3068\u3044\u3046\u610f\u5473\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u3001Psalm\u578b\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u6301\u305f\u306a\u3044\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u305f\u3081\u306b Psalm\u578b\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u6301\u3064\u30b9\u30bf\u30d6\u3092\u63d0\u4f9b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306fPHP\u306e\u30a8\u30b3\u30b7\u30b9\u30c6\u30e0\u3092\u52a9\u3051\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002 \u306a\u305c\u306a\u3089\u3001\u305d\u308c\u3089\u306e\u30b9\u30bf\u30d6\u304c\u6700\u7d42\u7684\u306b\u306f\u73fe\u5728\u30b9\u30bf\u30d6\u306b\u306a\u3063\u3066\u3044\u308b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u5165\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u304b\u3089\u3067\u3059\u3002</p>"},{"location":"contributing/philosophy/#docblock_1","title":"\u691c\u8a3c\u53ef\u80fd\u306aDocblock\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306f\u3001\u691c\u8a3c\u4e0d\u53ef\u80fd\u306a\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3088\u308a\u3082\u512a\u308c\u3066\u3044\u307e\u3059\u3002","text":"<p>Psalm\u306f\u73fe\u5728\u3001\u691c\u8a3c\u3067\u304d\u306a\u3044\u591a\u304f\u306e\u95a2\u6570/\u30af\u30e9\u30b9\u306edocblock\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\uff1a</p> <p>-<code>@psalm-assert</code>,<code>@psalm-assert-if-true</code>,<code>@psalm-assert-if-false</code> -<code>@property</code>,<code>@method</code> \u3001<code>@mixin</code></p> <p>\u65b0\u3057\u3044docblock\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u304c\u8ffd\u52a0\u3055\u308c\u308b\u305f\u3073\u306b\u3001Psalm\u304c\u305d\u306e\u6b63\u3057\u3055\u3092\u691c\u8a3c\u3067\u304d\u308b\u3088\u3046\u306b\u52aa\u529b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"contributing/philosophy/#docblockphp-8","title":"\u72b6\u6cc1\u306b\u3088\u3063\u3066\u306f\u3001docblock\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306fPHP 8\u306e\u5c5e\u6027\u3088\u308a\u3082\u512a\u308c\u3066\u3044\u307e\u3059\u3002","text":"<p>\u9759\u7684\u89e3\u6790\u30c4\u30fc\u30eb\u3067\u5229\u7528\u3059\u308b\u3053\u3068\u3092\u76ee\u7684\u3068\u3057\u305f\u60c5\u5831\u306b\u3064\u3044\u3066\u306f\u3001 PHP 8 \u306e\u5c5e\u6027\u3088\u308a\u3082 docblock \u306e\u65b9\u304c\u9069\u3057\u3066\u3044\u307e\u3059\u3002</p> <p>\u305d\u306e\u6839\u62e0\u306fthis article \u306b\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"contributing/what_makes_psalm_complicated/","title":"psalm\u958b\u767a\u3092\u8907\u96d1\u306b\u3057\u3066\u3044\u308b\u3082\u306e","text":"<p>\u3053\u308c\u306f\u3001\u4ed6\u306e\u4eba\u306e\u52a9\u3051\u306b\u306a\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u3001\u3084\u3084\u975e\u516c\u5f0f\u306a\u30ea\u30b9\u30c8\u3067\u3042\u308b\u3002</p>"},{"location":"contributing/what_makes_psalm_complicated/#_1","title":"\u578b\u63a8\u8ad6","text":"<p>\u578b\u63a8\u8ad6\u306fPsalm\u306e\u5927\u304d\u306a\u7279\u5fb4\u306e\u3072\u3068\u3064\u3067\u3059\u3002\u3053\u308c\u306f\u3001PHP\u306e\u3055\u307e\u3056\u307e\u306a\u8981\u7d20(\u95a2\u6570\u547c\u3073\u51fa\u3057\u3001if/for/foreach\u6587\u306a\u3069)\u304c\u3001\u30b3\u30fc\u30c9\u5185\u306e\u30c7\u30fc\u30bf\u306b\u5bfe\u3057\u3066\u3069\u306e\u3088\u3046\u306a\u610f\u5473\u3092\u6301\u3064\u306e\u304b\u3092\u7406\u89e3\u3057\u3088\u3046\u3068\u3057\u307e\u3059\u3002</p> <p>\u578b\u63a8\u8ad6\u306e\u4e2d\u306b\u306f\u3001\u5384\u4ecb\u306a\u9818\u57df\u304c\u3044\u304f\u3064\u3082\u3042\u308a\u307e\u3059\uff1a</p>"},{"location":"contributing/what_makes_psalm_complicated/#_2","title":"\u30eb\u30fc\u30d7","text":"<p>break\u3068continue\u306f\u5384\u4ecb\u3067\u3059\u3002\u3053\u306e\u5206\u6790\u306f\u4e3b\u306b<code>LoopAnalyzer</code></p>"},{"location":"contributing/what_makes_psalm_complicated/#_3","title":"\u578b\u306e\u7d44\u307f\u5408\u308f\u305b","text":"<p>Psalm\u304c\u591a\u304f\u306e\u578b\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u578b\u3092\u7d44\u307f\u5408\u308f\u305b\u308b\u969b\u306b\u306f\u591a\u304f\u306e\u30a8\u30c3\u30b8\u30b1\u30fc\u30b9\u304c\u3042\u308b\u3002\u578b\u306e\u7d50\u5408\u306f<code>TypeCombiner</code> \u3067\u884c\u308f\u308c\u307e\u3059\u3002</p>"},{"location":"contributing/what_makes_psalm_complicated/#_4","title":"\u8ad6\u7406\u30a2\u30b5\u30fc\u30b7\u30e7\u30f3","text":"<p>PHP\u306e\u7570\u306a\u308b\u8981\u7d20\u306f\u3001if\u6761\u4ef6\u5f0f\u3084ternary\u306a\u3069\u306e\u30e6\u30fc\u30b6\u30fc\u30a2\u30b5\u30fc\u30b7\u30e7\u30f3 \u30ed\u30b8\u30c3\u30af\u306b\u3069\u306e\u3088\u3046\u306a\u5f71\u97ff\u3092\u4e0e\u3048\u308b\u306e\u3067\u3057\u3087\u3046\u304b\u3002\u3053\u306e\u30ed\u30b8\u30c3\u30af\u306f\u3001\u591a\u304f\u306e\u7570\u306a\u308b\u30af\u30e9\u30b9\u306b\u307e\u305f\u304c\u3063\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"contributing/what_makes_psalm_complicated/#_5","title":"\u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u3068\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5316\u3055\u308c\u305f\u30b3\u30fc\u30c9","text":"<p>\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u5316\u3055\u308c\u305f\u30b3\u30fc\u30c9\u304c\u3069\u306e\u3088\u3046\u306b\u52d5\u4f5c\u3059\u308b\u306e\u304b(<code>@template</code> \u30bf\u30b0)\u3001\u4ed6\u306e\u8a00\u8a9e(Hack\u3084TypeScript\u306a\u3069)\u3067\u3069\u306e\u7a0b\u5ea6\u52d5\u4f5c\u3059\u308b\u306e\u304b\u3092\u7406\u89e3\u3059\u308b\u306e\u306f\u96e3\u3057\u3044\u3067\u3059\u3002Psalm\u306f\u30cd\u30b9\u30c8\u3055\u308c\u305f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8 (<code>@template T1 of T2</code>) \u306a\u3069\u3082\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u308b\u306e\u3067\u3001\u3055\u3089\u306b\u5384\u4ecb\u3060\u3002</p>"},{"location":"contributing/what_makes_psalm_complicated/#_6","title":"\u30c7\u30c3\u30c9\u30b3\u30fc\u30c9\u306e\u691c\u51fa","text":"<p>\u672a\u4f7f\u7528\u306e\u5909\u6570\u3092\u691c\u51fa\u3059\u308b\u306b\u306f\u3001\u3044\u304f\u3064\u304b\u306e\u697d\u3057\u3044data-flow analysis \u304c\u5fc5\u8981\u3067\u3059\u3002</p> <p>\u7570\u306a\u308b\u5b9f\u884c\u9593\u3067\u672a\u4f7f\u7528\u306e\u30af\u30e9\u30b9\u3084\u30e1\u30bd\u30c3\u30c9\u3092\u691c\u51fa\u3059\u308b\u306b\u306f\u3001\u305d\u308c\u3089\u306e\u30af\u30e9\u30b9\u3078\u306e\u53c2\u7167\u3092\u30ad\u30e3\u30c3\u30b7\u30e5\u306b\u4fdd\u6301\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff08\u4e0b\u8a18\u53c2\u7167\uff09\u3002</p>"},{"location":"contributing/what_makes_psalm_complicated/#-phpdoc-phpdoc-arrayiteratorstring-arrayiterator-composer-wordpress","title":"\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u306e\u30b5\u30dd\u30fc\u30c8 - \u6b63\u5f0f\u306a PHPDoc \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306e\u30b5\u30dd\u30fc\u30c8 - \u975e\u516c\u5f0f\u306a PHPDoc \u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306e\u30b5\u30dd\u30fc\u30c8 \u4f8b:<code>ArrayIterator|string[]</code> \u3001\u6587\u5b57\u5217\u306b\u5bfe\u3059\u308b<code>ArrayIterator</code> \u3092\u8868\u3059 - \u975e Composer \u30d7\u30ed\u30b8\u30a7\u30af\u30c8 \u4f8b: WordPress","text":""},{"location":"contributing/what_makes_psalm_complicated/#psalm_1","title":"Psalm\u306e\u9ad8\u901f\u5316","text":""},{"location":"contributing/what_makes_psalm_complicated/#_7","title":"\u30d1\u30fc\u30b5\u30fc\u30d9\u30fc\u30b9\u306e\u30ea\u30d5\u30ec\u30af\u30b7\u30e7\u30f3","text":"<p>\u5206\u6790\u306b\u5fc5\u8981\u306a\u3059\u3079\u3066\u3092\u30b9\u30ad\u30e3\u30f3\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b</p>"},{"location":"contributing/what_makes_psalm_complicated/#windows","title":"\u30d5\u30a9\u30fc\u30af\u30d7\u30ed\u30bb\u30b9** (Windows\u4ee5\u5916)","text":"<p>\u307b\u3068\u3093\u3069\u304cPhan\u304b\u3089\u501f\u308a\u305f\u30b3\u30fc\u30c9\u3067\u51e6\u7406\u3055\u308c\u308b\u304c\u3001\u5fae\u5999\u306a\u554f\u984c\u3092\u5f15\u304d\u8d77\u3053\u3059\u53ef\u80fd\u6027\u304c\u3042\u308b\u3002</p>"},{"location":"contributing/what_makes_psalm_complicated/#_8","title":"\u30ad\u30e3\u30c3\u30b7\u30f3\u30b0","text":"<p>\u4e0b\u8a18\u53c2\u7167</p>"},{"location":"contributing/what_makes_psalm_complicated/#_9","title":"\u30ad\u30e3\u30c3\u30b7\u30e5\u306e\u7121\u52b9\u5316","text":""},{"location":"contributing/what_makes_psalm_complicated/#_10","title":"\u89e3\u6790\u7d50\u679c\u306e\u7121\u52b9\u5316","text":"<p>\u3069\u306e\u30e1\u30bd\u30c3\u30c9/\u30d7\u30ed\u30d1\u30c6\u30a3\u304c\u4ed6\u306e\u3069\u306e\u30d5\u30a1\u30a4\u30eb\u3067\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b\u304b\u3092\u8ffd\u8de1\u3057\u3001\u30ea\u30f3\u30af\u3055\u308c\u305f\u30e1\u30bd\u30c3\u30c9\u304c\u5909\u66f4\u3055\u308c\u305f\u5834\u5408\u306b\u305d\u308c\u3089\u306e\u7d50\u679c\u3092\u7121\u52b9\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"contributing/what_makes_psalm_complicated/#_11","title":"\u90e8\u5206\u7684\u306a\u89e3\u6790","text":"<p>\u5909\u66f4\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u306e\u65ad\u7247\u3092\u89e3\u6790\u3057\u76f4\u3059\u3002</p>"},{"location":"contributing/what_makes_psalm_complicated/#_12","title":"\u8a00\u8a9e\u30b5\u30fc\u30d0\u30fc\u30b5\u30dd\u30fc\u30c8","text":""},{"location":"contributing/what_makes_psalm_complicated/#_13","title":"\u4e00\u6642\u7684\u306a\u30d5\u30a1\u30a4\u30eb\u5909\u66f4\u306e\u51e6\u7406","text":"<p>\u30d5\u30a1\u30a4\u30eb\u304c\u5909\u66f4\u3055\u308c\u305f\u5834\u5408\u3001Psalm\u306f\u4e0d\u5fc5\u8981\u306a\u518d\u89e3\u6790\u3092\u907f\u3051\u308b\u305f\u3081\u3001\u30d5\u30a1\u30a4\u30eb\u5185\u3067\u4f55\u304c\u5909\u66f4\u3055\u308c\u305f\u304b\u3092\u628a\u63e1\u3057\u307e\u3059\u3002</p>"},{"location":"contributing/what_makes_psalm_complicated/#php","title":"\u4e0d\u6b63\u306a PHP \u30b3\u30fc\u30c9\u306e\u51e6\u7406","text":"<p>\u4eba\u304c\u30b3\u30fc\u30c9\u3092\u66f8\u304f\u3068\u304d\u3001\u66f8\u3044\u305f\u3068\u304a\u308a\u306b\u306a\u308b\u3068\u306f\u9650\u308a\u307e\u305b\u3093\u3002\u8a00\u8a9e\u30b5\u30fc\u30d0\u306f\u3001\u305d\u306e\u3088\u3046\u306a\u4e0d\u6b63\u306a\u30b3\u30fc\u30c9\u306b\u5bfe\u51e6\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"contributing/what_makes_psalm_complicated/#psalter","title":"Psalter\u3067\u30b3\u30fc\u30c9\u3092\u4fee\u6b63\u3059\u308b","text":""},{"location":"contributing/what_makes_psalm_complicated/#_14","title":"\u30b3\u30fc\u30c9\u306e\u8ffd\u52a0/\u7f6e\u63db","text":"<p>\u4f55\u304c\u5909\u66f4\u3055\u308c\u305f\u304b\u3092\u628a\u63e1\u3057\u3001\u4eba\u9593\u304c\u884c\u3048\u305f\u304b\u3082\u3057\u308c\u306a\u3044\u7de8\u96c6\u3092\u884c\u3046</p>"},{"location":"contributing/what_makes_psalm_complicated/#_15","title":"\u6700\u5c0f\u9650\u306e\u5dee\u5206","text":"<p>\u5fc5\u8981\u4ee5\u4e0a\u306e\u5909\u66f4\u306f\u96e3\u3057\u3044</p>"},{"location":"manipulating_code/fixing/","title":"\u30b3\u30fc\u30c9\u306e\u4fee\u6b63","text":"<p>Psalm\u306f\u5927\u898f\u6a21\u306a\u30b3\u30fc\u30c9\u30d9\u30fc\u30b9\u306e\u6f5c\u5728\u7684\u306a\u554f\u984c\u3092\u898b\u3064\u3051\u308b\u306e\u304c\u5f97\u610f\u3067\u3059\u304c\u3001\u4e00\u5ea6\u898b\u3064\u304b\u308b\u3068\u3001\u3059\u3079\u3066\u306e\u554f\u984c\u3092\u4fee\u6b63\u3059\u308b\u306e\u306f\u9014\u65b9\u3082\u306a\u3044\u4f5c\u696d\u306b\u306a\u308b\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>Psalm\u306b\u306f\u3001Psalter\u3068\u3044\u3046\u540d\u524d\u306e\u30c4\u30fc\u30eb\u304c\u4ed8\u5c5e\u3057\u3066\u304a\u308a\u3001\u30b3\u30fc\u30c9\u306e\u4fee\u6b63\u306b\u5f79\u7acb\u3061\u307e\u3059\u3002</p> <p>\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3001\u30d0\u30a4\u30ca\u30ea\u3092\u901a\u3058\u3066\u5b9f\u884c\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>vendor/bin/psalter [args]\n</code></pre> <p>\u307e\u305f\u306f\u3001Psalm\u306e\u30d0\u30a4\u30ca\u30ea\u3092\u901a\u3058\u3066\uff1a</p> <pre><code>vendor/bin/psalm --alter [args]\n</code></pre>"},{"location":"manipulating_code/fixing/#_2","title":"\u5b89\u5168\u6a5f\u80fd","text":"<p>\u30b3\u30fc\u30c9\u306e\u66f4\u65b0\u306b\u306f\u672c\u8cea\u7684\u306b\u30ea\u30b9\u30af\u304c\u3042\u308a\u3001\u81ea\u52d5\u7684\u306b\u884c\u3046\u3068\u3055\u3089\u306b\u30ea\u30b9\u30af\u304c\u9ad8\u304f\u306a\u308a\u307e\u3059\u3002\u5c11\u3057\u5b89\u5fc3\u3067\u304d\u308b\u3088\u3046\u306b\u3001\u3044\u304f\u3064\u304b\u306e\u6a5f\u80fd\u3092\u8ffd\u52a0\u3057\u307e\u3057\u305f\uff1a</p> <ul> <li>Psalter\u304c\u884c\u3046\u5909\u66f4\u3092\u4e8b\u524d\u306b\u78ba\u8a8d\u3059\u308b\u306b\u306f\u3001<code>--dry-run</code>\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u3066\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002</li> <li><code>--php-version</code>\u3092\u4f7f\u7528\u3057\u3066\u7279\u5b9a\u306ePHP\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u5bfe\u8c61\u306b\u3067\u304d\u308b\u306e\u3067\u3001\u4f8b\u3048\u3070PHP 7.0\u306e\u30b3\u30fc\u30c9\u306bnullable\u578b\u30d2\u30f3\u30c8\u3092\u8ffd\u52a0\u3057\u305f\u308a\u3001PHP 5.6\u306e\u30b3\u30fc\u30c9\u306b\u578b\u30d2\u30f3\u30c8\u3092\u5168\u304f\u8ffd\u52a0\u3057\u306a\u3044\u3088\u3046\u306b\u3067\u304d\u307e\u3059\u3002<code>--php-version</code>\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u73fe\u5728\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u306a\u308a\u307e\u3059\u3002</li> <li><code>--safe-types</code>\u30e2\u30fc\u30c9\u304c\u3042\u308a\u3001\u3053\u308c\u306fPsalm\u304cdocblock\u4ee5\u5916\u306e\u30bd\u30fc\u30b9\uff08\u4f8b\uff1a\u578b\u30d2\u30f3\u30c8\u4ed8\u304d\u30d1\u30e9\u30e1\u30fc\u30bf\u3001<code>instanceof</code>\u30c1\u30a7\u30c3\u30af\u3001\u4ed6\u306e\u623b\u308a\u5024\u306e\u578b\u30d2\u30f3\u30c8\u306a\u3069\uff09\u304b\u3089\u53ce\u96c6\u3057\u305f\u60c5\u5831\u306e\u307f\u3092\u4f7f\u7528\u3057\u3066PHP 7\u306e\u623b\u308a\u5024\u306e\u578b\u30d2\u30f3\u30c8\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002</li> <li><code>--allow-backwards-incompatible-changes=false</code>\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001\u5f8c\u65b9\u4e92\u63db\u6027\u306e\u306a\u3044\u5909\u66f4\u304c\u4f5c\u6210\u3055\u308c\u306a\u3044\u3088\u3046\u306b\u3067\u304d\u307e\u3059\u3002</li> </ul>"},{"location":"manipulating_code/fixing/#_3","title":"\u30d7\u30e9\u30b0\u30a4\u30f3","text":"<p>\u72ec\u81ea\u306e\u64cd\u4f5c\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u6e21\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u4f8b\uff1a</p> <pre><code>vendor/bin/psalter --plugin=vendor/vimeo/psalm/examples/plugins/ClassUnqualifier.php --dry-run\n</code></pre> <p>\u4e0a\u8a18\u306e\u4f8b\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u306f\u3001\u30b3\u30fc\u30c9\u5185\u306e\u4e0d\u5fc5\u8981\u306b\u4fee\u98fe\u3055\u308c\u305f\u30af\u30e9\u30b9\u540d\u3092\u3059\u3079\u3066\u3001\u3088\u308a\u77ed\u3044\u5225\u540d\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u5909\u63db\u3057\u307e\u3059\u3002</p>"},{"location":"manipulating_code/fixing/#_4","title":"\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u4fee\u6b63","text":"<p>\u3053\u306e\u521d\u671f\u30ea\u30ea\u30fc\u30b9\u3067\u306f\u3001Psalm\u304c\u898b\u3064\u3051\u308b\u554f\u984c\u306e\u540d\u524d\u306b\u5bfe\u5fdc\u3059\u308b\u4ee5\u4e0b\u306e\u5909\u66f4\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002</p> <p>\u3053\u308c\u3089\u3059\u3079\u3066\u3092\u4e00\u5ea6\u306b\u4fee\u6b63\u3059\u308b\u306b\u306f\u3001<code>vendor/bin/psalter --issues=all</code>\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</p>"},{"location":"manipulating_code/fixing/#missingreturntype","title":"MissingReturnType","text":"<p><code>vendor/bin/psalter --issues=MissingReturnType --php-version=7.0</code>\u3092\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5b9f\u884c\u3059\u308b\u3068\uff1a</p> <pre><code>&lt;?php\nfunction foo() {\n  return \"hello\";\n}\n</code></pre> <p>\u7d50\u679c\uff1a</p> <pre><code>&lt;?php\nfunction foo() : string {\n  return \"hello\";\n}\n</code></pre> <p><code>vendor/bin/psalter --issues=MissingReturnType --php-version=5.6</code>\u3092\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5b9f\u884c\u3059\u308b\u3068\uff1a</p> <pre><code>&lt;?php\nfunction foo() {\n  return \"hello\";\n}\n</code></pre> <p>\u7d50\u679c\uff1a</p> <pre><code>&lt;?php\n/** \n * @return string \n */\nfunction foo() {\n  return \"hello\";\n}\n</code></pre>"},{"location":"manipulating_code/fixing/#missingclosurereturntype","title":"MissingClosureReturnType","text":"<p>\u4e0a\u8a18\u3068\u540c\u69d8\u3067\u3059\u304c\u3001\u30af\u30ed\u30fc\u30b8\u30e3\u306b\u5bfe\u3057\u3066\u9069\u7528\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"manipulating_code/fixing/#invalidreturntype","title":"InvalidReturnType","text":"<p><code>vendor/bin/psalter --issues=InvalidReturnType</code>\u3092\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5b9f\u884c\u3059\u308b\u3068\uff1a</p> <pre><code>&lt;?php\n/** \n * @return int \n */\nfunction foo() {\n  return \"hello\";\n}\n</code></pre> <p>\u7d50\u679c\uff1a</p> <pre><code>&lt;?php\n/** \n * @return string \n */\nfunction foo() {\n  return \"hello\";\n}\n</code></pre> <p>\u623b\u308a\u5024\u306e\u578b\u30d2\u30f3\u30c8\u3082\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001<code>vendor/bin/psalter --issues=InvalidReturnType</code>\u3092\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5b9f\u884c\u3059\u308b\u3068\uff1a</p> <pre><code>&lt;?php\nfunction foo() : int {\n  return \"hello\";\n}\n</code></pre> <p>\u7d50\u679c\uff1a</p> <pre><code>&lt;?php\nfunction foo() : string {\n  return \"hello\";\n}\n</code></pre>"},{"location":"manipulating_code/fixing/#invalidnullablereturntype","title":"InvalidNullableReturnType","text":"<p><code>vendor/bin/psalter --issues=InvalidNullableReturnType  --php-version=7.1</code>\u3092\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5b9f\u884c\u3059\u308b\u3068\uff1a</p> <pre><code>&lt;?php\nfunction foo() : string {\n  return rand(0, 1) ? \"hello\" : null;\n}\n</code></pre> <p>\u7d50\u679c\uff1a</p> <pre><code>&lt;?php\nfunction foo() : ?string {\n  return rand(0, 1) ? \"hello\" : null;\n}\n</code></pre> <p><code>vendor/bin/psalter --issues=InvalidNullableReturnType  --php-version=7.0</code>\u3092\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5b9f\u884c\u3059\u308b\u3068\uff1a</p> <pre><code>&lt;?php\nfunction foo() : string {\n  return rand(0, 1) ? \"hello\" : null;\n}\n</code></pre> <p>\u7d50\u679c\uff1a</p> <pre><code>&lt;?php\n/** \n * @return string|null \n */\nfunction foo() {\n  return rand(0, 1) ? \"hello\" : null;\n}\n</code></pre>"},{"location":"manipulating_code/fixing/#invalidfalsablereturntype","title":"InvalidFalsableReturnType","text":"<p><code>vendor/bin/psalter --issues=InvalidFalsableReturnType</code>\u3092\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5b9f\u884c\u3059\u308b\u3068\uff1a</p> <pre><code>&lt;?php\nfunction foo() : string {\n  return rand(0, 1) ? \"hello\" : false;\n}\n</code></pre> <p>\u7d50\u679c\uff1a</p> <pre><code>&lt;?php\n/** \n * @return string|false \n */\nfunction foo() {\n  return rand(0, 1) ? \"hello\" : false;\n}\n</code></pre>"},{"location":"manipulating_code/fixing/#missingparamtype","title":"MissingParamType","text":"<p><code>vendor/bin/psalter --issues=MissingParamType</code>\u3092\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5b9f\u884c\u3059\u308b\u3068\uff1a</p> <pre><code>&lt;?php\nclass C {\n  public static function foo($s) : void {\n    echo $s;\n  }\n}\nC::foo(\"hello\");\n</code></pre> <p>\u7d50\u679c\uff1a</p> <pre><code>&lt;?php\nclass C {\n  /**\n   * @param string $s\n   */\n  public static function foo($s) : void {\n    echo $s;\n  }\n}\nC::foo(\"hello\");\n</code></pre>"},{"location":"manipulating_code/fixing/#missingpropertytype","title":"MissingPropertyType","text":"<p><code>vendor/bin/psalter --issues=MissingPropertyType</code>\u3092\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5b9f\u884c\u3059\u308b\u3068\uff1a</p> <pre><code>&lt;?php\nclass A {\n    public $foo;\n    public $bar;\n    public $baz;\n\n    public function __construct()\n    {\n        if (rand(0, 1)) {\n            $this-&gt;foo = 5;\n        } else {\n            $this-&gt;foo = \"hello\";\n        }\n        $this-&gt;bar = \"baz\";\n    }\n\n    public function setBaz() {\n        $this-&gt;baz = [1, 2, 3];\n    }\n}\n</code></pre> <p>\u7d50\u679c\uff1a</p> <pre><code>&lt;?php\nclass A {\n    /**\n     * @var string|int\n     */\n    public $foo;\n    public string $bar;\n    /**\n     * @var array&lt;int, int&gt;|null\n     * @psalm-var non-empty-list&lt;int&gt;|null\n     */\n    public $baz;\n\n    public function __construct()\n    {\n        if (rand(0, 1)) {\n            $this-&gt;foo = 5;\n        } else {\n            $this-&gt;foo = \"hello\";\n        }\n        $this-&gt;bar = \"baz\";\n    }\n\n    public function setBaz() {\n        $this-&gt;baz = [1, 2, 3];\n    }\n}\n</code></pre>"},{"location":"manipulating_code/fixing/#mismatchingdocblockparamtype","title":"MismatchingDocblockParamType","text":"<p>\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u304c\u3042\u308b\u5834\u5408\uff1a</p> <pre><code>&lt;?php\nclass A {}\nclass B extends A {}\nclass C extends A {}\nclass D {}\n</code></pre> <p><code>vendor/bin/psalter --issues=MismatchingDocblockParamType</code>\u3092\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5b9f\u884c\u3059\u308b\u3068\uff1a</p> <pre><code>&lt;?php\n/** \n * @param B|C $first\n * @param D $second \n */\nfunction foo(A $first, A $second) : void {}\n</code></pre> <p>\u7d50\u679c\uff1a</p> <pre><code>&lt;?php\n/** \n * @param B|C $first\n * @param A $second \n */\nfunction foo(A $first, A $second) : void {}\n</code></pre>"},{"location":"manipulating_code/fixing/#mismatchingdocblockreturntype","title":"MismatchingDocblockReturnType","text":"<p><code>vendor/bin/psalter --issues=MismatchingDocblockReturnType</code>\u3092\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5b9f\u884c\u3059\u308b\u3068\uff1a</p> <pre><code>&lt;?php\n/** \n * @return int \n */\nfunction foo() : string {\n  return \"hello\";\n}\n</code></pre> <p>\u7d50\u679c\uff1a</p> <pre><code>&lt;?php\n/** \n * @return string \n */\nfunction foo() : string {\n  return \"hello\";\n}\n</code></pre>"},{"location":"manipulating_code/fixing/#lessspecificreturntype","title":"LessSpecificReturnType","text":"<p><code>vendor/bin/psalter --issues=LessSpecificReturnType</code>\u3092\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5b9f\u884c\u3059\u308b\u3068\uff1a</p> <pre><code>&lt;?php\nfunction foo() : ?string {\n  return \"hello\";\n}\n</code></pre> <p>\u7d50\u679c\uff1a</p> <pre><code>&lt;?php\nfunction foo() : string {\n  return \"hello\";\n}\n</code></pre>"},{"location":"manipulating_code/fixing/#possiblyundefinedvariable","title":"PossiblyUndefinedVariable","text":"<p><code>vendor/bin/psalter --issues=PossiblyUndefinedVariable</code>\u3092\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5b9f\u884c\u3059\u308b\u3068\uff1a</p> <pre><code>&lt;?php\nfunction foo(){\n    if (rand(0, 1)) {\n      $a = 5;\n    }\n    echo $a;\n}\n</code></pre> <p>\u7d50\u679c\uff1a</p> <pre><code>&lt;?php\nfunction foo(){\n    $a = null;\n    if (rand(0, 1)) {\n      $a = 5;\n    }\n    echo $a;\n}\n</code></pre>"},{"location":"manipulating_code/fixing/#possiblyundefinedglobalvariable","title":"PossiblyUndefinedGlobalVariable","text":"<p><code>vendor/bin/psalter --issues=PossiblyUndefinedGlobalVariable</code>\u3092\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5b9f\u884c\u3059\u308b\u3068\uff1a</p> <pre><code>&lt;?php\nif (rand(0, 1)) {\n  $a = 5;\n}\necho $a;\n</code></pre> <p>\u7d50\u679c\uff1a</p> <pre><code>&lt;?php\n$a = null;\nif (rand(0, 1)) {\n  $a = 5;\n}\necho $a;\n</code></pre>"},{"location":"manipulating_code/fixing/#unusedmethod","title":"UnusedMethod","text":"<p>\u3053\u308c\u306f\u4f7f\u7528\u3055\u308c\u3066\u3044\u306a\u3044\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30e1\u30bd\u30c3\u30c9\u3092\u524a\u9664\u3057\u307e\u3059\u3002</p> <p><code>vendor/bin/psalter --issues=UnusedMethod</code>\u3092\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5b9f\u884c\u3059\u308b\u3068\uff1a</p> <pre><code>&lt;?php\nclass A {\n    private function foo() : void {}\n}\nnew A();\n</code></pre> <p>\u7d50\u679c\uff1a</p> <pre><code>&lt;?php\nclass A {}\nnew A();\n</code></pre>"},{"location":"manipulating_code/fixing/#possiblyunusedmethod","title":"PossiblyUnusedMethod","text":"<p>\u3053\u308c\u306f\u4f7f\u7528\u3055\u308c\u3066\u3044\u306a\u3044protected/public\u30e1\u30bd\u30c3\u30c9\u3092\u524a\u9664\u3057\u307e\u3059\u3002</p> <p><code>vendor/bin/psalter --issues=PossiblyUnusedMethod</code>\u3092\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5b9f\u884c\u3059\u308b\u3068\uff1a</p> <pre><code>&lt;?php\nclass A {\n    protected function foo() : void {}\n    public function bar() : void {}\n}\nnew A();\n</code></pre> <p>\u7d50\u679c\uff1a</p> <pre><code>&lt;?php\nclass A {}\nnew A();\n</code></pre>"},{"location":"manipulating_code/fixing/#unusedproperty","title":"UnusedProperty","text":"<p>\u3053\u308c\u306f\u4f7f\u7528\u3055\u308c\u3066\u3044\u306a\u3044\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u524a\u9664\u3057\u307e\u3059\u3002</p> <p><code>vendor/bin/psalter --issues=UnusedProperty</code>\u3092\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5b9f\u884c\u3059\u308b\u3068\uff1a</p> <pre><code>&lt;?php\nclass A {\n    /** @var string */\n    private $foo;\n}\nnew A();\n</code></pre> <p>\u7d50\u679c\uff1a</p> <pre><code>&lt;?php\nclass A {}\nnew A();\n</code></pre>"},{"location":"manipulating_code/fixing/#possiblyunusedproperty","title":"PossiblyUnusedProperty","text":"<p>\u3053\u308c\u306f\u4f7f\u7528\u3055\u308c\u3066\u3044\u306a\u3044protected/public\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u524a\u9664\u3057\u307e\u3059\u3002</p> <p><code>vendor/bin/psalter --issues=PossiblyUnusedProperty</code>\u3092\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5b9f\u884c\u3059\u308b\u3068\uff1a</p> <pre><code>&lt;?php\nclass A {\n    /** @var string */\n    public $foo;\n    /** @var string */\n    protected $bar;\n}\nnew A();\n</code></pre> <p>\u7d50\u679c\uff1a</p> <pre><code>&lt;?php\nclass A {}\nnew A();\n</code></pre>"},{"location":"manipulating_code/fixing/#unusedvariable","title":"UnusedVariable","text":"<p>\u3053\u308c\u306f\u4f7f\u7528\u3055\u308c\u3066\u3044\u306a\u3044\u5909\u6570\u3092\u524a\u9664\u3057\u307e\u3059\u3002</p> <p><code>vendor/bin/psalter --issues=UnusedVariable</code>\u3092\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5b9f\u884c\u3059\u308b\u3068\uff1a</p> <pre><code>&lt;?php\nfunction foo(string $s) : void {\n    $a = 5;\n    $b = 6;\n    $c = $b += $a -= intval($s);\n    echo \"foo\";\n}\n</code></pre> <p>\u7d50\u679c\uff1a</p> <pre><code>&lt;?php\nfunction foo(string $s) : void {\n    echo \"foo\";\n}\n</code></pre>"},{"location":"manipulating_code/fixing/#unnecessaryvarannotation","title":"UnnecessaryVarAnnotation","text":"<p>\u3053\u308c\u306f\u4f7f\u7528\u3055\u308c\u3066\u3044\u306a\u3044<code>@var</code>\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u524a\u9664\u3057\u307e\u3059\u3002</p> <p><code>vendor/bin/psalter --issues=UnnecessaryVarAnnotation</code>\u3092\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5b9f\u884c\u3059\u308b\u3068\uff1a</p> <pre><code>&lt;?php\nfunction foo() : string {\n    return \"hello\";\n}\n/** @var string */\n$a = foo();\n</code></pre> <p>\u7d50\u679c\uff1a</p> <pre><code>&lt;?php\nfunction foo() : string {\n    return \"hello\";\n}\n$a = foo();\n</code></pre>"},{"location":"manipulating_code/fixing/#paramnamemismatch","title":"ParamNameMismatch","text":"<p>\u3053\u308c\u306f\u5b50\u30af\u30e9\u30b9\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u540d\u3092\u89aa\u30af\u30e9\u30b9\u3068\u4e00\u81f4\u3055\u305b\u307e\u3059\u3002</p> <p><code>vendor/bin/psalter --issues=ParamNameMismatch</code>\u3092\u4ee5\u4e0b\u306e\u30b3\u30fc\u30c9\u3067\u5b9f\u884c\u3059\u308b\u3068\uff1a</p> <pre><code>&lt;?php\nclass A {\n    public function foo(string $str, bool $b = false) : void {}\n}\nclass AChild extends A {\n    public function foo(string $string, bool $b = false) : void {\n        echo $string;\n    }\n}\n</code></pre> <p>\u7d50\u679c\uff1a</p> <pre><code>&lt;?php\nclass A {\n    public function foo(string $str, bool $b = false) : void {}\n}\nclass AChild extends A {\n    public function foo(string $str, bool $b = false) : void {\n        echo $str;\n    }\n}\n</code></pre>"},{"location":"manipulating_code/refactoring/","title":"\u30b3\u30fc\u30c9\u306e\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0","text":"<p>\u6642\u306b\u306f\u30e1\u30bd\u30c3\u30c9\u3084\u30af\u30e9\u30b9\u3092\u79fb\u52d5\u3059\u308b\u306a\u3069\u3001\u30b3\u30fc\u30c9\u30d9\u30fc\u30b9\u306b\u5927\u304d\u306a\u5909\u66f4\u3092\u52a0\u3048\u305f\u3044\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>Psalm\u306b\u306f\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u30c4\u30fc\u30eb\u304c\u3042\u308a\u3001<code>vendor/bin/psalm-refactor</code>\u307e\u305f\u306f<code>vendor/bin/psalm --refactor</code>\u306e\u5f8c\u306b\u9069\u5207\u306a\u30b3\u30de\u30f3\u30c9\u3092\u4ed8\u3051\u3066\u30a2\u30af\u30bb\u30b9\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"manipulating_code/refactoring/#_2","title":"\u3042\u308b\u30cd\u30fc\u30e0\u30b9\u30da\u30fc\u30b9\u304b\u3089\u5225\u306e\u30cd\u30fc\u30e0\u30b9\u30da\u30fc\u30b9\u306b\u3059\u3079\u3066\u306e\u30af\u30e9\u30b9\u3092\u79fb\u52d5\u3059\u308b","text":"<pre><code>vendor/bin/psalm-refactor --move \"Ns1\\*\" --into \"Some\\Other\\Namespace\"\n</code></pre> <p>\u3053\u308c\u306b\u3088\u308a\u3001<code>Ns1</code>\u5185\u306e\u3059\u3079\u3066\u306e\u30af\u30e9\u30b9\uff08\u4f8b\uff1a<code>Ns1\\Foo</code>\u3001<code>Ns1\\Baz</code>\uff09\u3092\u6307\u5b9a\u3055\u308c\u305f\u30cd\u30fc\u30e0\u30b9\u30da\u30fc\u30b9\u306b\u79fb\u52d5\u3057\u307e\u3059\u3002\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u30d5\u30a1\u30a4\u30eb\u3082\u79fb\u52d5\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"manipulating_code/refactoring/#_3","title":"\u30b3\u30fc\u30c9\u306e\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0","text":"<p>\u6642\u306b\u306f\u30e1\u30bd\u30c3\u30c9\u3084\u30af\u30e9\u30b9\u3092\u79fb\u52d5\u3059\u308b\u306a\u3069\u3001\u30b3\u30fc\u30c9\u30d9\u30fc\u30b9\u306b\u5927\u304d\u306a\u5909\u66f4\u3092\u52a0\u3048\u305f\u3044\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>Psalm\u306b\u306f\u30ea\u30d5\u30a1\u30af\u30bf\u30ea\u30f3\u30b0\u30c4\u30fc\u30eb\u304c\u3042\u308a\u3001<code>vendor/bin/psalm-refactor</code>\u307e\u305f\u306f<code>vendor/bin/psalm --refactor</code>\u306e\u5f8c\u306b\u9069\u5207\u306a\u30b3\u30de\u30f3\u30c9\u3092\u4ed8\u3051\u3066\u30a2\u30af\u30bb\u30b9\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"manipulating_code/refactoring/#_4","title":"\u3042\u308b\u30cd\u30fc\u30e0\u30b9\u30da\u30fc\u30b9\u304b\u3089\u5225\u306e\u30cd\u30fc\u30e0\u30b9\u30da\u30fc\u30b9\u306b\u3059\u3079\u3066\u306e\u30af\u30e9\u30b9\u3092\u79fb\u52d5\u3059\u308b","text":"<pre><code>vendor/bin/psalm-refactor --move \"Ns1\\*\" --into \"Some\\Other\\Namespace\"\n</code></pre> <p>\u3053\u308c\u306b\u3088\u308a\u3001<code>Ns1</code>\u5185\u306e\u3059\u3079\u3066\u306e\u30af\u30e9\u30b9\uff08\u4f8b\uff1a<code>Ns1\\Foo</code>\u3001<code>Ns1\\Baz</code>\uff09\u3092\u6307\u5b9a\u3055\u308c\u305f\u30cd\u30fc\u30e0\u30b9\u30da\u30fc\u30b9\u306b\u79fb\u52d5\u3057\u307e\u3059\u3002\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u30d5\u30a1\u30a4\u30eb\u3082\u79fb\u52d5\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"manipulating_code/refactoring/#_5","title":"\u30cd\u30fc\u30e0\u30b9\u30da\u30fc\u30b9\u9593\u3067\u30af\u30e9\u30b9\u3092\u79fb\u52d5\u3059\u308b","text":"<pre><code>vendor/bin/psalm-refactor --move \"Ns1\\Foo\" --into \"Ns2\"\n</code></pre> <p>\u3053\u308c\u306f\u3001\u30af\u30e9\u30b9<code>Ns1\\Foo</code>\u3092\u30cd\u30fc\u30e0\u30b9\u30da\u30fc\u30b9<code>Ns2</code>\u306b\u79fb\u52d5\u3059\u308b\u3088\u3046Psalm\u306b\u6307\u793a\u3057\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u3001<code>Ns1\\Foo</code>\u3078\u306e\u53c2\u7167\u306f\u3059\u3079\u3066<code>Ns2\\Foo</code>\u306b\u306a\u308a\u307e\u3059\u3002\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u30d5\u30a1\u30a4\u30eb\u3082\u79fb\u52d5\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"manipulating_code/refactoring/#_6","title":"\u30af\u30e9\u30b9\u306e\u79fb\u52d5\u3068\u540d\u524d\u5909\u66f4","text":"<pre><code>vendor/bin/psalm-refactor --rename \"Ns1\\Foo\" --to \"Ns2\\Bar\\Baz\"\n</code></pre> <p>\u3053\u308c\u306f\u3001\u30af\u30e9\u30b9<code>Ns1\\Foo</code>\u3092\u30cd\u30fc\u30e0\u30b9\u30da\u30fc\u30b9<code>Ns2\\Bar</code>\u306b\u79fb\u52d5\u3057\u3001\u540d\u524d\u3092<code>Baz</code>\u306b\u5909\u66f4\u3059\u308b\u3088\u3046Psalm\u306b\u6307\u793a\u3057\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u3001<code>Ns1\\Foo</code>\u3078\u306e\u53c2\u7167\u306f\u3059\u3079\u3066<code>Ns2\\Bar\\Baz</code>\u306b\u306a\u308a\u307e\u3059\u3002\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u30d5\u30a1\u30a4\u30eb\u3082\u79fb\u52d5\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"manipulating_code/refactoring/#_7","title":"\u30af\u30e9\u30b9\u9593\u3067\u30e1\u30bd\u30c3\u30c9\u3092\u79fb\u52d5\u3059\u308b","text":"<pre><code>vendor/bin/psalm-refactor --move \"Ns1\\Foo::bar\" --into \"Ns2\\Baz\"\n</code></pre> <p>\u3053\u308c\u306f\u3001<code>Ns1\\Foo</code>\u5185\u306e<code>bar</code>\u3068\u3044\u3046\u540d\u524d\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u30af\u30e9\u30b9<code>Ns2\\Baz</code>\u306b\u79fb\u52d5\u3059\u308b\u3088\u3046Psalm\u306b\u6307\u793a\u3057\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u3001<code>Ns1\\Foo::bar</code>\u3078\u306e\u53c2\u7167\u306f\u3059\u3079\u3066<code>Ns2\\Baz::bar</code>\u306b\u306a\u308a\u307e\u3059\u3002\u73fe\u5728\u306e\u3068\u3053\u308d\u3001Psalm\u306f\u4efb\u610f\u306e\u30af\u30e9\u30b9\u9593\u3067\u9759\u7684\u30e1\u30bd\u30c3\u30c9\u3092\u79fb\u52d5\u3059\u308b\u3053\u3068\u3092\u8a31\u53ef\u3057\u3001\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u30e1\u30bd\u30c3\u30c9\u3092\u305d\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u5b50\u30af\u30e9\u30b9\u306b\u79fb\u52d5\u3059\u308b\u3053\u3068\u3092\u8a31\u53ef\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"manipulating_code/refactoring/#_8","title":"\u30e1\u30bd\u30c3\u30c9\u306e\u79fb\u52d5\u3068\u540d\u524d\u5909\u66f4","text":"<pre><code>vendor/bin/psalm-refactor --rename \"Ns1\\Foo::bar\" --to \"Ns2\\Baz::bat\"\n</code></pre> <p>\u3053\u308c\u306f\u3001\u30e1\u30bd\u30c3\u30c9<code>Ns1\\Foo::bar</code>\u3092\u30af\u30e9\u30b9<code>Ns2\\Baz</code>\u306b\u79fb\u52d5\u3057\u3001\u540d\u524d\u3092<code>bat</code>\u306b\u5909\u66f4\u3059\u308b\u3088\u3046Psalm\u306b\u6307\u793a\u3057\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u3001<code>Ns1\\Foo::bar</code>\u3078\u306e\u53c2\u7167\u306f\u3059\u3079\u3066<code>Ns2\\Baz::bat</code>\u306b\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"running_psalm/checking_non_php_files/","title":"\u975ePHP\u30d5\u30a1\u30a4\u30eb\u306e\u30c1\u30a7\u30c3\u30af","text":"<p>Psalm\u306f\u3001<code>FileChecker</code>\u30af\u30e9\u30b9\u3092\u62e1\u5f35\u3059\u308b\u3053\u3068\u3067\u3001\u3055\u307e\u3056\u307e\u306aPHP\u30e9\u30a4\u30af\u306a\u30d5\u30a1\u30a4\u30eb\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u6a5f\u80fd\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u5909\u6570\u304c\u4ed6\u306e\u5834\u6240\u3067\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304c\u3042\u308b\u5834\u5408\u3001Psalm\u306f\u305d\u308c\u3089\u306e\u5909\u6570\u3092\u30b9\u30af\u30ec\u30a4\u30d4\u30f3\u30b0\u3057\u3001\u4e8b\u524d\u306b\u8a2d\u5b9a\u3055\u308c\u305f\u5909\u6570\u3067\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30c1\u30a7\u30c3\u30ab\u30fc\u306e\u4f8b\u306f\u3053\u3061\u3089\u3067\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"running_psalm/checking_non_php_files/#psalmxml","title":"<code>psalm.xml</code>\u306e\u4f7f\u7528","text":"<p>\u30ab\u30b9\u30bf\u30e0<code>FileChecker</code>\u3092\u4f7f\u7528\u3059\u308b\u306b\u306f\u3001psalm.xml\u306ePsalm <code>fileExtensions</code>\u8a2d\u5b9a\u3092\u66f4\u65b0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff1a</p> <pre><code>&lt;fileExtensions&gt;\n    &lt;extension name=\".php\" /&gt;\n    &lt;extension name=\".phpt\" checker=\"path/to/TemplateChecker.php\" /&gt;\n&lt;/fileExtensions&gt;\n</code></pre>"},{"location":"running_psalm/checking_non_php_files/#_1","title":"\u30ab\u30b9\u30bf\u30e0\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u4f7f\u7528","text":"<p>\u30d7\u30e9\u30b0\u30a4\u30f3\u306f\u3001\u7279\u5b9a\u306e\u30d5\u30a1\u30a4\u30eb\u62e1\u5f35\u5b50\u306b\u5bfe\u3057\u3066\u72ec\u81ea\u306e\u30ab\u30b9\u30bf\u30e0\u30b9\u30ad\u30e3\u30ca\u30fc\u3068\u30a2\u30ca\u30e9\u30a4\u30b6\u30fc\u306e\u5b9f\u88c5\u3092\u767b\u9332\u3067\u304d\u307e\u3059\u3002</p> <pre><code>&lt;?php\nnamespace Psalm\\Example;\n\nuse Psalm\\Plugin\\PluginEntryPointInterface;\nuse Psalm\\Plugin\\PluginFileExtensionsInterface;\nuse Psalm\\Plugin\\FileExtensionsInterface;\nuse Psalm\\Plugin\\RegistrationInterface;\n\nclass CustomPlugin implements PluginEntryPointInterface, PluginFileExtensionsInterface\n{\n    public function __invoke(RegistrationInterface $registration, ?\\SimpleXMLElement $config = null): void\n    {\n        // ... \u901a\u5e38\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u30d7\u30ed\u30bb\u30b9\u3001\u30b9\u30bf\u30d6\u767b\u9332\u3001\u30d5\u30c3\u30af\u767b\u9332\n    }\n\n    public function processFileExtensions(FileExtensionsInterface $fileExtensions, ?SimpleXMLElement $config = null): void\n    {\n        $fileExtensions-&gt;addFileTypeScanner('phpt', TemplateScanner::class);\n        $fileExtensions-&gt;addFileTypeAnalyzer('phpt', TemplateAnalyzer::class);\n    }\n}\n</code></pre>"},{"location":"running_psalm/command_line_usage/","title":"Psalm\u306e\u5b9f\u884c","text":"<p>\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u8a2d\u5b9a\u3057\u305f\u3089\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30eb\u30fc\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304b\u3089\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067Psalm\u3092\u5b9f\u884c\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>./vendor/bin/psalm\n</code></pre> <p>Psalm\u306f<code>&lt;projectFiles&gt;</code>\u3067\u53c2\u7167\u3055\u308c\u3066\u3044\u308b\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u5185\u306e\u3059\u3079\u3066\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u30b9\u30ad\u30e3\u30f3\u3057\u307e\u3059\u3002</p> <p>\u7279\u5b9a\u306e\u30d5\u30a1\u30a4\u30eb\u3067\u5b9f\u884c\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u4f7f\u7528\u3057\u307e\u3059\uff1a</p> <pre><code>./vendor/bin/psalm file1.php [file2.php...]\n</code></pre>"},{"location":"running_psalm/command_line_usage/#_1","title":"\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30aa\u30d7\u30b7\u30e7\u30f3","text":"<p><code>--help</code>\u3092\u4ed8\u3051\u3066\u5b9f\u884c\u3059\u308b\u3068\u3001Psalm\u304c\u30b5\u30dd\u30fc\u30c8\u3059\u308b\u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u30ea\u30b9\u30c8\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"running_psalm/command_line_usage/#_2","title":"\u7d42\u4e86\u30b9\u30c6\u30fc\u30bf\u30b9","text":"<p>Psalm\u306f\u3001\u6b63\u5e38\u306b\u5b8c\u4e86\u3057\u554f\u984c\u304c\u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u5834\u5408\u306f<code>0</code>\u3067\u7d42\u4e86\u3057\u307e\u3059\u3002Psalm\u306e\u5b9f\u884c\u306b\u554f\u984c\u304c\u3042\u3063\u305f\u5834\u5408\u306f<code>1</code>\u3001\u6b63\u5e38\u306b\u5b8c\u4e86\u3057\u305f\u304c\u554f\u984c\u304c\u898b\u3064\u304b\u3063\u305f\u5834\u5408\u306f<code>2</code>\u3067\u7d42\u4e86\u3057\u307e\u3059\u3002\u3053\u308c\u3089\u4ee5\u5916\u306e\u7d42\u4e86\u30b9\u30c6\u30fc\u30bf\u30b9\u306f\u3001\u4f55\u3089\u304b\u306e\u5185\u90e8\u554f\u984c\u3092\u793a\u3057\u307e\u3059\u3002</p>"},{"location":"running_psalm/command_line_usage/#shepherd","title":"Shepherd","text":"<p>Psalm\u306f\u73fe\u5728\u3001\u30d1\u30d6\u30ea\u30c3\u30af\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u5bfe\u3057\u3066GitHub\u7d71\u5408\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002 <code>--shepherd</code>\u3092\u8ffd\u52a0\u3057\u3066\u3001\u30d3\u30eb\u30c9\u306b\u95a2\u3059\u308b\u60c5\u5831\u3092https://shepherd.dev\u306b\u9001\u4fe1\u3057\u307e\u3059\u3002 \u73fe\u5728\u3001Shepherd\u306f<code>master</code>\u30d6\u30e9\u30f3\u30c1\u306e\u578b\u30ab\u30d0\u30ec\u30c3\u30b8\uff08Psalm\u304c\u63a8\u8ad6\u3067\u304d\u308b\u578b\u306e\u5272\u5408\uff09\u3092\u8ffd\u8de1\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"running_psalm/command_line_usage/#psalm_1","title":"Psalm\u3092\u3088\u308a\u901f\u304f\u5b9f\u884c\u3059\u308b","text":"<p>Psalm\u306b\u306f\u3001\u30d3\u30eb\u30c9\u3092\u9ad8\u901f\u5316\u3059\u308b\u3044\u304f\u3064\u304b\u306e\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u3042\u308a\u307e\u3059\uff1a</p> <ul> <li><code>--threads=[n]</code> Psalm\u306e\u5206\u6790\u3092\u8907\u6570\u306e\u30b9\u30ec\u30c3\u30c9\u3067\u5b9f\u884c\u3057\u307e\u3059</li> <li><code>--diff</code> \u524d\u56de\u306e\u5b9f\u884c\u4ee5\u964d\u306b\u66f4\u65b0\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\uff08\u3068\u305d\u306e\u4f9d\u5b58\u30d5\u30a1\u30a4\u30eb\uff09\u306e\u307f\u3092\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002</li> </ul> <p>Psalm 4\u3067\u306f\u3001<code>--diff</code>\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u6709\u52b9\u306b\u306a\u3063\u3066\u3044\u307e\u3059\uff08<code>--no-diff</code>\u3067\u7121\u52b9\u306b\u3067\u304d\u307e\u3059\uff09\u3002 \u524d\u56de\u306e\u5b9f\u884c\u304b\u3089\u306e\u30c7\u30fc\u30bf\u306f\u30ad\u30e3\u30c3\u30b7\u30e5\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002\u30ad\u30e3\u30c3\u30b7\u30e5\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306f\u8a2d\u5b9a\u3067\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002 \u30d3\u30eb\u30c9\u30b5\u30fc\u30d0\u30fc\u3067Psalm\u3092\u5b9f\u884c\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u5b9f\u884c\u9593\u3067\u30ad\u30e3\u30c3\u30b7\u30e5\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u4fdd\u6301\u3055\u308c\u308b\u3088\u3046\u306b\u30b5\u30fc\u30d0\u30fc\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3092\u304a\u52e7\u3081\u3057\u307e\u3059\u3002</p> <p>\u3053\u308c\u3089\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u5b9f\u884c\u3059\u308b\uff08\u4f8b\uff1a<code>--threads=8 --diff</code>\uff09\u3068\u3001\u6700\u901f\u306ePsalm\u5b9f\u884c\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"running_psalm/configuration/","title":"\u8a2d\u5b9a","text":"<p>Psalm\u306fXML\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f<code>psalm.xml</code>\uff09\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\u6700\u5c0f\u9650\u306e\u4f8b\u306f\u6b21\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\uff1a</p> <pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;psalm&gt;\n    &lt;projectFiles&gt;\n        &lt;directory name=\"src\" /&gt;\n    &lt;/projectFiles&gt;\n&lt;/psalm&gt;\n</code></pre> <p>\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306f\u3001XInclude\u30bf\u30b0\u3092\u4f7f\u7528\u3057\u3066\u8907\u6570\u306e\u30d5\u30a1\u30a4\u30eb\u306b\u5206\u5272\u3067\u304d\u307e\u3059\uff08\u524d\u306e\u4f8b\u3092\u53c2\u7167\uff09\uff1a</p>"},{"location":"running_psalm/configuration/#psalmxml","title":"psalm.xml","text":"<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;psalm\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xmlns=\"https://getpsalm.org/schema/config\"\n        xsi:schemaLocation=\"https://getpsalm.org/schema/config vendor/vimeo/psalm/config.xsd\"\n        xmlns:xi=\"http://www.w3.org/2001/XInclude\"&gt;\n    &lt;xi:include href=\"files.xml\"/&gt;\n&lt;/psalm&gt;\n</code></pre>"},{"location":"running_psalm/configuration/#filesxml","title":"files.xml","text":"<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;projectFiles xmlns=\"https://getpsalm.org/schema/config\"&gt;\n    &lt;file name=\"Bar.php\" /&gt;\n    &lt;file name=\"Bat.php\" /&gt;\n&lt;/projectFiles&gt;\n</code></pre>"},{"location":"running_psalm/configuration/#psalm","title":"\u30aa\u30d7\u30b7\u30e7\u30f3\u306e &lt;psalm /&gt; \u5c5e\u6027","text":""},{"location":"running_psalm/configuration/#_2","title":"\u30b3\u30fc\u30c7\u30a3\u30f3\u30b0\u30b9\u30bf\u30a4\u30eb","text":""},{"location":"running_psalm/configuration/#errorlevel","title":"errorLevel","text":"<p><pre><code>&lt;psalm\n  errorLevel=\"[int]\"/&gt;\n</code></pre> \u3053\u308c\u306fPsalm\u306e\u30a8\u30e9\u30fc\u691c\u51fa\u30ec\u30d9\u30eb\u306b\u5bfe\u5fdc\u3057\u307e\u3059\u3002</p>"},{"location":"running_psalm/configuration/#reportmixedissues","title":"reportMixedIssues","text":"<p><pre><code>&lt;psalm\n  reportMixedIssues=\"[bool]\"/&gt;\n</code></pre> \u3053\u308c\u3092<code>\"false\"</code>\u306b\u8a2d\u5b9a\u3059\u308b\u3068\u3001Psalm\u306e\u51fa\u529b\u3067<code>Mixed</code>\u578b\u306e\u554f\u984c\u304c\u3059\u3079\u3066\u975e\u8868\u793a\u306b\u306a\u308a\u307e\u3059\u3002\u6307\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u3001<code>errorLevel</code>\u304c3\u4ee5\u4e0a\u306e\u5834\u5408\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067<code>\"false\"</code>\u3001\u30a8\u30e9\u30fc\u30ec\u30d9\u30eb\u304c1\u307e\u305f\u306f2\u306e\u5834\u5408\u306f<code>\"true\"</code>\u306b\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"running_psalm/configuration/#totallytyped","title":"totallyTyped","text":"<p>\uff08\u975e\u63a8\u5968\uff09\u3053\u306e\u8a2d\u5b9a\u306f<code>reportMixedIssues</code>\u306b\u7f6e\u304d\u63db\u3048\u3089\u308c\u307e\u3057\u305f\u3002<code>errorLevel</code>\u304c1\u306e\u5834\u5408\u306b\u81ea\u52d5\u7684\u306b\u6709\u52b9\u306b\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"running_psalm/configuration/#resolvefromconfigfile","title":"resolveFromConfigFile","text":"<p><pre><code>&lt;psalm\n  resolveFromConfigFile=\"[bool]\"/&gt;\n</code></pre> \u3053\u308c\u304c\u6709\u52b9\u306a\u5834\u5408\u3001\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3067\u8a00\u53ca\u3055\u308c\u305f\u76f8\u5bfe\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306f\u3001\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u4f4d\u7f6e\u3092\u57fa\u6e96\u306b\u89e3\u6c7a\u3055\u308c\u307e\u3059\u3002\u7121\u52b9\u307e\u305f\u306f\u5b58\u5728\u3057\u306a\u3044\u5834\u5408\u3001Psalm\u30d7\u30ed\u30bb\u30b9\u306e\u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u57fa\u6e96\u306b\u89e3\u6c7a\u3055\u308c\u307e\u3059\u3002 \u65b0\u3057\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u306ePsalm\u306f\u3001\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u751f\u6210\u3059\u308b\u969b\u306b\u3053\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002\u53e4\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u306f\u3053\u308c\u3092\u542b\u3081\u307e\u305b\u3093\u3067\u3057\u305f\u3002</p>"},{"location":"running_psalm/configuration/#usedocblocktypes","title":"useDocblockTypes","text":"<p><pre><code>&lt;psalm\n  useDocblockTypes=\"[bool]\"&gt;\n</code></pre> docblock\u3067\u5b9a\u7fa9\u3055\u308c\u305f\u578b\u3092\u4f7f\u7528\u3059\u308b\u304b\u3069\u3046\u304b\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306f<code>true</code>\u3067\u3059\u3002</p>"},{"location":"running_psalm/configuration/#usedocblockpropertytypes","title":"useDocblockPropertyTypes","text":"<p><pre><code>&lt;psalm\n  useDocblockPropertyTypes=\"[bool]\"&gt;\n</code></pre> \u3059\u3079\u3066\u306edocblock\u578b\u3092\u4f7f\u7528\u3057\u306a\u3044\u5834\u5408\u3067\u3082\u3001docblock\u30d7\u30ed\u30d1\u30c6\u30a3\u578b\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306f<code>false</code>\u3067\u3059\uff08<code>useDocblockTypes</code>\u304c<code>false</code>\u306e\u5834\u5408\u306e\u307f\u95a2\u9023\uff09\u3002</p>"},{"location":"running_psalm/configuration/#docblockpropertytypessealproperties","title":"docblockPropertyTypesSealProperties","text":"<p><pre><code>&lt;psalm\n  docblockPropertyTypesSealProperties=\"[bool]\"&gt;\n</code></pre> \u30af\u30e9\u30b9\u306edocblock\u3067@property\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u304c@psalm-seal-properties\u3092\u6697\u793a\u3059\u308b\u304b\u3069\u3046\u304b\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306f<code>true</code>\u3067\u3059\u3002</p>"},{"location":"running_psalm/configuration/#usephpdocmethodswithoutmagiccall","title":"usePhpDocMethodsWithoutMagicCall","text":"<p><pre><code>&lt;psalm\n  usePhpDocMethodsWithoutMagicCall=\"[bool]\"&gt;\n</code></pre> \u901a\u5e38\u3001PHPDoc\u306e<code>@method</code>\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306f<code>__call</code>\u30e1\u30bd\u30c3\u30c9\u3092\u6301\u3064\u30af\u30e9\u30b9\u306b\u306e\u307f\u9069\u7528\u3055\u308c\u307e\u3059\u3002\u3053\u308c\u3092<code>true</code>\u306b\u8a2d\u5b9a\u3059\u308b\u3068\u3001\u7d99\u627f\u3055\u308c\u305f\u30e1\u30bd\u30c3\u30c9\u306e\u623b\u308a\u5024\u306e\u578b\u3092\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3059\u308b\u305f\u3081\u306b<code>@method</code>\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306f<code>false</code>\u3067\u3059\u3002</p>"},{"location":"running_psalm/configuration/#usephpdocpropertieswithoutmagiccall","title":"usePhpDocPropertiesWithoutMagicCall","text":"<p><pre><code>&lt;psalm\n  usePhpDocPropertiesWithoutMagicCall=\"[bool]\"&gt;\n</code></pre> \u901a\u5e38\u3001PHPDoc\u306e<code>@property</code>\u3001<code>@property-read</code>\u3001<code>@property-write</code>\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306f<code>__get</code>/<code>__set</code>\u30e1\u30bd\u30c3\u30c9\u3092\u6301\u3064\u30af\u30e9\u30b9\u306b\u306e\u307f\u9069\u7528\u3055\u308c\u307e\u3059\u3002\u3053\u308c\u3092<code>true</code>\u306b\u8a2d\u5b9a\u3059\u308b\u3068\u3001\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u5b58\u5728\u30c1\u30a7\u30c3\u30af\u3068\u7d50\u679c\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u578b\u3092\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3059\u308b\u305f\u3081\u306b<code>@property</code>\u3001<code>@property-read</code>\u3001<code>@property-write</code>\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306f<code>false</code>\u3067\u3059\u3002</p>"},{"location":"running_psalm/configuration/#disablevarparsing","title":"disableVarParsing","text":"<p><pre><code>&lt;psalm\n  disableVarParsing=\"[bool]\"/&gt;\n</code></pre> \u30d7\u30ed\u30d1\u30c6\u30a3\u4ee5\u5916\u306e\u3059\u3079\u3066\u306e\u5834\u6240\u3067<code>@var</code> PHPDoc\u306e\u89e3\u6790\u3092\u7121\u52b9\u306b\u3057\u307e\u3059\u3002\u3053\u308c\u3092<code>true</code>\u306b\u8a2d\u5b9a\u3059\u308b\u3068\u3001Psalm generics\u3068\u9069\u5207\u306a\u578b\u4ed8\u3051\u306e\u7d71\u5408\u4ee5\u524d\u306b\u4f7f\u7528\u3055\u308c\u305f\u53e4\u3044<code>@var</code>\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306b\u3088\u308b\u591a\u304f\u306e\u8aa4\u691c\u51fa\u3092\u9664\u53bb\u3057\u3001\u5358\u4e00\u306e\u771f\u5b9f\u306e\u6e90\u306e\u539f\u5247\u3092\u5f37\u5236\u3067\u304d\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306f<code>false</code>\u3067\u3059\u3002</p>"},{"location":"running_psalm/configuration/#strictbinaryoperands","title":"strictBinaryOperands","text":"<p><pre><code>&lt;psalm\n  strictBinaryOperands=\"[bool]\"&gt;\n</code></pre> true\u306e\u5834\u5408\u3001\u6570\u5024\u304a\u3088\u3073\u6587\u5b57\u5217\u6f14\u7b97\u306b\u53b3\u5bc6\u306a\u578b\u4ed8\u3051\u3092\u5f37\u5236\u3057\u307e\u3059\uff08https://github.com/vimeo/psalm/issues/24 \u3092\u53c2\u7167\uff09\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306f<code>false</code>\u3067\u3059\u3002</p>"},{"location":"running_psalm/configuration/#rememberpropertyassignmentsaftercall","title":"rememberPropertyAssignmentsAfterCall","text":"<p><pre><code>&lt;psalm\n  rememberPropertyAssignmentsAfterCall=\"[bool]\"&gt;\n</code></pre> \u3053\u308c\u3092<code>false</code>\u306b\u8a2d\u5b9a\u3059\u308b\u3068\u3001\u95a2\u6570\u547c\u3073\u51fa\u3057\u306b\u3088\u3063\u3066\u3001Psalm\u304c\u73fe\u5728\u5206\u6790\u3057\u3066\u3044\u308b\u95a2\u6570\u306e\u30b9\u30b3\u30fc\u30d7\u5185\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u3064\u3044\u3066\u77e5\u3063\u3066\u3044\u305f\u3053\u3068\u3092\u5fd8\u308c\u3055\u305b\u307e\u3059\u3002\u3053\u308c\u306fHack\u306e\u6a5f\u80fd\u3092\u8907\u88fd\u3057\u3066\u3044\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306f<code>true</code>\u3067\u3059\u3002</p>"},{"location":"running_psalm/configuration/#allowstringtostandinforclass","title":"allowStringToStandInForClass","text":"<p><pre><code>&lt;psalm\n  allowStringToStandInForClass=\"[bool]\"&gt;\n</code></pre> <code>true</code>\u306e\u5834\u5408\u3001\u6587\u5b57\u5217\u3092\u30af\u30e9\u30b9\u3068\u3057\u3066\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002\u3064\u307e\u308a\u3001<code>$some_string::someMethod()</code>\u304c\u8a31\u53ef\u3055\u308c\u307e\u3059\u3002<code>false</code>\u306e\u5834\u5408\u3001\u30af\u30e9\u30b9\u5b9a\u6570\u6587\u5b57\u5217\uff08<code>Foo\\Bar::class</code>\u306e\u5f62\u5f0f\uff09\u306e\u307f\u304c\u30af\u30e9\u30b9\u306e\u4ee3\u308f\u308a\u306b\u4f7f\u7528\u3067\u304d\u3001\u305d\u3046\u3067\u306a\u3044\u5834\u5408\u306f<code>InvalidStringClass</code>\u554f\u984c\u304c\u767a\u751f\u3057\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306f<code>false</code>\u3067\u3059\u3002</p>"},{"location":"running_psalm/configuration/#disablesuppressall","title":"disableSuppressAll","text":"<p><pre><code>&lt;psalm\n  disableSuppressAll=\"[bool]\"&gt;\n</code></pre> <code>true</code>\u306e\u5834\u5408\u3001<code>@psalm-suppress all</code>\u306b\u3088\u308b\u3059\u3079\u3066\u306e\u554f\u984c\u306e\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9\u6291\u5236\u3092\u7121\u52b9\u306b\u3057\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306f<code>false</code>\u3067\u3059\u3002</p>"},{"location":"running_psalm/configuration/#memoizemethodcallresults","title":"memoizeMethodCallResults","text":"<p><pre><code>&lt;psalm\n  memoizeMethodCallResults=\"[bool]\"&gt;\n</code></pre> <code>true</code>\u306e\u5834\u5408\u3001\u5f15\u6570\u306a\u3057\u306e\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u306e\u7d50\u679c\u306f\u3001\u7279\u5b9a\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u305d\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u7e70\u308a\u8fd4\u3057\u547c\u3073\u51fa\u3059\u9593\u3067\u8a18\u61b6\u3055\u308c\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306f<code>false</code>\u3067\u3059\u3002</p>"},{"location":"running_psalm/configuration/#hoistconstants","title":"hoistConstants","text":"<p><pre><code>&lt;psalm\n  hoistConstants=\"[bool]\"&gt;\n</code></pre> <code>true</code>\u306e\u5834\u5408\u3001\u30d5\u30a1\u30a4\u30eb\u5185\u306e\u95a2\u6570\u3067\u5b9a\u7fa9\u3055\u308c\u305f\u5b9a\u6570\u306f\u3001\u305d\u306e\u95a2\u6570\u3092\u547c\u3073\u51fa\u3059\u3068\u304d\u3060\u3051\u3067\u306a\u304f\u3001\u305d\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u8981\u6c42\u3059\u308b\u3068\u304d\u306b\u5229\u7528\u53ef\u80fd\u3067\u3042\u308b\u3068\u60f3\u5b9a\u3055\u308c\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306f<code>false</code>\u3067\u3059\uff08\u3064\u307e\u308a\u3001\u95a2\u6570\u3067\u5b9a\u7fa9\u3055\u308c\u305f\u5b9a\u6570\u306f\u3001\u305d\u306e\u95a2\u6570\u304c\u547c\u3073\u51fa\u3055\u308c\u305f\u3068\u304d\u306b\u306e\u307f\u4f7f\u7528\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\uff09\u3002</p>"},{"location":"running_psalm/configuration/#addparamdefaulttodocblocktype","title":"addParamDefaultToDocblockType","text":"<p><pre><code>&lt;psalm\n  addParamDefaultToDocblockType=\"[bool]\"&gt;\n</code></pre> \u6642\u3005\u3001\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u304cdocblock\u306e\u578b\u3068\u4e00\u81f4\u3057\u306a\u3044\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001Psalm\u306f\u554f\u984c\u3092\u767a\u751f\u3055\u305b\u307e\u3059\u3002\u3053\u306e\u30d5\u30e9\u30b0\u3092<code>true</code>\u306b\u8a2d\u5b9a\u3059\u308b\u3068\u3001\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u578b\u306b\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u3092\u542b\u3081\u308b\u3088\u3046\u306b\u62e1\u5f35\u3057\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306f<code>false</code>\u3067\u3059\u3002</p>"},{"location":"running_psalm/configuration/#checkforthrowsdocblock","title":"checkForThrowsDocblock","text":"<p><pre><code>&lt;psalm\n  checkForThrowsDocblock=\"[bool]\"&gt;\n</code></pre> <code>true</code>\u306e\u5834\u5408\u3001Psalm\u306f\u958b\u767a\u8005\u304c\u7279\u5b9a\u306e\u95a2\u6570\u307e\u305f\u306f\u30e1\u30bd\u30c3\u30c9\u3067\u30b9\u30ed\u30fc\u3055\u308c\u308b\u3059\u3079\u3066\u306e\u4f8b\u5916\u306b\u5bfe\u3057\u3066<code>@throws</code>docblock\u3092\u63d0\u4f9b\u3057\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u3092\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306f<code>false</code>\u3067\u3059\u3002</p>"},{"location":"running_psalm/configuration/#checkforthrowsinglobalscope","title":"checkForThrowsInGlobalScope","text":"<p><pre><code>&lt;psalm\n  checkForThrowsInGlobalScope=\"[bool]\"&gt;\n</code></pre> <code>true</code>\u306e\u5834\u5408\u3001Psalm\u306f\u958b\u767a\u8005\u304c\u30b0\u30ed\u30fc\u30d0\u30eb\u30b9\u30b3\u30fc\u30d7\u3067\u3059\u3079\u3066\u306e\u4f8b\u5916\u3092\u30ad\u30e3\u30c3\u30c1\u3057\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u3092\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306f<code>false</code>\u3067\u3059\u3002</p>"},{"location":"running_psalm/configuration/#ignoreinternalfunctionfalsereturn","title":"#### ignoreInternalFunctionFalseReturn","text":"<p><pre><code>&lt;psalm\n  ignoreInternalFunctionFalseReturn=\"[bool]\"&gt;\n</code></pre> <code>true</code>\u306e\u5834\u5408\u3001Psalm\u306f\u5185\u90e8\u95a2\u6570\uff08<code>preg_split</code>\u306a\u3069\uff09\u306e\u623b\u308a\u5024\u304b\u3089\u751f\u3058\u308b\u53ef\u80fd\u6027\u306e\u3042\u308bfalse\u306e\u554f\u984c\u3092\u7121\u8996\u3057\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u95a2\u6570\u306f\u7a00\u306bfalse\u3092\u8fd4\u3059\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u901a\u5e38\u306f\u7121\u8996\u3057\u3066\u3082\u554f\u984c\u3042\u308a\u307e\u305b\u3093\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306f<code>false</code>\u3067\u3059\u3002</p>"},{"location":"running_psalm/configuration/#ignoreinternalfunctionnullreturn","title":"ignoreInternalFunctionNullReturn","text":"<p><pre><code>&lt;psalm\n  ignoreInternalFunctionNullReturn=\"[bool]\"&gt;\n</code></pre> <code>true</code>\u306e\u5834\u5408\u3001Psalm\u306f\u5185\u90e8\u914d\u5217\u95a2\u6570\uff08<code>current</code>\u306a\u3069\uff09\u306e\u623b\u308a\u5024\u304b\u3089\u751f\u3058\u308b\u53ef\u80fd\u6027\u306e\u3042\u308bnull\u306e\u554f\u984c\u3092\u7121\u8996\u3057\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u95a2\u6570\u306f\u7a00\u306bnull\u3092\u8fd4\u3059\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u901a\u5e38\u306f\u7121\u8996\u3057\u3066\u3082\u554f\u984c\u3042\u308a\u307e\u305b\u3093\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306f<code>false</code>\u3067\u3059\u3002</p>"},{"location":"running_psalm/configuration/#inferpropertytypesfromconstructor","title":"inferPropertyTypesFromConstructor","text":"<p><pre><code>&lt;psalm\n  inferPropertyTypesFromConstructor=\"[bool]\"&gt;\n</code></pre> <code>true</code>\u306e\u5834\u5408\u3001Psalm\u306f\u5358\u7d14\u306a\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3067\u898b\u3089\u308c\u308b\u4ee3\u5165\u304b\u3089\u30d7\u30ed\u30d1\u30c6\u30a3\u578b\u3092\u63a8\u8ad6\u3057\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306f<code>true</code>\u3067\u3059\u3002</p>"},{"location":"running_psalm/configuration/#findunusedvariablesandparams","title":"findUnusedVariablesAndParams","text":"<p><pre><code>&lt;psalm\n  findUnusedVariablesAndParams=\"[bool]\"&gt;\n</code></pre> <code>true</code>\u306e\u5834\u5408\u3001Psalm\u306f\u3059\u3079\u3066\u306e\u672a\u4f7f\u7528\u306e\u5909\u6570\u3092\u898b\u3064\u3051\u3088\u3046\u3068\u3057\u307e\u3059\u3002\u3053\u308c\u306f<code>--find-unused-variables</code>\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u3066\u5b9f\u884c\u3059\u308b\u306e\u3068\u540c\u7b49\u3067\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306f<code>false</code>\u3067\u3059\u3002</p>"},{"location":"running_psalm/configuration/#findunusedcode","title":"findUnusedCode","text":"<p><pre><code>&lt;psalm\n  findUnusedCode=\"[bool]\"&gt;\n</code></pre> <code>true</code>\u306e\u5834\u5408\u3001Psalm\u306f\u3059\u3079\u3066\u306e\u672a\u4f7f\u7528\u306e\u30b3\u30fc\u30c9\uff08\u672a\u4f7f\u7528\u306e\u5909\u6570\u3092\u542b\u3080\uff09\u3092\u898b\u3064\u3051\u3088\u3046\u3068\u3057\u307e\u3059\u3002\u3053\u308c\u306f<code>--find-unused-code</code>\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u3066\u5b9f\u884c\u3059\u308b\u306e\u3068\u540c\u7b49\u3067\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306f<code>false</code>\u3067\u3059\u3002</p>"},{"location":"running_psalm/configuration/#findunusedpsalmsuppress","title":"findUnusedPsalmSuppress","text":"<p><pre><code>&lt;psalm\n  findUnusedPsalmSuppress=\"[bool]\"&gt;\n</code></pre> <code>true</code>\u306e\u5834\u5408\u3001Psalm\u306f\u4f7f\u7528\u3055\u308c\u3066\u3044\u306a\u3044\u3059\u3079\u3066\u306e<code>@psalm-suppress</code>\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u5831\u544a\u3057\u307e\u3059\u3002\u3053\u308c\u306f<code>--find-unused-psalm-suppress</code>\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u3066\u5b9f\u884c\u3059\u308b\u306e\u3068\u540c\u7b49\u3067\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306f<code>false</code>\u3067\u3059\u3002</p>"},{"location":"running_psalm/configuration/#ensurearraystringoffsetsexist","title":"ensureArrayStringOffsetsExist","text":"<p><pre><code>&lt;psalm\n  ensureArrayStringOffsetsExist=\"[bool]\"&gt;\n</code></pre> <code>true</code>\u306e\u5834\u5408\u3001Psalm\u306f\u914d\u5217\u306e\u660e\u793a\u7684\u306a\u6587\u5b57\u5217\u30aa\u30d5\u30bb\u30c3\u30c8\uff08\u4f8b\uff1a<code>$arr['foo']</code>\uff09\u3092\u53c2\u7167\u3059\u308b\u969b\u306b\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u6700\u521d\u306b\u305d\u306e\u5b58\u5728\u3092\u78ba\u8a8d\uff08<code>isset</code>\u30c1\u30a7\u30c3\u30af\u307e\u305f\u306f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u3088\u3046\u306a\u914d\u5217\u3092\u4ecb\u3057\u3066\uff09\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306b\u8b66\u544a\u3057\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306f<code>false</code>\u3067\u3059\u3002</p>"},{"location":"running_psalm/configuration/#ensurearrayintoffsetsexist","title":"ensureArrayIntOffsetsExist","text":"<p><pre><code>&lt;psalm\n  ensureArrayIntOffsetsExist=\"[bool]\"&gt;\n</code></pre> <code>true</code>\u306e\u5834\u5408\u3001Psalm\u306f\u914d\u5217\u306e\u660e\u793a\u7684\u306a\u6574\u6570\u30aa\u30d5\u30bb\u30c3\u30c8\uff08\u4f8b\uff1a<code>$arr[7]</code>\uff09\u3092\u53c2\u7167\u3059\u308b\u969b\u306b\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u6700\u521d\u306b\u305d\u306e\u5b58\u5728\u3092\u78ba\u8a8d\uff08<code>isset</code>\u30c1\u30a7\u30c3\u30af\u307e\u305f\u306f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u3088\u3046\u306a\u914d\u5217\u3092\u4ecb\u3057\u3066\uff09\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306b\u8b66\u544a\u3057\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306f<code>false</code>\u3067\u3059\u3002</p>"},{"location":"running_psalm/configuration/#ensureoverrideattribute","title":"ensureOverrideAttribute","text":"<p><pre><code>&lt;psalm\n  ensureOverrideAttribute=\"[bool]\"&gt;\n</code></pre> <code>true</code>\u306e\u5834\u5408\u3001Psalm\u306f\u89aa\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3059\u308b\u30af\u30e9\u30b9\u304a\u3088\u3073\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u30e1\u30bd\u30c3\u30c9\u3067\u3001<code>Override</code>\u5c5e\u6027\u304c\u306a\u3044\u5834\u5408\u306b\u5831\u544a\u3057\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306f<code>false</code>\u3067\u3059\u3002</p>"},{"location":"running_psalm/configuration/#phpversion","title":"phpVersion","text":"<p><pre><code>&lt;psalm\n  phpVersion=\"[string]\"&gt;\n</code></pre> \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30c1\u30a7\u30c3\u30af\u3084\u30d5\u30a3\u30c3\u30af\u30b9\u6642\u306bPsalm\u304c\u60f3\u5b9a\u3059\u3079\u304dPHP\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\u3053\u306e\u5c5e\u6027\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u3001Psalm\u306f<code>composer.json</code>\u3067\u306e\u5ba3\u8a00\u304c\u3042\u308c\u3070\u305d\u308c\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002\u5ba3\u8a00\u3055\u308c\u305f<code>php</code>\u4f9d\u5b58\u95a2\u4fc2\u3092\u6e80\u305f\u3059\u6700\u3082\u53e4\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u306ePHP\u306b\u5bfe\u3057\u3066\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002</p> <p>\u3053\u308c\u306f\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3067<code>--php-version=</code>\u30d5\u30e9\u30b0\u3092\u4f7f\u7528\u3057\u3066\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3067\u304d\u307e\u3059\u3002\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30d5\u30e9\u30b0\u306f<code>phpVersion</code>\u8a2d\u5b9a\u3068<code>composer.json</code>\u304b\u3089\u6d3e\u751f\u3057\u305f\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u4e21\u65b9\u306b\u5bfe\u3057\u3066\u6700\u3082\u9ad8\u3044\u512a\u5148\u9806\u4f4d\u3092\u6301\u3061\u307e\u3059\u3002</p>"},{"location":"running_psalm/configuration/#skipchecksonunresolvableincludes","title":"skipChecksOnUnresolvableIncludes","text":"<p><pre><code>&lt;psalm\n  skipChecksOnUnresolvableIncludes=\"[bool]\"&gt;\n</code></pre> <code>true</code>\u306e\u5834\u5408\u3001Psalm\u306f\u89e3\u6c7a\u3067\u304d\u306a\u3044<code>include</code>\u307e\u305f\u306f<code>require</code>\u306b\u906d\u9047\u3057\u305f\u5f8c\u3001\u30af\u30e9\u30b9\u3001\u5909\u6570\u3001\u95a2\u6570\u306e\u30c1\u30a7\u30c3\u30af\u3092\u30b9\u30ad\u30c3\u30d7\u3057\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001Psalm\u304c\u77e5\u3089\u306a\u3044\u95a2\u6570\u3084\u30af\u30e9\u30b9\u3092\u53c2\u7167\u3059\u308b\u30b3\u30fc\u30c9\u304c\u8a31\u53ef\u3055\u308c\u307e\u3059\u3002</p> <p>\u30c7\u30d5\u30a9\u30eb\u30c8\u306f<code>false</code>\u3067\u3059\u3002</p>"},{"location":"running_psalm/configuration/#sealallmethods","title":"sealAllMethods","text":"<p><pre><code>&lt;psalm\n  sealAllMethods=\"[bool]\"&gt;\n</code></pre> <code>true</code>\u306e\u5834\u5408\u3001Psalm\u306f\u3059\u3079\u3066\u306e\u30af\u30e9\u30b9\u304c\u30b7\u30fc\u30eb\u30c9\u3055\u308c\u305f\u30e1\u30bd\u30c3\u30c9\u3092\u6301\u3063\u3066\u3044\u308b\u304b\u306e\u3088\u3046\u306b\u6271\u3044\u307e\u3059\u3002\u3064\u307e\u308a\u3001\u30de\u30b8\u30c3\u30af\u30e1\u30bd\u30c3\u30c9<code>__call</code>\u3092\u5b9f\u88c5\u3059\u308b\u5834\u5408\u3001\u5404\u30de\u30b8\u30c3\u30af\u30e1\u30bd\u30c3\u30c9\u306b\u5bfe\u3057\u3066<code>@method</code>\u3082\u8ffd\u52a0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306ffalse\u3067\u3059\u3002</p>"},{"location":"running_psalm/configuration/#sealallproperties","title":"sealAllProperties","text":"<p><pre><code>&lt;psalm\n  sealAllProperties=\"[bool]\"&gt;\n</code></pre> <code>true</code>\u306e\u5834\u5408\u3001Psalm\u306f\u3059\u3079\u3066\u306e\u30af\u30e9\u30b9\u304c\u30b7\u30fc\u30eb\u30c9\u3055\u308c\u305f\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u6301\u3063\u3066\u3044\u308b\u304b\u306e\u3088\u3046\u306b\u6271\u3044\u307e\u3059\u3002\u3064\u307e\u308a\u3001Psalm\u306f<code>@property</code>\uff08\u307e\u305f\u306f<code>@property-read</code>/<code>@property-write</code>\uff09\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306e\u30ea\u30b9\u30c8\u306b\u542b\u307e\u308c\u3066\u304a\u3089\u305a\u3001\u660e\u793a\u7684\u306b<code>property</code>\u3068\u3057\u3066\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u306a\u3044\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u53d6\u5f97\u3068\u8a2d\u5b9a\u3092\u8a31\u53ef\u3057\u307e\u305b\u3093\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306ffalse\u3067\u3059\u3002</p>"},{"location":"running_psalm/configuration/#runtaintanalysis","title":"runTaintAnalysis","text":"<p><pre><code>&lt;psalm\n  runTaintAnalysis=\"[bool]\"&gt;\n</code></pre> <code>true</code>\u306e\u5834\u5408\u3001Psalm\u306f\u30b3\u30fc\u30c9\u30d9\u30fc\u30b9\u3067\u6c5a\u67d3\u5206\u6790\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\u3053\u306e\u8a2d\u5b9a\u306f\u3001Psalm\u3092<code>--taint-analysis</code>\u30aa\u30d7\u30b7\u30e7\u30f3\u4ed8\u304d\u3067\u5b9f\u884c\u3059\u308b\u306e\u3068\u540c\u3058\u3067\u3059\u3002</p>"},{"location":"running_psalm/configuration/#reportinfo","title":"reportInfo","text":"<p><pre><code>&lt;psalm\n  reportInfo=\"[bool]\"&gt;\n</code></pre> <code>false</code>\u306e\u5834\u5408\u3001Psalm\u306f<code>errorLevel</code>\u3088\u308a\u3082\u4f4e\u3044\u30ec\u30d9\u30eb\u306e\u554f\u984c\u3092<code>info</code>\u3068\u3057\u3066\u6271\u3044\u307e\u305b\u3093\uff08\u4ee3\u308f\u308a\u306b\u6291\u5236\u3055\u308c\u307e\u3059\uff09\u3002\u3053\u308c\u306f\u5927\u898f\u6a21\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u5206\u6790\u6642\u9593\u3092\u5927\u5e45\u306b\u6539\u5584\u3067\u304d\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u3053\u306e\u8a2d\u5b9a\u306b\u3088\u308a\u3001Psalm\u306f\u6291\u5236\u3055\u308c\u305f\u554f\u984c\u306e\u6570\u3092\u6570\u3048\u305f\u308a\u3001\u4fee\u6b63\u3092\u63d0\u6848\u3057\u305f\u308a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u306a\u304f\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"running_psalm/configuration/#allownamedargumentcalls","title":"allowNamedArgumentCalls","text":"<p><pre><code>&lt;psalm\n  allowNamedArgumentCalls=\"[bool]\"&gt;\n</code></pre> <code>false</code>\u306e\u5834\u5408\u3001Psalm\u306f\u30b3\u30fc\u30c9\u5185\u306e<code>ParamNameMismatch</code>\u554f\u984c\u3092\u5831\u544a\u3057\u306a\u304f\u306a\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30e1\u30bd\u30c3\u30c9\u3078\u306e\u5916\u90e8\u30a2\u30af\u30bb\u30b9\u3092\u9632\u3044\u3060\u308a\u3001\u53ef\u5909\u5f15\u6570\u3092\u4f7f\u7528\u3059\u308b\u969b\u306b\u578b\u3092<code>list</code>\u306b\u6e1b\u3089\u3057\u305f\u308a\u3059\u308b\u305f\u3081\u306e\u500b\u3005\u306e<code>@no-named-arguments</code>\u306e\u4f7f\u7528\u306b\u53d6\u3063\u3066\u4ee3\u308f\u308b\u3082\u306e\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002</p>"},{"location":"running_psalm/configuration/#triggererrorexits","title":"triggerErrorExits","text":"<p><pre><code>&lt;psalm\n  triggerErrorExits=\"[string]\"&gt;\n</code></pre> trigger_error\u306e\u52d5\u4f5c\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002<code>always</code>\u306f\u5e38\u306b\u7d42\u4e86\u3059\u308b\u3053\u3068\u3092\u610f\u5473\u3057\u3001<code>never</code>\u306f\u6c7a\u3057\u3066\u7d42\u4e86\u3057\u306a\u3044\u3053\u3068\u3092\u610f\u5473\u3057\u3001<code>default</code>\u306f<code>E_USER_ERROR</code>\u306e\u5834\u5408\u306b\u306e\u307f\u7d42\u4e86\u3059\u308b\u3053\u3068\u3092\u610f\u5473\u3057\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306f<code>default</code>\u3067\u3059\u3002</p>"},{"location":"running_psalm/configuration/#psalm_1","title":"Psalm\u306e\u5b9f\u884c","text":""},{"location":"running_psalm/configuration/#autoloader","title":"autoloader","text":"<p><pre><code>&lt;psalm\n  autoloader=\"[string]\"&gt;\n</code></pre> \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u304c1\u3064\u4ee5\u4e0a\u306e\u30ab\u30b9\u30bf\u30e0\u30aa\u30fc\u30c8\u30ed\u30fc\u30c0\u30fc\u3092\u767b\u9332\u3057\u3001\u304b\u3064/\u307e\u305f\u306f\u666e\u904d\u7684\u306a\u5b9a\u6570/\u95a2\u6570\u3092\u5ba3\u8a00\u3059\u308b\u5834\u5408\u3001\u3053\u306e\u30aa\u30fc\u30c8\u30ed\u30fc\u30c0\u30fc\u30b9\u30af\u30ea\u30d7\u30c8\u306f\u30b9\u30ad\u30e3\u30f3\u304c\u958b\u59cb\u3055\u308c\u308b\u524d\u306bPsalm\u306b\u3088\u3063\u3066\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002Psalm\u306f\u5e38\u306b\u30c7\u30d5\u30a9\u30eb\u30c8\u3067composer\u306e\u30aa\u30fc\u30c8\u30ed\u30fc\u30c0\u30fc\u3092\u767b\u9332\u3057\u307e\u3059\u3002</p>"},{"location":"running_psalm/configuration/#throwexceptiononerror","title":"throwExceptionOnError","text":"<p><pre><code>&lt;psalm\n  throwExceptionOnError=\"[bool]\"&gt;\n</code></pre> \u30c6\u30b9\u30c8\u3067\u4fbf\u5229\u3067\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001Psalm\u306f\u30a8\u30e9\u30fc\u306b\u906d\u9047\u3057\u305f\u3068\u304d\u306b\u901a\u5e38\u306e\u4f8b\u5916\u3092\u30b9\u30ed\u30fc\u3057\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306f<code>false</code>\u3067\u3059\u3002</p>"},{"location":"running_psalm/configuration/#hideexternalerrors","title":"hideExternalErrors","text":"<p><pre><code>&lt;psalm\n  hideExternalErrors=\"[bool]\"&gt;\n</code></pre> \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30d5\u30a1\u30a4\u30eb\u3067\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b\u304c\u3001<code>&lt;projectFiles&gt;</code>\u306b\u542b\u307e\u308c\u3066\u3044\u306a\u3044\u30d5\u30a1\u30a4\u30eb\u306e\u554f\u984c\u3092\u8868\u793a\u3059\u308b\u304b\u3069\u3046\u304b\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306f<code>false</code>\u3067\u3059\u3002</p>"},{"location":"running_psalm/configuration/#hideallerrorsexceptpassedfiles","title":"hideAllErrorsExceptPassedFiles","text":"<p><pre><code>&lt;psalm\n  hideAllErrorsExceptPassedFiles=\"[bool]\"&gt;\n</code></pre> CLI\u3067\u660e\u793a\u7684\u306b\u5f15\u6570\u3068\u3057\u3066\u6e21\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u306b\u5bfe\u3057\u3066\u306e\u307f\u554f\u984c\u3092\u5831\u544a\u3059\u308b\u304b\u3069\u3046\u304b\u3002\u3053\u308c\u306f\u3001CLI\u3067\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u3001require/include\u3067\u8aad\u307f\u8fbc\u307e\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u3082\u5831\u544a\u3057\u306a\u3044\u3053\u3068\u3092\u610f\u5473\u3057\u307e\u3059\u3002\u5358\u4e00\u307e\u305f\u306f\u9078\u629e\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u306e\u30a8\u30e9\u30fc\u306e\u307f\u3092\u30c1\u30a7\u30c3\u30af\u3057\u305f\u3044\u5834\u5408\u306b\u4fbf\u5229\u3067\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306f<code>false</code>\u3067\u3059\u3002</p>"},{"location":"running_psalm/configuration/#cachedirectory","title":"cacheDirectory","text":"<p><pre><code>&lt;psalm\n  cacheDirectory=\"[string]\"&gt;\n</code></pre> Psalm\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u30c7\u30fc\u30bf\u3092\u4fdd\u5b58\u3059\u308b\u30c7\u30a3\u30ec\u30af\u30c8\u30ea - \u6307\u5b9a\u3059\u308b\u5834\u5408\uff08\u307e\u3060\u5b58\u5728\u3057\u306a\u3044\u5834\u5408\uff09\u3001\u305d\u306e\u89aa\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u65e2\u306b\u5b58\u5728\u3057\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u3046\u3067\u306a\u3044\u5834\u5408\u3001Psalm\u306f\u30a8\u30e9\u30fc\u3092\u30b9\u30ed\u30fc\u3057\u307e\u3059\u3002</p> <p>\u30c7\u30d5\u30a9\u30eb\u30c8\u306f<code>$XDG_CACHE_HOME/psalm</code>\u3067\u3059\u3002<code>$XDG_CACHE_HOME</code>\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u304b\u7a7a\u306e\u5834\u5408\u3001<code>$HOME/.cache/psalm</code>\u304c\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002\u3053\u308c\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306f<code>sys_get_temp_dir() . '/psalm'</code>\u304c\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"running_psalm/configuration/#allowfileincludes","title":"allowFileIncludes","text":"<p><pre><code>&lt;psalm\n  allowFileIncludes=\"[bool]\"&gt;\n</code></pre> PHP\u3067<code>require</code>/<code>include</code>\u547c\u3073\u51fa\u3057\u3092\u8a31\u53ef\u3059\u308b\u304b\u3069\u3046\u304b\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306f<code>true</code>\u3067\u3059\u3002</p>"},{"location":"running_psalm/configuration/#serializer","title":"serializer","text":"<p><pre><code>&lt;psalm\n  serializer=\"['igbinary'|'default']\"&gt;\n</code></pre> Psalm\u304c\u30c7\u30fc\u30bf\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u306b\u4f7f\u7528\u3059\u308b\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u30fc\u3092\u30cf\u30fc\u30c9\u30b3\u30fc\u30c9\u3067\u304d\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001Psalm\u306f\u30d0\u30fc\u30b8\u30e7\u30f3\u304c2.0.5\u4ee5\u4e0a\u306e\u5834\u5408\u306f<code>ext-igbinary</code>\u3092\u4f7f\u7528\u3057\u3001\u305d\u3046\u3067\u306a\u3044\u5834\u5408\u306fPHP\u306e\u7d44\u307f\u8fbc\u307f\u30b7\u30ea\u30a2\u30e9\u30a4\u30b6\u30fc\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002</p>"},{"location":"running_psalm/configuration/#compressor","title":"compressor","text":"<p><pre><code>&lt;psalm\n  compressor=\"['lz4'|'deflate'|'off']\"&gt;\n</code></pre> Psalm\u306e\u30ad\u30e3\u30c3\u30b7\u30e5\u306b\u4f7f\u7528\u3059\u308b\u5727\u7e2e\u65b9\u6cd5\u3092\u30cf\u30fc\u30c9\u30b3\u30fc\u30c9\u3067\u304d\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001Psalm\u306f\u6709\u52b9\u306a\u5834\u5408\u306f<code>ext-zlib</code>\u306edeflate\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002</p>"},{"location":"running_psalm/configuration/#threads","title":"threads","text":"<p><pre><code>&lt;psalm\n        threads=\"[int]\"&gt;\n</code></pre> Psalm\u304c\u4f7f\u7528\u3059\u308b\u30b9\u30ec\u30c3\u30c9\u6570\u3092\u30cf\u30fc\u30c9\u30b3\u30fc\u30c9\u3067\u304d\u307e\u3059\uff08\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u306e<code>--threads</code>\u3068\u540c\u69d8\uff09\u3002\u3053\u306e\u5024\u306f\u30db\u30b9\u30c8\u30de\u30b7\u30f3\u304b\u3089\u306e\u30b9\u30ec\u30c3\u30c9\u691c\u51fa\u306e\u4ee3\u308f\u308a\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u304c\u3001\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3067<code>--threads</code>\u307e\u305f\u306f<code>--debug</code>\uff08\u30b9\u30ec\u30c3\u30c9\u30921\u306b\u8a2d\u5b9a\uff09\u3092\u4f7f\u7528\u3059\u308b\u3068\u4e0a\u66f8\u304d\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"running_psalm/configuration/#maxstringlength","title":"maxStringLength","text":"<p><pre><code>&lt;psalm\n  maxStringLength=\"1000\"&gt;\n</code></pre> \u3053\u306e\u8a2d\u5b9a\u306f\u3001Psalm\u5206\u6790\u4e2d\u306b\u30ea\u30c6\u30e9\u30eb\u6587\u5b57\u5217\u578b\u306b\u5909\u63db\u3055\u308c\u308b\u6587\u5b57\u5217\u30ea\u30c6\u30e9\u30eb\u306e\u6700\u5927\u9577\u3092\u5236\u5fa1\u3057\u307e\u3059\u3002\u3053\u306e\u5024\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f1000\u30d0\u30a4\u30c8\uff09\u3088\u308a\u9577\u3044\u6587\u5b57\u5217\u306f\u3001\u4ee3\u308f\u308a\u306b\u4e00\u822c\u7684\u306a<code>non-empty-string</code>\u578b\u306b\u5909\u63db\u3055\u308c\u307e\u3059\u3002\u3053\u306e\u8a2d\u5b9a\u3092\u5909\u66f4\u3059\u308b\u3068\u671b\u307e\u3057\u304f\u306a\u3044\u526f\u4f5c\u7528\u304c\u767a\u751f\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u3001\u305d\u308c\u3089\u306e\u526f\u4f5c\u7528\u306f\u30d0\u30b0\u3068\u306f\u898b\u306a\u3055\u308c\u306a\u3044\u3053\u3068\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"running_psalm/configuration/#maxshapedarraysize","title":"maxShapedArraySize","text":"<p><pre><code>&lt;psalm\n  maxShapedArraySize=\"100\"&gt;\n</code></pre> \u3053\u306e\u8a2d\u5b9a\u306f\u3001Psalm\u5206\u6790\u4e2d\u306b\u5f62\u72b6\u4ed8\u304d<code>array{key1: \"value\", key2: T}</code>\u578b\u306b\u5909\u63db\u3055\u308c\u308b\u5f62\u72b6\u4ed8\u304d\u914d\u5217\u306e\u6700\u5927\u30b5\u30a4\u30ba\u3092\u5236\u5fa1\u3057\u307e\u3059\u3002\u3053\u306e\u5024\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f100\uff09\u3088\u308a\u5927\u304d\u3044\u914d\u5217\u306f\u3001\u4ee3\u308f\u308a\u306b\u4e00\u822c\u7684\u306a<code>non-empty-array</code>\u578b\u306b\u5909\u63db\u3055\u308c\u307e\u3059\u3002\u3053\u306e\u8a2d\u5b9a\u3092\u5909\u66f4\u3059\u308b\u3068\u671b\u307e\u3057\u304f\u306a\u3044\u526f\u4f5c\u7528\u304c\u767a\u751f\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u3001\u305d\u308c\u3089\u306e\u526f\u4f5c\u7528\u306f\u30d0\u30b0\u3068\u306f\u898b\u306a\u3055\u308c\u306a\u3044\u3053\u3068\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"running_psalm/configuration/#restrictreturntypes","title":"restrictReturnTypes","text":"<p><pre><code>&lt;psalm\n  restrictReturnTypes=\"true\"&gt;\n</code></pre> \u5ba3\u8a00\u3055\u308c\u305f\u623b\u308a\u5024\u306e\u578b\u304c\u63a8\u8ad6\u3055\u308c\u305f\u623b\u308a\u5024\u306e\u578b\u307b\u3069\u53b3\u5bc6\u3067\u306a\u3044\u5834\u5408\u306b<code>LessSpecificReturnType</code>\u3092\u767a\u884c\u3057\u307e\u3059\u3002</p> <p>\u3053\u306e\u30b3\u30fc\u30c9\uff1a <pre><code>function getOne(): int // \u5ba3\u8a00\u3055\u308c\u305f\u578b: int\n{\n     return 1; // \u63a8\u8ad6\u3055\u308c\u305f\u578b: 1 (int \u30ea\u30c6\u30e9\u30eb)\n}\n</code></pre></p> <p>\u3053\u306e\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3059\uff1a<code>LessSpecificReturnType - \u95a2\u6570a\u306e\u63a8\u8ad6\u3055\u308c\u305f\u623b\u308a\u5024\u306e\u578b '1' \u306f\u3001\u5ba3\u8a00\u3055\u308c\u305f\u623b\u308a\u5024\u306e\u578b 'int' \u3088\u308a\u3082\u5177\u4f53\u7684\u3067\u3059</code></p> <p>\u30a8\u30e9\u30fc\u3092\u4fee\u6b63\u3059\u308b\u306b\u306f\u3001doc\u30d6\u30ed\u30c3\u30af\u3067\u3088\u308a\u5177\u4f53\u7684\u306a\u578b\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff1a <pre><code>/** \n * @return 1 \n */\nfunction getOne(): int {\n     return 1;\n}\n</code></pre></p> <p>\u8b66\u544a: \u3088\u308a\u53b3\u5bc6\u306a\u578b\u3092\u5f37\u5236\u3059\u308b\u3053\u3068\u306f\u5fc5\u305a\u3057\u3082\u6700\u826f\u306e\u5bfe\u51e6\u6cd5\u3067\u306f\u306a\u304f\u3001\u4e88\u671f\u3057\u306a\u3044\u7d50\u679c\u3092\u62db\u304f\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002<code>restrictReturnTypes=\"true\"</code>\u3067\u306f\u3001\u6b21\u306e\u30b3\u30fc\u30c9\u306f\u7121\u52b9\u3067\u3059\uff1a</p> <pre><code>class StandardCar {\n    /**\n     * @return list{'motor', 'brakes', 'wheels'}\n     */\n    public function getSystems(): array {\n        return ['motor', 'brakes', 'wheels'];\n    }\n}\n\nclass PremiumCar extends StandardCar {\n    /**\n     * @return list{'motor', 'brakes', 'wheels', 'rear parking sensor'}\n     */\n    public function getSystems(): array {\n        return ['motor', 'brakes', 'wheels', 'rear parking sensor'];\n    }\n}\n</code></pre> <p><code>`ImplementedReturnTypeMismatch - StandardCar::getSystems\u306e\u7d99\u627f\u3055\u308c\u305f\u623b\u308a\u5024\u306e\u578b 'list{'motor', 'brakes', 'wheels'}' \u306f\u3001PremiumCar::getSystems\u306e\u5b9f\u88c5\u3055\u308c\u305f\u623b\u308a\u5024\u306e\u578b 'list{'motor', 'brakes', 'wheels', 'rear parking sensor'}' \u3068\u7570\u306a\u308a\u307e\u3059</code></p>"},{"location":"running_psalm/configuration/#findunusedbaselineentry","title":"findUnusedBaselineEntry","text":"<p>\u4f7f\u7528\u3055\u308c\u3066\u3044\u306a\u3044\u30d9\u30fc\u30b9\u30e9\u30a4\u30f3\u30a8\u30f3\u30c8\u30ea\u306b\u5bfe\u3057\u3066UnusedBaselineEntry\u3092\u767a\u884c\u3057\u307e\u3059\u3002</p>"},{"location":"running_psalm/configuration/#findunusedissuehandlersuppression","title":"findUnusedIssueHandlerSuppression","text":"<p>\u554f\u984c\u3092\u6291\u5236\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u3066\u3044\u306a\u3044\u6291\u5236\u3055\u308c\u305f\u554f\u984c\u30cf\u30f3\u30c9\u30e9\u306b\u5bfe\u3057\u3066UnusedIssueHandlerSuppression\u3092\u767a\u884c\u3057\u307e\u3059\u3002</p>"},{"location":"running_psalm/configuration/#_3","title":"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u8a2d\u5b9a","text":""},{"location":"running_psalm/configuration/#projectfiles","title":"&lt;projectFiles&gt;","text":"<p>Psalm\u304c\u691c\u67fb\u3059\u3079\u304d\u3059\u3079\u3066\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30ea\u30b9\u30c8\u3092\u542b\u307f\u307e\u3059\u3002<code>&lt;ignoreFiles&gt;</code>\u30c7\u30a3\u30ec\u30af\u30c6\u30a3\u30d6\u3092\u4f7f\u7528\u3057\u3066\u3001\u7121\u8996\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u3084\u30d5\u30a9\u30eb\u30c0\u306e\u30bb\u30c3\u30c8\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001\u7121\u8996\u3055\u308c\u308b\u30d5\u30a1\u30a4\u30eb/\u30d5\u30a9\u30eb\u30c0\u306f\u5b58\u5728\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u5b58\u5728\u3057\u306a\u3044\u304b\u3082\u3057\u308c\u306a\u3044\u7121\u8996\u3055\u308c\u308b\u30d5\u30a1\u30a4\u30eb/\u30d5\u30a9\u30eb\u30c0\u306b\u306f<code>allowMissingFiles</code>\u5c5e\u6027\u3092\u8ffd\u52a0\u3067\u304d\u307e\u3059\u3002</p> <pre><code>&lt;projectFiles&gt;\n  &lt;directory name=\"src\" /&gt;\n  &lt;ignoreFiles&gt;\n    &lt;directory name=\"src/Stubs\" /&gt;\n  &lt;/ignoreFiles&gt;\n  &lt;ignoreFiles allowMissingFiles=\"true\"&gt;\n    &lt;directory name=\"path-that-may-not-exist\" /&gt;\n  &lt;/ignoreFiles&gt;\n&lt;/projectFiles&gt;\n</code></pre>"},{"location":"running_psalm/configuration/#extrafiles","title":"&lt;extraFiles&gt;","text":"<p>\u30aa\u30d7\u30b7\u30e7\u30f3\u3002<code>&lt;projectFiles&gt;</code>\u3068\u540c\u3058\u5f62\u5f0f\u3067\u3059\u3002Psalm\u304c\u8aad\u307f\u8fbc\u3080\u3079\u304d\u304c\u691c\u67fb\u3057\u306a\u3044\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3002</p>"},{"location":"running_psalm/configuration/#fileextensions","title":"&lt;fileExtensions&gt;","text":"<p>\u30aa\u30d7\u30b7\u30e7\u30f3\u3002\u691c\u7d22\u3059\u308b\u62e1\u5f35\u5b50\u306e\u30ea\u30b9\u30c8\u3002\u3053\u308c\u3092\u62e1\u5f35\u3059\u308b\u65b9\u6cd5\u3092\u7406\u89e3\u3059\u308b\u306b\u306f\u3001\u975ePHP\u30d5\u30a1\u30a4\u30eb\u306e\u30c1\u30a7\u30c3\u30af\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"running_psalm/configuration/#enableextensions","title":"&lt;enableExtensions&gt;","text":"<p>\u30aa\u30d7\u30b7\u30e7\u30f3\u3002\u6709\u52b9\u306b\u3059\u308b\u62e1\u5f35\u6a5f\u80fd\u306e\u30ea\u30b9\u30c8\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001composer.json\u3067\u5fc5\u8981\u3068\u3055\u308c\u308b\u62e1\u5f35\u6a5f\u80fd\u306e\u307f\u304c\u6709\u52b9\u306b\u306a\u308a\u307e\u3059\u3002</p> <pre><code>&lt;enableExtensions&gt;\n  &lt;extension name=\"decimal\"/&gt;\n  &lt;extension name=\"pdo\"/&gt;\n&lt;/enableExtensions&gt;\n</code></pre>"},{"location":"running_psalm/configuration/#disableextensions","title":"&lt;disableExtensions&gt;","text":"<p>\u30aa\u30d7\u30b7\u30e7\u30f3\u3002\u7121\u52b9\u306b\u3059\u308b\u62e1\u5f35\u6a5f\u80fd\u306e\u30ea\u30b9\u30c8\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001composer.json\u3067\u5fc5\u8981\u3068\u3055\u308c\u308b\u62e1\u5f35\u6a5f\u80fd\u306e\u307f\u304c\u6709\u52b9\u306b\u306a\u308a\u307e\u3059\u3002</p> <pre><code>&lt;disableExtensions&gt;\n  &lt;extension name=\"gmp\"/&gt;\n&lt;/disableExtensions&gt;\n</code></pre>"},{"location":"running_psalm/configuration/#plugins","title":"&lt;plugins&gt;","text":"<p>\u30aa\u30d7\u30b7\u30e7\u30f3\u3002<code>&lt;plugin filename=\"path_to_plugin.php\" /&gt;</code>\u30a8\u30f3\u30c8\u30ea\u306e\u30ea\u30b9\u30c8\u3002\u8a73\u7d30\u306f\u30d7\u30e9\u30b0\u30a4\u30f3\u30bb\u30af\u30b7\u30e7\u30f3\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"running_psalm/configuration/#issuehandlers","title":"&lt;issueHandlers&gt;","text":"<p>\u30aa\u30d7\u30b7\u30e7\u30f3\u3002Psalm\u304c\u898b\u3064\u3051\u305f\u3059\u3079\u3066\u306e\u554f\u984c\u306b\u3064\u3044\u3066\u82e6\u60c5\u3092\u8a00\u3046\u3053\u3068\u3092\u671b\u307e\u306a\u3044\u5834\u5408\u3001issueHandler\u30bf\u30b0\u3092\u4f7f\u7528\u3057\u3066\u305d\u308c\u3092\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002\u8a73\u7d30\u306f\u30b3\u30fc\u30c9\u306e\u554f\u984c\u3078\u306e\u5bfe\u51e6\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"running_psalm/configuration/#mockclasses","title":"&lt;mockClasses&gt;","text":"<p>\u30aa\u30d7\u30b7\u30e7\u30f3\u3002\u30c6\u30b9\u30c8\u3067\u30e2\u30c3\u30af\u30af\u30e9\u30b9\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u304b\uff1f\u30d5\u30a1\u30a4\u30eb\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u969b\u306bPsalm\u304c\u305d\u308c\u3089\u3092\u7121\u8996\u3059\u308b\u3088\u3046\u306b\u3057\u305f\u3044\u5834\u5408\u306f\u3001<code>&lt;class name=\"Your\\Namespace\\ClassName\" /&gt;</code>\u3067\u30af\u30e9\u30b9\u306e\u5b8c\u5168\u4fee\u98fe\u30d1\u30b9\u3092\u542b\u3081\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"running_psalm/configuration/#universalobjectcrates","title":"&lt;universalObjectCrates&gt;","text":"<p>\u30aa\u30d7\u30b7\u30e7\u30f3\u3002\u9759\u7684\u306b\u6c7a\u5b9a\u3067\u304d\u306a\u3044\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u6301\u3064\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u3042\u308a\u307e\u3059\u304b\uff1fPsalm\u304c\u7279\u5b9a\u306e\u30af\u30e9\u30b9\u30e9\u30a4\u30af\u306e\u3059\u3079\u3066\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u6df7\u5408\u3068\u3057\u3066\u6271\u3046\u3088\u3046\u306b\u3057\u305f\u3044\u5834\u5408\u306f\u3001<code>&lt;class name=\"Your\\Namespace\\ClassName\" /&gt;</code>\u3067\u30af\u30e9\u30b9\u306e\u5b8c\u5168\u4fee\u98fe\u30d1\u30b9\u3092\u542b\u3081\u3066\u304f\u3060\u3055\u3044\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001<code>stdClass</code>\u3068<code>SimpleXMLElement</code>\u304c\u6c4e\u7528\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30af\u30ec\u30fc\u30c8\u3068\u3057\u3066\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"running_psalm/configuration/#stubs","title":"&lt;stubs&gt;","text":"<p>\u30aa\u30d7\u30b7\u30e7\u30f3\u3002\u30b3\u30fc\u30c9\u30d9\u30fc\u30b9\u304cPsalm\u306b\u30ea\u30d5\u30ec\u30af\u30b7\u30e7\u30f3\u3092\u4ecb\u3057\u3066\u898b\u3048\u306a\u3044\u30af\u30e9\u30b9\u3084\u95a2\u6570\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u5834\u5408\uff08\u4f8b\u3048\u3070\u3001Psalm\u3092\u5b9f\u884c\u3057\u3066\u3044\u308b\u30de\u30b7\u30f3\u3067\u5229\u7528\u3067\u304d\u306a\u3044\u5185\u90e8\u30d1\u30c3\u30b1\u30fc\u30b8\u306b\u30b3\u30fc\u30c9\u30d9\u30fc\u30b9\u304c\u4f9d\u5b58\u3057\u3066\u3044\u308b\u5834\u5408\uff09\u3001\u30b9\u30bf\u30d6\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002PhpStorm\uff08\u4eba\u6c17\u306e\u3042\u308bIDE\uff09\u306a\u3069\u3067\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b\u30b9\u30bf\u30d6\u306f\u3001\u5b9f\u88c5\u306a\u3057\u3067\u30af\u30e9\u30b9\u3068\u95a2\u6570\u306e\u8aac\u660e\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002</p> <p>\u4e00\u822c\u7684\u306a\u30af\u30e9\u30b9\u306e\u30b9\u30bf\u30d6\u306e\u30ea\u30b9\u30c8\u306f\u3053\u3061\u3089\u3067\u898b\u3064\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u5404\u30d5\u30a1\u30a4\u30eb\u3092<code>&lt;file name=\"path/to/file.php\" /&gt;</code>\u3067\u30ea\u30b9\u30c8\u30a2\u30c3\u30d7\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u30c6\u30b9\u30c8\u3059\u308b\u30af\u30e9\u30b9\u304c\u30b9\u30bf\u30d6\u30d5\u30a1\u30a4\u30eb\u3067\u5b9a\u7fa9\u3055\u308c\u305f\u89aa\u30af\u30e9\u30b9\u307e\u305f\u306f\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u3001\u3053\u306e\u30b9\u30bf\u30d6\u306f<code>preloadClasses=\"true\"</code>\u5c5e\u6027\u3067\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>&lt;stubs&gt;\n  &lt;file name=\"path/to/file.php\" /&gt;\n  &lt;file name=\"path/to/abstract-class.php\" preloadClasses=\"true\" /&gt;\n&lt;/stubs&gt;\n</code></pre>"},{"location":"running_psalm/configuration/#ignoreexceptions","title":"&lt;ignoreExceptions&gt;","text":"<p>\u30aa\u30d7\u30b7\u30e7\u30f3\u3002<code>checkForThrowsDocblock</code>\u307e\u305f\u306f<code>checkForThrowsInGlobalScope</code>\u3067\u5831\u544a\u3057\u306a\u3044\u4f8b\u5916\u306e\u30ea\u30b9\u30c8\u3002<code>class</code>\u30bf\u30b0\u306fspecified\u30af\u30e9\u30b9\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u307f\u3092Psalm\u306b\u7121\u8996\u3055\u305b\u3001<code>classAndDescendants</code>\u306f\u30b5\u30d6\u30af\u30e9\u30b9\u3082\u7121\u8996\u3055\u305b\u307e\u3059\u3002\u4f8b\u5916\u306b<code>onlyGlobalScope=\"true\"</code>\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u305d\u306e\u4f8b\u5916\u306b\u5bfe\u3057\u3066\u306f<code>checkForThrowsInGlobalScope</code>\u306e\u307f\u304c\u7121\u8996\u3055\u308c\u307e\u3059\u3002\u4f8b\uff1a</p> <pre><code>&lt;ignoreExceptions&gt;\n  &lt;class name=\"fully\\qualified\\path\\Exc\" onlyGlobalScope=\"true\" /&gt;\n  &lt;classAndDescendants name=\"fully\\qualified\\path\\OtherExc\" /&gt;\n&lt;/ignoreExceptions&gt;\n</code></pre>"},{"location":"running_psalm/configuration/#globals","title":"&lt;globals&gt;","text":"<p>\u30aa\u30d7\u30b7\u30e7\u30f3\u3002\u30b3\u30fc\u30c9\u30d9\u30fc\u30b9\u304c<code>global</code>\u30ad\u30fc\u30ef\u30fc\u30c9\u3067\u30a2\u30af\u30bb\u30b9\u3059\u308b\u30b0\u30ed\u30fc\u30d0\u30eb\u5909\u6570\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u3001\u305d\u306e\u578b\u3092\u5ba3\u8a00\u3067\u304d\u307e\u3059\u3002\u4f8b\uff1a</p> <pre><code>&lt;globals&gt;\n  &lt;var name=\"globalVariableName\" type=\"type\" /&gt;\n&lt;/globals&gt;\n</code></pre> <p>\u4e00\u90e8\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3084\u30e9\u30a4\u30d6\u30e9\u30ea\u306f\u3001\u4f8b\u3048\u3070<code>$GLOBALS[DB]-&gt;query($query)</code>\u3092\u901a\u3058\u3066\u6a5f\u80fd\u3092\u516c\u958b\u3057\u3066\u3044\u307e\u3059\u3002 \u4ee5\u4e0b\u306e\u8a2d\u5b9a\u306f\u3001\u30b9\u30fc\u30d1\u30fc\u30b0\u30ed\u30fc\u30d0\u30eb\uff08<code>$GLOBALS</code>\u3001<code>$_GET</code>\u306a\u3069\uff09\u306b\u30ab\u30b9\u30bf\u30e0\u578b\u3092\u5ba3\u8a00\u3057\u307e\u3059\u3002</p> <pre><code>&lt;globals&gt;\n  &lt;var name=\"GLOBALS\" type=\"array{DB: MyVendor\\DatabaseConnection, VIEW: MyVendor\\TemplateView}\" /&gt;\n  &lt;var name=\"_GET\" type=\"array{data: array&lt;string, string&gt;}\" /&gt;\n&lt;/globals&gt;\n</code></pre> <p>\u4e0a\u306e\u4f8b\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30b0\u30ed\u30fc\u30d0\u30eb\u5909\u6570\u3092\u5ba3\u8a00\u3057\u307e\u3059\uff1a - <code>$GLOBALS</code>     - <code>DB</code>\u306e\u578b\u306f<code>MyVendor\\DatabaseConnection</code>     - <code>VIEW</code>\u306e\u578b\u306f<code>MyVendor\\TemplateView</code> - <code>$_GET</code>     - <code>data</code>\u306f\u4f8b\u3048\u3070<code>[\"id\" =&gt; \"123\", \"title\" =&gt; \"Nice\"]</code>\u306e\u3088\u3046\u306a\u578b</p>"},{"location":"running_psalm/configuration/#forbiddenfunctions","title":"&lt;forbiddenFunctions&gt;","text":"<p>\u30aa\u30d7\u30b7\u30e7\u30f3\u3002<code>ForbiddenCode</code>\u554f\u984c\u30bf\u30a4\u30d7\u3092\u767a\u884c\u3059\u3079\u304d\u95a2\u6570\u306e\u30ea\u30b9\u30c8\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002</p> <pre><code>&lt;forbiddenFunctions&gt;\n  &lt;function name=\"var_dump\" /&gt;\n  &lt;function name=\"dd\" /&gt;\n&lt;/forbiddenFunctions&gt;\n</code></pre>"},{"location":"running_psalm/configuration/#psalm_2","title":"\u30d7\u30e9\u30b0\u30a4\u30f3\u3067\u306ePsalm\u8a2d\u5b9a\u3078\u306e\u30a2\u30af\u30bb\u30b9","text":"<p>\u30d7\u30e9\u30b0\u30a4\u30f3\u306f\u3001\u30b7\u30f3\u30b0\u30eb\u30c8\u30f3Psalm\\Config\u3092\u4f7f\u7528\u3057\u3066\u30d7\u30e9\u30b0\u30a4\u30f3\u3067\u30b0\u30ed\u30fc\u30d0\u30eb\u8a2d\u5b9a\u306b\u30a2\u30af\u30bb\u30b9\u307e\u305f\u306f\u5909\u66f4\u3067\u304d\u307e\u3059\u3002</p> <pre><code>$config = \\Psalm\\Config::getInstance();\nif (!isset($config-&gt;globals['$GLOBALS'])) {\n    $config-&gt;globals['$GLOBALS'] = 'array{data: array&lt;string, string&gt;}';\n}\n</code></pre>"},{"location":"running_psalm/dealing_with_code_issues/","title":"\u30b3\u30fc\u30c9\u306e\u554f\u984c\u3078\u306e\u5bfe\u51e6","text":"<p>Psalm\u306b\u306f\u591a\u6570\u306e\u30b3\u30fc\u30c9\u306e\u554f\u984c\u304c\u3042\u308a\u307e\u3059\u3002\u5404\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306f\u3001\u7279\u5b9a\u306e\u554f\u984c\u306b\u5bfe\u3057\u3066\u72ec\u81ea\u306e\u5831\u544a\u30ec\u30d9\u30eb\u3092\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002</p> <p>Psalm\u306e\u30b3\u30fc\u30c9\u306e\u554f\u984c\u30ec\u30d9\u30eb\u306f3\u3064\u306e\u30ab\u30c6\u30b4\u30ea\u306b\u5206\u985e\u3055\u308c\u307e\u3059\uff1a - <code>error</code>   \u3053\u308c\u306b\u3088\u308aPsalm\u306f\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3057\u3001\u6700\u7d42\u7684\u306b\u975e\u30bc\u30ed\u306e\u7d42\u4e86\u30b9\u30c6\u30fc\u30bf\u30b9\u3067\u7d42\u4e86\u3057\u307e\u3059 - <code>info</code>   \u3053\u308c\u306b\u3088\u308aPsalm\u306f\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3057\u307e\u3059 - <code>suppress</code>   \u3053\u308c\u306b\u3088\u308aPsalm\u306f\u30b3\u30fc\u30c9\u306e\u554f\u984c\u3092\u5b8c\u5168\u306b\u7121\u8996\u3057\u307e\u3059</p> <p>3\u3064\u76ee\u306e\u30ab\u30c6\u30b4\u30ea\u3067\u3042\u308b<code>suppress</code>\u306f\u3001\u7279\u306b\u5927\u898f\u6a21\u306a\u30b3\u30fc\u30c9\u30d9\u30fc\u30b9\u306bPsalm\u3092\u5c0e\u5165\u3059\u308b\u969b\u306b\u6700\u3082\u8208\u5473\u6df1\u3044\u3067\u3057\u3087\u3046\u3002</p>"},{"location":"running_psalm/dealing_with_code_issues/#_2","title":"\u554f\u984c\u306e\u6291\u5236","text":"<p>\u554f\u984c\u3092\u6291\u5236\u3059\u308b\u65b9\u6cd5\u306f2\u3064\u3042\u308a\u307e\u3059 - Psalm\u8a2d\u5b9a\u3092\u4ecb\u3057\u3066\u3001\u307e\u305f\u306f\u95a2\u6570\u306edocblock\u3092\u4ecb\u3057\u3066\u3002</p>"},{"location":"running_psalm/dealing_with_code_issues/#_3","title":"\u8a2d\u5b9a\u306b\u3088\u308b\u6291\u5236","text":"<p>\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e<code>&lt;issueHandlers&gt;</code>\u30bf\u30b0\u3092\u4f7f\u7528\u3057\u3066\u3001\u554f\u984c\u306e\u6271\u3044\u65b9\u306b\u5f71\u97ff\u3092\u4e0e\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u4e00\u90e8\u306e\u554f\u984c\u30bf\u30a4\u30d7\u3067\u306f\u3001<code>referencedMethod</code>\u3001<code>referencedClass</code>\u3001\u307e\u305f\u306f<code>referencedVariable</code>\u3092\u4f7f\u7528\u3057\u3066\u3001\u65e2\u77e5\u306e\u554f\u984c\u7b87\u6240\u3092\u7279\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>&lt;issueHandlers&gt;\n  &lt;MissingPropertyType errorLevel=\"suppress\" /&gt; &lt;!-- \u30b3\u30fc\u30c9\u5168\u4f53\u3067MissingPropertyType\u3092\u6291\u5236 --&gt;\n  &lt;InvalidReturnType&gt;\n    &lt;errorLevel type=\"suppress\"&gt;\n      &lt;directory name=\"some_bad_directory\" /&gt; &lt;!-- \u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5185\u306e\u3059\u3079\u3066\u306eInvalidReturnType\u554f\u984c\u3092\u6291\u5236 --&gt;\n      &lt;file name=\"some_bad_file.php\" /&gt;  &lt;!-- \u3053\u306e\u30d5\u30a1\u30a4\u30eb\u5185\u306e\u3059\u3079\u3066\u306eInvalidReturnType\u554f\u984c\u3092\u6291\u5236 --&gt;\n    &lt;/errorLevel&gt;\n  &lt;/InvalidReturnType&gt;\n  &lt;UndefinedMethod&gt;\n    &lt;errorLevel type=\"suppress\"&gt;\n      &lt;referencedMethod name=\"Bar\\Bat::bar\" /&gt; &lt;!-- \u3059\u3079\u3066\u306e\u7a2e\u985e\u306e\u30a8\u30e9\u30fc\u3067\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u308f\u3051\u3067\u306f\u3042\u308a\u307e\u305b\u3093 --&gt;\n      &lt;file name=\"some_bad_file.php\" /&gt;\n    &lt;/errorLevel&gt;\n  &lt;/UndefinedMethod&gt;\n  &lt;UndefinedClass&gt;\n    &lt;errorLevel type=\"suppress\"&gt;\n      &lt;referencedClass name=\"Bar\\Bat\\Baz\" /&gt;\n    &lt;/errorLevel&gt;\n  &lt;/UndefinedClass&gt;\n  &lt;PropertyNotSetInConstructor&gt;\n    &lt;errorLevel type=\"suppress\"&gt;\n        &lt;referencedProperty name=\"Symfony\\Component\\Validator\\ConstraintValidator::$context\" /&gt;\n    &lt;/errorLevel&gt;\n  &lt;/PropertyNotSetInConstructor&gt;\n  &lt;UndefinedGlobalVariable&gt;\n    &lt;errorLevel type=\"suppress\"&gt;\n      &lt;referencedVariable name=\"$fooBar\" /&gt; &lt;!-- \u5909\u6570\u304c\"$fooBar\"\u306e\u5834\u5408 --&gt;\n    &lt;/errorLevel&gt;\n  &lt;/UndefinedGlobalVariable&gt;\n  &lt;PluginIssue name=\"IssueNameEmittedByPlugin\" errorLevel=\"info\" /&gt; &lt;!-- \u3053\u308c\u306f\u30d7\u30e9\u30b0\u30a4\u30f3\u306b\u3088\u3063\u3066\u767a\u884c\u3055\u308c\u308b\u554f\u984c\u3092\u51e6\u7406\u3059\u308b\u7279\u5225\u306a\u30b1\u30fc\u30b9\u3067\u3059 --&gt;\n&lt;/issueHandlers&gt;\n</code></pre>"},{"location":"running_psalm/dealing_with_code_issues/#docblock","title":"Docblock\u306b\u3088\u308b\u6291\u5236","text":"<p>\u95a2\u6570\u306edocblock\u3067<code>@psalm-suppress IssueName</code>\u3092\u4f7f\u7528\u3057\u3066\u3001Psalm\u554f\u984c\u3092\u6291\u5236\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u4f8b\uff1a</p> <pre><code>&lt;?php\n/** \n * @psalm-suppress InvalidReturnType \n */\nfunction (int $a) : string {\n  return $a;\n}\n</code></pre> <p>\u884c\u30ec\u30d9\u30eb\u3067\u554f\u984c\u3092\u6291\u5236\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u4f8b\uff1a</p> <pre><code>&lt;?php\n/** \n * @psalm-suppress InvalidReturnType \n */\nfunction (int $a) : string {\n  /** \n   * @psalm-suppress InvalidReturnStatement\n   */\n  return $a;\n}\n</code></pre> <p>\u3059\u3079\u3066\u306e\u554f\u984c\u3092\u6291\u5236\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u8907\u6570\u306e\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306e\u4ee3\u308f\u308a\u306b<code>@psalm-suppress all</code>\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"running_psalm/dealing_with_code_issues/#_4","title":"\u30d9\u30fc\u30b9\u30e9\u30a4\u30f3\u30d5\u30a1\u30a4\u30eb\u306e\u4f7f\u7528","text":"<p>\u591a\u6570\u306e\u30a8\u30e9\u30fc\u304c\u3042\u308a\u3001\u305d\u308c\u3089\u3092\u3059\u3079\u3066\u4e00\u5ea6\u306b\u4fee\u6b63\u3057\u305f\u304f\u306a\u3044\u5834\u5408\u3001Psalm\u306f\u65e2\u5b58\u306e\u30b3\u30fc\u30c9\u306e\u30a8\u30e9\u30fc\u3092\u8a31\u5bb9\u3057\u3064\u3064\u3001\u65b0\u3057\u3044\u30b3\u30fc\u30c9\u3067\u540c\u3058\u7a2e\u985e\u306e\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>vendor/bin/psalm --set-baseline\n</code></pre> <p>\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u73fe\u5728\u306e\u30a8\u30e9\u30fc\u3092\u542b\u3080<code>psalm-baseline.xml</code>\u30d5\u30a1\u30a4\u30eb\u304c\u751f\u6210\u3055\u308c\u307e\u3059\u3002\u3042\u308b\u3044\u306f\u3001\u30d9\u30fc\u30b9\u30e9\u30a4\u30f3\u30d5\u30a1\u30a4\u30eb\u306e\u540d\u524d\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002</p> <pre><code>vendor/bin/psalm --set-baseline=your-baseline.xml\n</code></pre> <p>Psalm\u304c\u4ed6\u306e\u5834\u6240\uff08\u4f8b\uff1aCI\uff09\u3067\u5b9f\u884c\u3055\u308c\u308b\u3068\u304d\u306b\u4f7f\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u3001\u751f\u6210\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u30b3\u30df\u30c3\u30c8\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u3046\u3059\u308c\u3070\u3001\u305d\u308c\u3089\u306e\u30a8\u30e9\u30fc\u306b\u3064\u3044\u3066\u82e6\u60c5\u3092\u8a00\u3046\u3053\u3068\u3082\u3042\u308a\u307e\u305b\u3093\u3002</p> <p>\u751f\u6210\u3055\u308c\u305f\u30d9\u30fc\u30b9\u30e9\u30a4\u30f3\u3092Psalm\u5b9f\u884c\u6642\u306b\u4f7f\u7528\u3059\u308b\u306b\u306f2\u3064\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u3042\u308a\u307e\u3059\uff1a</p> <pre><code>vendor/bin/psalm --use-baseline=your-baseline.xml\n</code></pre> <p>\u307e\u305f\u306f\u8a2d\u5b9a\u3092\u4f7f\u7528\uff1a</p> <pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;psalm\n      ...\n      errorBaseline=\"./path/to/your-baseline.xml\"&gt;\n   ...\n&lt;/psalm&gt;\n</code></pre> <p>\u305d\u306e\u30d9\u30fc\u30b9\u30e9\u30a4\u30f3\u30d5\u30a1\u30a4\u30eb\u3092\u66f4\u65b0\u3059\u308b\u306b\u306f\u3001\u4ee5\u4e0b\u3092\u4f7f\u7528\u3057\u307e\u3059\uff1a</p> <pre><code>vendor/bin/psalm --update-baseline\n</code></pre> <p>\u3053\u308c\u306b\u3088\u308a\u4fee\u6b63\u3055\u308c\u305f\u554f\u984c\u306f\u524a\u9664\u3055\u308c\u307e\u3059\u304c\u3001\u65b0\u3057\u3044\u554f\u984c\u306f\u8ffd\u52a0\u3055\u308c\u307e\u305b\u3093\u3002\u65b0\u3057\u3044\u554f\u984c\u3092\u8ffd\u52a0\u3059\u308b\u306b\u306f\u3001<code>--set-baseline=...</code>\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002</p> <p>\u30d9\u30fc\u30b9\u30e9\u30a4\u30f3\u306a\u3057\u3067psalm\u3092\u5b9f\u884c\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u6b21\u306e\u3088\u3046\u306b\u5b9f\u884c\u3057\u307e\u3059\uff1a</p> <pre><code>vendor/bin/psalm --ignore-baseline\n</code></pre> <p>\u30d9\u30fc\u30b9\u30e9\u30a4\u30f3\u30d5\u30a1\u30a4\u30eb\u306f\u3001\u30b3\u30fc\u30c9\u30d9\u30fc\u30b9\u3092\u5f90\u3005\u306b\u6539\u5584\u3059\u308b\u305f\u3081\u306e\u512a\u308c\u305f\u65b9\u6cd5\u3067\u3059\u3002</p>"},{"location":"running_psalm/dealing_with_code_issues/#_5","title":"\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u4f7f\u7528","text":"<p>\u7279\u5b9a\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u5b9f\u88c5\u3059\u308b\u30af\u30e9\u30b9\u3067\u7279\u5b9a\u306e\u7a2e\u985e\u306e\u30a8\u30e9\u30fc\u3092\u6291\u5236\u3059\u308b\u306a\u3069\u3001\u3088\u308a\u7d30\u304b\u3044\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u304c\u5fc5\u8981\u306a\u5834\u5408\u306f\u3001<code>AfterClassLikeVisitInterface</code>\u3092\u5b9f\u88c5\u3059\u308b\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002</p> <pre><code>&lt;?php\nnamespace Foo\\Bar;\n\nuse Psalm\\Plugin\\EventHandler\\AfterClassLikeVisitInterface;\nuse Psalm\\Plugin\\EventHandler\\Event\\AfterClassLikeVisitEvent;\nuse ReflectionClass;\n\n/**\n * \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u5b9f\u88c5\u306b\u57fa\u3065\u3044\u3066\u52d5\u7684\u306b\u554f\u984c\u3092\u6291\u5236\u3059\u308b\n */\nclass DynamicallySuppressClassIssueBasedOnInterface implements AfterClassLikeVisitInterface\n{\n    public static function afterClassLikeVisit(AfterClassLikeVisitEvent $event)\n    {\n        $storage = $event-&gt;getStorage();\n        if ($storage-&gt;user_defined\n            &amp;&amp; !$storage-&gt;is_interface\n            &amp;&amp; (new ReflectionClass($storage-&gt;name))-&gt;implementsInterface(SomeInterface::class)\n        ) {\n            $storage-&gt;suppressed_issues[] = 'MissingConstructor';\n        }\n    }\n}\n</code></pre> <p>\u3053\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u306f\u3001<code>SomeInterface</code>\u3092\u5b9f\u88c5\u3059\u308b\u3059\u3079\u3066\u306e\u30af\u30e9\u30b9\u3067<code>MissingConstructor</code>\u554f\u984c\u3092\u6291\u5236\u3057\u307e\u3059\u3002</p> <p>\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u767b\u9332\u65b9\u6cd5\u306e\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u4f5c\u6210\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"running_psalm/dealing_with_code_issues/#_6","title":"\u307e\u3068\u3081","text":"<p>Psalm\u306f\u3001\u30b3\u30fc\u30c9\u306e\u554f\u984c\u3092\u7ba1\u7406\u3059\u308b\u305f\u3081\u306e\u67d4\u8edf\u306a\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\uff1a</p> <ol> <li>\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3067\u306e\u554f\u984c\u306e\u6291\u5236</li> <li>Docblock\u3067\u306e\u554f\u984c\u306e\u6291\u5236</li> <li>\u30d9\u30fc\u30b9\u30e9\u30a4\u30f3\u30d5\u30a1\u30a4\u30eb\u306e\u4f7f\u7528</li> <li>\u30ab\u30b9\u30bf\u30e0\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u4f5c\u6210</li> </ol> <p>\u3053\u308c\u3089\u306e\u65b9\u6cd5\u3092\u7d44\u307f\u5408\u308f\u305b\u308b\u3053\u3068\u3067\u3001\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u7279\u5b9a\u306e\u30cb\u30fc\u30ba\u306b\u5408\u308f\u305b\u3066Psalm\u306e\u52d5\u4f5c\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3057\u3001\u30b3\u30fc\u30c9\u54c1\u8cea\u3092\u6bb5\u968e\u7684\u306b\u6539\u5584\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u91cd\u8981\u306a\u306e\u306f\u3001\u3053\u308c\u3089\u306e\u30c4\u30fc\u30eb\u3092\u4f7f\u3063\u3066\u554f\u984c\u3092\u96a0\u3059\u306e\u3067\u306f\u306a\u304f\u3001\u30b3\u30fc\u30c9\u306e\u54c1\u8cea\u3092\u5411\u4e0a\u3055\u305b\u308b\u305f\u3081\u306e\u6307\u91dd\u3068\u3057\u3066\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u3059\u3002\u6642\u9593\u3092\u304b\u3051\u3066\u3001\u6291\u5236\u3055\u308c\u305f\u554f\u984c\u3092\u89e3\u6c7a\u3057\u3001\u3088\u308a\u30af\u30ea\u30fc\u30f3\u3067\u578b\u5b89\u5168\u306a\u30b3\u30fc\u30c9\u30d9\u30fc\u30b9\u3092\u76ee\u6307\u3059\u3053\u3068\u3092\u304a\u52e7\u3081\u3057\u307e\u3059\u3002</p>"},{"location":"running_psalm/error_levels/","title":"\u30a8\u30e9\u30fc\u30ec\u30d9\u30eb","text":"<p>Psalm\u306f1\u304b\u30898\u307e\u3067\u306e\u7570\u306a\u308b\u53b3\u683c\u3055\u306e\u30ec\u30d9\u30eb\u3067\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002 \u30ec\u30d9\u30eb1\u304c\u6700\u3082\u53b3\u683c\u3067\u3001\u30ec\u30d9\u30eb8\u304c\u6700\u3082\u5bdb\u5bb9\u3067\u3059\u3002 \u30ec\u30d9\u30eb\u304c\u660e\u793a\u7684\u306b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u3001Psalm\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u30ec\u30d9\u30eb2\u306b\u306a\u308a\u307e\u3059\u3002</p> <p>\u4e00\u90e8\u306e\u554f\u984c\u306f\u5e38\u306b\u30a8\u30e9\u30fc\u3068\u3057\u3066\u6271\u308f\u308c\u307e\u3059\u3002\u3053\u308c\u3089\u306f\u8aa4\u691c\u51fa\u306e\u53ef\u80fd\u6027\u304c\u975e\u5e38\u306b\u4f4e\u3044\u554f\u984c\u3067\u3059\u3002</p> <p>\u30ec\u30d9\u30eb1\u3067\u306f\u3001Psalm\u304c\u898b\u3064\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3059\u3079\u3066\u306e\u554f\u984c\uff08\u30aa\u30d7\u30c8\u30a4\u30f3\u6a5f\u80fd\u306e\u305f\u3081\u306b\u51fa\u529b\u3055\u308c\u308b\u3082\u306e\u3092\u9664\u304f\uff09\u304c\u30a8\u30e9\u30fc\u3068\u3057\u3066\u6271\u308f\u308c\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u554f\u984c\u306b\u306f\u3001Psalm\u304c\u7279\u5b9a\u306e\u5f0f\u306e\u578b\u3092\u63a8\u8ad6\u3067\u304d\u306a\u3044\u3042\u3089\u3086\u308b\u72b6\u6cc1\u304c\u542b\u307e\u308c\u307e\u3059\u3002</p> <p>\u30ec\u30d9\u30eb2\u3067\u306f\u3001Psalm\u306f<code>Mixed*</code>\u306e\u554f\u984c\u3092\u7121\u8996\u3057\u307e\u3059\u304c\u3001\u4ed6\u306e\u307b\u3068\u3093\u3069\u306e\u554f\u984c\u3092\u30a8\u30e9\u30fc\u3068\u3057\u3066\u6271\u3044\u307e\u3059\u3002</p> <p>\u30ec\u30d9\u30eb3\u3067\u306f\u3001Psalm\u306f\u3088\u308a\u5bdb\u5bb9\u306b\u306a\u308a\u59cb\u3081\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001Psalm\u306f\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u578b\u3001\u623b\u308a\u5024\u306e\u578b\u3001\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u578b\u306e\u6b20\u843d\u3092\u8a31\u53ef\u3057\u307e\u3059\u3002</p> <p>\u30ec\u30d9\u30eb4\u3067\u306f\u3001Psalm\u306f_\u53ef\u80fd\u6027\u306e\u3042\u308b_\u554f\u984c\u306b\u5bfe\u3059\u308b\u554f\u984c\u3092\u7121\u8996\u3057\u307e\u3059\u3002\u3053\u308c\u3089\u306f\u8aa4\u691c\u51fa\u3067\u3042\u308b\u53ef\u80fd\u6027\u304c\u9ad8\u304f\u306a\u308a\u307e\u3059 - \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b3\u30fc\u30c9\u304cPsalm\u304c\u63a8\u8ad6\u3067\u304d\u306a\u3044\u52d5\u4f5c\u3092\u4fdd\u8a3c\u3057\u3066\u3044\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>\u30ec\u30d9\u30eb5\u4ee5\u4e0a\u3067\u306f\u3001\u3088\u308a\u591a\u304f\u306e\u691c\u8a3c\u4e0d\u53ef\u80fd\u306a\u30b3\u30fc\u30c9\u3092\u8a31\u53ef\u3057\u3001\u3088\u308a\u9ad8\u3044\u30ec\u30d9\u30eb\u3067\u306f\u3055\u3089\u306b\u5bdb\u5bb9\u306b\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"running_psalm/error_levels/#_2","title":"\u5e38\u306b\u30a8\u30e9\u30fc\u3068\u3057\u3066\u6271\u308f\u308c\u308b\u554f\u984c","text":"<ul> <li>AbstractMethodCall</li> <li>ComplexFunction</li> <li>ComplexMethod</li> <li>ConfigIssue</li> <li>DuplicateArrayKey</li> <li>DuplicateClass</li> <li>DuplicateFunction</li> <li>DuplicateMethod</li> <li>DuplicateParam</li> <li>DuplicateProperty</li> <li>EmptyArrayAccess</li> <li>ExtensionRequirementViolation</li> <li>ImplementationRequirementViolation</li> <li>ImpureByReferenceAssignment</li> <li>ImpureFunctionCall</li> <li>ImpureMethodCall</li> <li>ImpurePropertyAssignment</li> <li>ImpurePropertyFetch</li> <li>ImpureStaticProperty</li> <li>ImpureStaticVariable</li> <li>ImpureVariable</li> <li>InaccessibleClassConstant</li> <li>InaccessibleMethod</li> <li>InaccessibleProperty</li> <li>InterfaceInstantiation</li> <li>InvalidAttribute</li> <li>InvalidEnumMethod</li> <li>InvalidExtendClass</li> <li>InvalidGlobal</li> <li>InvalidInterfaceImplementation</li> <li>InvalidParamDefault</li> <li>InvalidParent</li> <li>InvalidPassByReference</li> <li>InvalidScope</li> <li>InvalidStaticInvocation</li> <li>InvalidThrow</li> <li>LoopInvalidation</li> <li>MethodSignatureMustOmitReturnType</li> <li>MethodSignatureMustProvideReturnType</li> <li>MissingDependency</li> <li>MissingFile</li> <li>MissingImmutableAnnotation</li> <li>MissingTemplateParam</li> <li>MissingThrowsDocblock</li> <li>NonStaticSelfCall</li> <li>NoValue</li> <li>NullArrayAccess</li> <li>NullFunctionCall</li> <li>NullIterator</li> <li>NullPropertyAssignment</li> <li>NullPropertyFetch</li> <li>NullReference</li> <li>OverriddenPropertyAccess</li> <li>ParadoxicalCondition</li> <li>ParentNotFound</li> <li>TooFewArguments</li> <li>UndefinedAttributeClass</li> <li>UndefinedClass</li> <li>UndefinedConstant</li> <li>UndefinedDocblockClass</li> <li>UndefinedFunction</li> <li>UndefinedGlobalVariable</li> <li>UndefinedInterface</li> <li>UndefinedTrait</li> <li>UndefinedVariable</li> <li>UnimplementedAbstractMethod</li> <li>UnimplementedInterfaceMethod</li> <li>UnrecognizedExpression</li> <li>UnrecognizedStatement</li> <li>UnusedFunctionCall</li> <li>UnusedMethodCall</li> </ul>"},{"location":"running_psalm/error_levels/#7","title":"\u30ec\u30d9\u30eb7\u4ee5\u4e0b\u3067\u8868\u793a\u3055\u308c\u308b\u30a8\u30e9\u30fc","text":"<ul> <li>AbstractInstantiation</li> <li>AssignmentToVoid</li> <li>CircularReference</li> <li>ConflictingReferenceConstraint</li> <li>ContinueOutsideLoop</li> <li>InvalidOverride</li> <li>InvalidTypeImport</li> <li>MethodSignatureMismatch</li> <li>NonVariableReferenceReturn</li> <li>OverriddenMethodAccess</li> <li>ParamNameMismatch</li> <li>ReservedWord</li> <li>UnhandledMatchCondition</li> <li>UninitializedProperty</li> </ul>"},{"location":"running_psalm/error_levels/#6","title":"\u30ec\u30d9\u30eb6\u4ee5\u4e0b\u3067\u8868\u793a\u3055\u308c\u308b\u30a8\u30e9\u30fc","text":"<ul> <li>InvalidArgument</li> <li>InvalidArrayAccess</li> <li>InvalidArrayAssignment</li> <li>InvalidArrayOffset</li> <li>InvalidCast</li> <li>InvalidCatch</li> <li>InvalidClass</li> <li>InvalidClone</li> <li>InvalidFunctionCall</li> <li>InvalidIterator</li> <li>InvalidMethodCall</li> <li>InvalidNamedArgument</li> <li>InvalidPropertyAssignment</li> <li>InvalidPropertyAssignmentValue</li> <li>InvalidPropertyFetch</li> <li>InvalidReturnStatement</li> <li>InvalidReturnType</li> <li>InvalidTemplateParam</li> <li>NullArgument</li> <li>NullArrayOffset</li> <li>TooManyTemplateParams</li> <li>TraitMethodSignatureMismatch</li> <li>UndefinedMethod</li> <li>UndefinedPropertyAssignment</li> <li>UndefinedPropertyFetch</li> <li>UndefinedThisPropertyFetch</li> </ul>"},{"location":"running_psalm/error_levels/#5","title":"\u30ec\u30d9\u30eb5\u4ee5\u4e0b\u3067\u8868\u793a\u3055\u308c\u308b\u30a8\u30e9\u30fc","text":"<ul> <li>ConstructorSignatureMismatch</li> <li>FalsableReturnStatement</li> <li>InvalidNullableReturnType</li> <li>LessSpecificImplementedReturnType</li> <li>MoreSpecificImplementedParamType</li> <li>NullableReturnStatement</li> <li>UndefinedInterfaceMethod</li> <li>UndefinedThisPropertyAssignment</li> </ul>"},{"location":"running_psalm/error_levels/#4","title":"\u30ec\u30d9\u30eb4\u4ee5\u4e0b\u3067\u8868\u793a\u3055\u308c\u308b\u30a8\u30e9\u30fc","text":"<ul> <li>FalseOperand</li> <li>ForbiddenCode</li> <li>ImplementedParamTypeMismatch</li> <li>ImplementedReturnTypeMismatch</li> <li>ImplicitToStringCast</li> <li>InternalClass</li> <li>InternalMethod</li> <li>InternalProperty</li> <li>InvalidDocblock</li> <li>InvalidLiteralArgument</li> <li>InvalidOperand</li> <li>InvalidScalarArgument</li> <li>InvalidToString</li> <li>MismatchingDocblockParamType</li> <li>MismatchingDocblockReturnType</li> <li>MissingDocblockType</li> <li>NoInterfaceProperties</li> <li>PossibleRawObjectIteration</li> <li>RedundantCondition</li> <li>RedundantFunctionCall</li> <li>RedundantPropertyInitializationCheck</li> <li>StringIncrement</li> <li>TooManyArguments</li> <li>TypeDoesNotContainNull</li> <li>TypeDoesNotContainType</li> <li>UndefinedMagicMethod</li> <li>UndefinedMagicPropertyAssignment</li> <li>UndefinedMagicPropertyFetch</li> </ul>"},{"location":"running_psalm/error_levels/#3","title":"\u30ec\u30d9\u30eb3\u4ee5\u4e0b\u3067\u8868\u793a\u3055\u308c\u308b\u30a8\u30e9\u30fc","text":"<ul> <li>ArgumentTypeCoercion</li> <li>LessSpecificReturnStatement</li> <li>MoreSpecificReturnType</li> <li>PossiblyFalseArgument</li> <li>PossiblyFalseIterator</li> <li>PossiblyFalseOperand</li> <li>PossiblyFalsePropertyAssignmentValue</li> <li>PossiblyFalseReference</li> <li>PossiblyInvalidArgument</li> <li>PossiblyInvalidArrayAccess</li> <li>PossiblyInvalidArrayAssignment</li> <li>PossiblyInvalidArrayOffset</li> <li>PossiblyInvalidCast</li> <li>PossiblyInvalidClone</li> <li>PossiblyInvalidFunctionCall</li> <li>PossiblyInvalidIterator</li> <li>PossiblyInvalidMethodCall</li> <li>PossiblyInvalidOperand</li> <li>PossiblyInvalidPropertyAssignment</li> <li>PossiblyInvalidPropertyAssignmentValue</li> <li>PossiblyInvalidPropertyFetch</li> <li>PossiblyNullArgument</li> <li>PossiblyNullArrayAccess</li> <li>PossiblyNullArrayAssignment</li> <li>PossiblyNullArrayOffset</li> <li>PossiblyNullFunctionCall</li> <li>PossiblyNullIterator</li> <li>PossiblyNullPropertyAssignment</li> <li>PossiblyNullPropertyAssignmentValue</li> <li>PossiblyNullPropertyFetch</li> <li>PossiblyNullReference</li> <li>PossiblyUndefinedArrayOffset</li> <li>PossiblyUndefinedGlobalVariable</li> <li>PossiblyUndefinedMethod</li> <li>PossiblyUndefinedVariable</li> <li>PropertyTypeCoercion</li> <li>RiskyCast</li> </ul>"},{"location":"running_psalm/error_levels/#2","title":"\u30ec\u30d9\u30eb2\u4ee5\u4e0b\u3067\u8868\u793a\u3055\u308c\u308b\u30a8\u30e9\u30fc","text":"<ul> <li>DeprecatedClass</li> <li>DeprecatedConstant</li> <li>DeprecatedFunction</li> <li>DeprecatedInterface</li> <li>DeprecatedMethod</li> <li>DeprecatedProperty</li> <li>DeprecatedTrait</li> <li>DirectConstructorCall</li> <li>DocblockTypeContradiction</li> <li>InvalidDocblockParamName</li> <li>InvalidFalsableReturnType</li> <li>InvalidStringClass</li> <li>MissingClosureParamType</li> <li>MissingClosureReturnType</li> <li>MissingConstructor</li> <li>MissingParamType</li> <li>MissingPropertyType</li> <li>MissingReturnType</li> <li>NullOperand</li> <li>PrivateFinalMethod</li> <li>PropertyNotSetInConstructor</li> <li>RawObjectIteration</li> <li>RedundantConditionGivenDocblockType</li> <li>RedundantFunctionCallGivenDocblockType</li> <li>ReferenceConstraintViolation</li> <li>RiskyTruthyFalsyComparison</li> <li>UndefinedTrace</li> <li>UnresolvableInclude</li> <li>UnsafeInstantiation</li> </ul>"},{"location":"running_psalm/error_levels/#1","title":"\u30ec\u30d9\u30eb1\u3067\u306e\u307f\u8868\u793a\u3055\u308c\u308b\u30a8\u30e9\u30fc","text":"<ul> <li>LessSpecificReturnType</li> <li>MixedArgument</li> <li>MixedArgumentTypeCoercion</li> <li>MixedArrayAccess</li> <li>MixedArrayAssignment</li> <li>MixedArrayOffset</li> <li>MixedArrayTypeCoercion</li> <li>MixedAssignment</li> <li>MixedClone</li> <li>MixedFunctionCall</li> <li>MixedMethodCall</li> <li>MixedOperand</li> <li>MixedPropertyAssignment</li> <li>MixedPropertyFetch</li> <li>MixedPropertyTypeCoercion</li> <li>MixedReturnStatement</li> <li>MixedReturnTypeCoercion</li> <li>MixedStringOffsetAssignment</li> <li>MutableDependency</li> <li>PossiblyNullOperand</li> <li>RedundantIdentityWithTrue</li> <li>Trace</li> </ul>"},{"location":"running_psalm/error_levels/#_3","title":"\u6a5f\u80fd\u56fa\u6709\u306e\u30a8\u30e9\u30fc","text":"<ul> <li>MissingOverrideAttribute</li> <li>PossiblyUndefinedIntArrayOffset</li> <li>PossiblyUndefinedStringArrayOffset</li> <li>PossiblyUnusedMethod</li> <li>PossiblyUnusedParam</li> <li>PossiblyUnusedProperty</li> <li>TaintedCallable</li> <li>TaintedCookie</li> <li>TaintedCustom</li> <li>TaintedEval</li> <li>TaintedExtract</li> <li>TaintedFile</li> <li>TaintedHeader</li> <li>TaintedHtml</li> <li>TaintedInclude</li> <li>TaintedInput</li> <li>TaintedLdap</li> <li>TaintedShell</li> <li>TaintedSleep</li> <li>TaintedSql</li> <li>TaintedSSRF</li> <li>TaintedSystemSecret</li> <li>TaintedUnserialize</li> <li>TaintedUserSecret</li> <li>TaintedXpath</li> <li>UncaughtThrowInGlobalScope</li> <li>UnevaluatedCode</li> <li>UnnecessaryVarAnnotation</li> <li>UnusedClass</li> <li>UnusedClosureParam</li> <li>UnusedConstructor</li> <li>UnusedDocblockParam</li> <li>UnusedForeachValue</li> <li>UnusedMethod</li> <li>UnusedParam</li> <li>UnusedProperty</li> <li>UnusedPsalmSuppress</li> <li>UnusedVariable</li> </ul>"},{"location":"running_psalm/installation/","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<p>Psalm\u306e\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u306f\u3001PHP &gt;= 7.4\u3068Composer\u304c\u5fc5\u8981\u3067\u3059\u3002</p> <pre><code>composer require --dev vimeo/psalm\n</code></pre> <p>\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u751f\u6210\u3057\u307e\u3059\uff1a</p> <pre><code>./vendor/bin/psalm --init\n</code></pre> <p>Psalm\u306f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u30b9\u30ad\u30e3\u30f3\u3057\u3001\u30b3\u30fc\u30c9\u30d9\u30fc\u30b9\u306b\u9069\u5207\u306a\u30a8\u30e9\u30fc\u30ec\u30d9\u30eb\u3092\u6c7a\u5b9a\u3057\u307e\u3059\u3002</p> <p>\u305d\u3057\u3066\u3001Psalm\u3092\u5b9f\u884c\u3057\u307e\u3059\uff1a</p> <pre><code>./vendor/bin/psalm\n</code></pre> <p>Psalm\u306f\u304a\u305d\u3089\u304f\u3044\u304f\u3064\u304b\u306e\u554f\u984c\u3092\u898b\u3064\u3051\u308b\u3067\u3057\u3087\u3046 - \u305d\u308c\u3089\u306e\u5bfe\u51e6\u65b9\u6cd5\u306b\u3064\u3044\u3066\u306f\u30b3\u30fc\u30c9\u306e\u554f\u984c\u3078\u306e\u5bfe\u51e6\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"running_psalm/installation/#_2","title":"\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<p>Psalm\u306f\u69d8\u3005\u306a\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u4f7f\u7528\u3055\u308c\u308b\u578b\u3092\u305d\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3068docblock\u306b\u57fa\u3065\u3044\u3066\u628a\u63e1\u3067\u304d\u307e\u3059\u304c\u3001Psalm\u30d7\u30e9\u30b0\u30a4\u30f3\u306b\u3088\u3063\u3066\u63d0\u4f9b\u3055\u308c\u308b\u30ab\u30b9\u30bf\u30e0\u30e1\u30a4\u30c9\u306e\u578b\u3092\u4f7f\u7528\u3059\u308b\u3068\u3055\u3089\u306b\u52b9\u679c\u7684\u306b\u52d5\u4f5c\u3057\u307e\u3059\u3002</p> <p>Packagist\u306b\u3042\u308b\u65e2\u5b58\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u30ea\u30b9\u30c8\u3092\u30c1\u30a7\u30c3\u30af\u3057\u3066\u304f\u3060\u3055\u3044\u3002<code>composer require --dev &lt;plugin/package&gt; &amp;&amp; vendor/bin/psalm-plugin enable &lt;plugin/package&gt;</code>\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u307e\u3059\u3002</p> <p>\u30d7\u30e9\u30b0\u30a4\u30f3\u306b\u3064\u3044\u3066\u306e\u8a73\u7d30\u306f\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u4f7f\u7528\u306e\u7ae0\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"running_psalm/installation/#phar","title":"Phar\u306e\u4f7f\u7528","text":"<p>\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304cPsalm\u306e\u4f9d\u5b58\u95a2\u4fc2\u306e1\u3064\u4ee5\u4e0a\u3068\u7af6\u5408\u3059\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u306e\u5834\u5408\u3001Phar\uff08\u81ea\u5df1\u5b8c\u7d50\u578b\u306ePHP\u5b9f\u884c\u53ef\u80fd\u30d5\u30a1\u30a4\u30eb\uff09\u304c\u5f79\u7acb\u3064\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002</p> <p>Phar\u306fGithub\u304b\u3089\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>wget https://github.com/vimeo/psalm/releases/latest/download/psalm.phar\nchmod +x psalm.phar\n./psalm.phar --version\n</code></pre> <p>\u3042\u308b\u3044\u306f\u3001Composer\u3092\u4f7f\u7528\u3057\u3066Phar\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>composer require --dev psalm/phar\n</code></pre>"},{"location":"running_psalm/issues/","title":"\u554f\u984c\u306e\u7a2e\u985e","text":"<ul> <li>AbstractInstantiation</li> <li>AbstractMethodCall</li> <li>AmbiguousConstantInheritance</li> <li>ArgumentTypeCoercion</li> <li>AssignmentToVoid</li> <li>CheckType</li> <li>CircularReference</li> <li>ComplexFunction</li> <li>ComplexMethod</li> <li>ConfigIssue</li> <li>ConflictingReferenceConstraint</li> <li>ConstantDeclarationInTrait</li> <li>ConstructorSignatureMismatch</li> <li>ContinueOutsideLoop</li> <li>DeprecatedClass</li> <li>DeprecatedConstant</li> <li>DeprecatedFunction</li> <li>DeprecatedInterface</li> <li>DeprecatedMethod</li> <li>DeprecatedProperty</li> <li>DeprecatedTrait</li> <li>DirectConstructorCall</li> <li>DocblockTypeContradiction</li> <li>DuplicateArrayKey</li> <li>DuplicateClass</li> <li>DuplicateConstant</li> <li>DuplicateEnumCase</li> <li>DuplicateEnumCaseValue</li> <li>DuplicateFunction</li> <li>DuplicateMethod</li> <li>DuplicateParam</li> <li>DuplicateProperty</li> <li>EmptyArrayAccess</li> <li>ExtensionRequirementViolation</li> <li>FalsableReturnStatement</li> <li>FalseOperand</li> <li>ForbiddenCode</li> <li>IfThisIsMismatch</li> <li>ImplementationRequirementViolation</li> <li>ImplementedParamTypeMismatch</li> <li>ImplementedReturnTypeMismatch</li> <li>ImplicitToStringCast</li> <li>ImpureByReferenceAssignment</li> <li>ImpureFunctionCall</li> <li>ImpureMethodCall</li> <li>ImpurePropertyAssignment</li> <li>ImpurePropertyFetch</li> <li>ImpureStaticProperty</li> <li>ImpureStaticVariable</li> <li>ImpureVariable</li> <li>InaccessibleClassConstant</li> <li>InaccessibleMethod</li> <li>InaccessibleProperty</li> <li>InheritorViolation</li> <li>InterfaceInstantiation</li> <li>InternalClass</li> <li>InternalMethod</li> <li>InternalProperty</li> <li>InvalidArgument</li> <li>InvalidArrayAccess</li> <li>InvalidArrayAssignment</li> <li>InvalidArrayOffset</li> <li>InvalidAttribute</li> <li>InvalidCast</li> <li>InvalidCatch</li> <li>InvalidClass</li> <li>InvalidClassConstantType</li> <li>InvalidClone</li> <li>InvalidConstantAssignmentValue</li> <li>InvalidDocblock</li> <li>InvalidDocblockParamName</li> <li>InvalidEnumBackingType</li> <li>InvalidEnumCaseValue</li> <li>InvalidEnumMethod</li> <li>InvalidExtendClass</li> <li>InvalidFalsableReturnType</li> <li>InvalidFunctionCall</li> <li>InvalidGlobal</li> <li>InvalidInterfaceImplementation</li> <li>InvalidIterator</li> <li>InvalidLiteralArgument</li> <li>InvalidMethodCall</li> <li>InvalidNamedArgument</li> <li>InvalidNullableReturnType</li> <li>InvalidOperand</li> <li>InvalidOverride</li> <li>InvalidParamDefault</li> <li>InvalidParent</li> <li>InvalidPassByReference</li> <li>InvalidPropertyAssignment</li> <li>InvalidPropertyAssignmentValue</li> <li>InvalidPropertyFetch</li> <li>InvalidReturnStatement</li> <li>InvalidReturnType</li> <li>InvalidScalarArgument</li> <li>InvalidScope</li> <li>InvalidStaticInvocation</li> <li>InvalidStringClass</li> <li>InvalidTemplateParam</li> <li>InvalidThrow</li> <li>InvalidToString</li> <li>InvalidTraversableImplementation</li> <li>InvalidTypeImport</li> <li>LessSpecificClassConstantType</li> <li>LessSpecificImplementedReturnType</li> <li>LessSpecificReturnStatement</li> <li>LessSpecificReturnType</li> <li>LoopInvalidation</li> <li>MethodSignatureMismatch</li> <li>MethodSignatureMustOmitReturnType</li> <li>MethodSignatureMustProvideReturnType</li> <li>MismatchingDocblockParamType</li> <li>MismatchingDocblockPropertyType</li> <li>MismatchingDocblockReturnType</li> <li>MissingClosureParamType</li> <li>MissingClosureReturnType</li> <li>MissingConstructor</li> <li>MissingDependency</li> <li>MissingDocblockType</li> <li>MissingFile</li> <li>MissingImmutableAnnotation</li> <li>MissingOverrideAttribute</li> <li>MissingParamType</li> <li>MissingPropertyType</li> <li>MissingReturnType</li> <li>MissingTemplateParam</li> <li>MissingThrowsDocblock</li> <li>MixedArgument</li> <li>MixedArgumentTypeCoercion</li> <li>MixedArrayAccess</li> <li>MixedArrayAssignment</li> <li>MixedArrayOffset</li> <li>MixedArrayTypeCoercion</li> <li>MixedAssignment</li> <li>MixedClone</li> <li>MixedFunctionCall</li> <li>MixedMethodCall</li> <li>MixedOperand</li> <li>MixedPropertyAssignment</li> <li>MixedPropertyFetch</li> <li>MixedPropertyTypeCoercion</li> <li>MixedReturnStatement</li> <li>MixedReturnTypeCoercion</li> <li>MixedStringOffsetAssignment</li> <li>MoreSpecificImplementedParamType</li> <li>MoreSpecificReturnType</li> <li>MutableDependency</li> <li>NamedArgumentNotAllowed</li> <li>NoEnumProperties</li> <li>NoInterfaceProperties</li> <li>NonInvariantDocblockPropertyType</li> <li>NonInvariantPropertyType</li> <li>NonStaticSelfCall</li> <li>NonVariableReferenceReturn</li> <li>NoValue</li> <li>NullableReturnStatement</li> <li>NullArgument</li> <li>NullArrayAccess</li> <li>NullArrayOffset</li> <li>NullFunctionCall</li> <li>NullIterator</li> <li>NullOperand</li> <li>NullPropertyAssignment</li> <li>NullPropertyFetch</li> <li>NullReference</li> <li>OverriddenFinalConstant</li> <li>OverriddenInterfaceConstant</li> <li>OverriddenMethodAccess</li> <li>OverriddenPropertyAccess</li> <li>ParadoxicalCondition</li> <li>ParamNameMismatch</li> <li>ParentNotFound</li> <li>ParseError</li> <li>PluginIssue</li> <li>PossibleRawObjectIteration</li> <li>PossiblyFalseArgument</li> <li>PossiblyFalseIterator</li> <li>PossiblyFalseOperand</li> <li>PossiblyFalsePropertyAssignmentValue</li> <li>PossiblyFalseReference</li> <li>PossiblyInvalidArgument</li> <li>PossiblyInvalidArrayAccess</li> <li>PossiblyInvalidArrayAssignment</li> <li>PossiblyInvalidArrayOffset</li> <li>PossiblyInvalidCast</li> <li>PossiblyInvalidClone</li> <li>PossiblyInvalidDocblockTag</li> <li>PossiblyInvalidFunctionCall</li> <li>PossiblyInvalidIterator</li> <li>PossiblyInvalidMethodCall</li> <li>PossiblyInvalidOperand</li> <li>PossiblyInvalidPropertyAssignment</li> <li>PossiblyInvalidPropertyAssignmentValue</li> <li>PossiblyInvalidPropertyFetch</li> <li>PossiblyNullArgument</li> <li>PossiblyNullArrayAccess</li> <li>PossiblyNullArrayAssignment</li> <li>PossiblyNullArrayOffset</li> <li>PossiblyNullFunctionCall</li> <li>PossiblyNullIterator</li> <li>PossiblyNullOperand</li> <li>PossiblyNullPropertyAssignment</li> <li>PossiblyNullPropertyAssignmentValue</li> <li>PossiblyNullPropertyFetch</li> <li>PossiblyNullReference</li> <li>PossiblyUndefinedArrayOffset</li> <li>PossiblyUndefinedGlobalVariable</li> <li>PossiblyUndefinedIntArrayOffset</li> <li>PossiblyUndefinedMethod</li> <li>PossiblyUndefinedStringArrayOffset</li> <li>PossiblyUndefinedVariable</li> <li>PossiblyUnusedMethod</li> <li>PossiblyUnusedParam</li> <li>PossiblyUnusedProperty</li> <li>PossiblyUnusedReturnValue</li> <li>PrivateFinalMethod</li> <li>PropertyNotSetInConstructor</li> <li>PropertyTypeCoercion</li> <li>RawObjectIteration</li> <li>RedundantCast</li> <li>RedundantCastGivenDocblockType</li> <li>RedundantCondition</li> <li>RedundantConditionGivenDocblockType</li> <li>RedundantFlag</li> <li>RedundantFunctionCall</li> <li>RedundantFunctionCallGivenDocblockType</li> <li>RedundantIdentityWithTrue</li> <li>RedundantPropertyInitializationCheck</li> <li>ReferenceConstraintViolation</li> <li>ReferenceReusedFromConfusingScope</li> <li>ReservedWord</li> <li>RiskyCast</li> <li>RiskyTruthyFalsyComparison</li> <li>StringIncrement</li> <li>TaintedCallable</li> <li>TaintedCookie</li> <li>TaintedCustom</li> <li>TaintedEval</li> <li>TaintedExtract</li> <li>TaintedFile</li> <li>TaintedHeader</li> <li>TaintedHtml</li> <li>TaintedInclude</li> <li>TaintedInput</li> <li>TaintedLdap</li> <li>TaintedShell</li> <li>TaintedSleep</li> <li>TaintedSql</li> <li>TaintedSSRF</li> <li>TaintedSystemSecret</li> <li>TaintedTextWithQuotes</li> <li>TaintedUnserialize</li> <li>TaintedUserSecret</li> <li>TaintedXpath</li> <li>TooFewArguments</li> <li>TooManyArguments</li> <li>TooManyTemplateParams</li> <li>Trace</li> <li>TraitMethodSignatureMismatch</li> <li>TypeDoesNotContainNull</li> <li>TypeDoesNotContainType</li> <li>UncaughtThrowInGlobalScope</li> <li>UndefinedAttributeClass</li> <li>UndefinedClass</li> <li>UndefinedConstant</li> <li>UndefinedDocblockClass</li> <li>UndefinedFunction</li> <li>UndefinedGlobalVariable</li> <li>UndefinedInterface</li> <li>UndefinedInterfaceMethod</li> <li>UndefinedMagicMethod</li> <li>UndefinedMagicPropertyAssignment</li> <li>UndefinedMagicPropertyFetch</li> <li>UndefinedMethod</li> <li>UndefinedPropertyAssignment</li> <li>UndefinedPropertyFetch</li> <li>UndefinedThisPropertyAssignment</li> <li>UndefinedThisPropertyFetch</li> <li>UndefinedTrace</li> <li>UndefinedTrait</li> <li>UndefinedVariable</li> <li>UnevaluatedCode</li> <li>UnhandledMatchCondition</li> <li>UnimplementedAbstractMethod</li> <li>UnimplementedInterfaceMethod</li> <li>UninitializedProperty</li> <li>UnnecessaryVarAnnotation</li> <li>UnrecognizedExpression</li> <li>UnrecognizedStatement</li> <li>UnresolvableConstant</li> <li>UnresolvableInclude</li> <li>UnsafeGenericInstantiation</li> <li>UnsafeInstantiation</li> <li>UnsupportedPropertyReferenceUsage</li> <li>UnsupportedReferenceUsage</li> <li>UnusedBaselineEntry</li> <li>UnusedClass</li> <li>UnusedClosureParam</li> <li>UnusedConstructor</li> <li>UnusedDocblockParam</li> <li>UnusedForeachValue</li> <li>UnusedFunctionCall</li> <li>UnusedIssueHandlerSuppression</li> <li>UnusedMethod</li> <li>UnusedMethodCall</li> <li>UnusedParam</li> <li>UnusedProperty</li> <li>UnusedPsalmSuppress</li> <li>UnusedReturnValue</li> <li>UnusedVariable</li> </ul>"},{"location":"running_psalm/language_server/","title":"Psalm\u306e\u8a00\u8a9e\u30b5\u30fc\u30d0\u30fc\u306e\u4f7f\u7528","text":"<p>Psalm\u306b\u306f\u8a00\u8a9e\u30b5\u30fc\u30d0\u30fc\u4e92\u63db\u6027\u30b5\u30dd\u30fc\u30c8\u304c\u7d44\u307f\u8fbc\u307e\u308c\u3066\u304a\u308a\u3001\u304a\u6c17\u306b\u5165\u308a\u306eIDE\u3067\u5b9f\u884c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002 \u73fe\u5728\u3001\u8a3a\u65ad\uff08\u30a8\u30e9\u30fc\u3068\u8b66\u544a\u306e\u691c\u51fa\uff09\u3001\u5b9a\u7fa9\u3078\u306e\u30b8\u30e3\u30f3\u30d7\u3001\u30db\u30d0\u30fc\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u304a\u308a\u3001\u30aa\u30fc\u30c8\u30b3\u30f3\u30d7\u30ea\u30fc\u30c8\u3082\u9650\u5b9a\u7684\u306b\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\uff08PR\u3092\u6b53\u8fce\u3057\u307e\u3059\uff01\uff09\u3002 \u69d8\u3005\u306a\u30a8\u30c7\u30a3\u30bf\u3067\u826f\u597d\u306b\u52d5\u4f5c\u3057\u307e\u3059\uff08\u30a2\u30eb\u30d5\u30a1\u30d9\u30c3\u30c8\u9806\uff09\uff1a</p>"},{"location":"running_psalm/language_server/#_1","title":"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a2d\u5b9a","text":""},{"location":"running_psalm/language_server/#emacs","title":"Emacs","text":"<p>eglot\u3067\u52d5\u4f5c\u78ba\u8a8d\u3057\u307e\u3057\u305f\u3002 \u4ee5\u4e0b\u306f\u4f7f\u7528\u3057\u305f\u8a2d\u5b9a\u3067\u3059\uff1a</p> <pre><code>(when (file-exists-p \"vendor/bin/psalm-language-server\")\n  (progn\n    (require 'php-mode)\n    (require 'eglot)\n    (add-to-list 'eglot-server-programs '(php-mode . (\"php\" \"vendor/bin/psalm-language-server\")))\n    (add-hook 'php-mode-hook 'eglot-ensure)\n    (advice-add 'eglot-eldoc-function :around\n                (lambda (oldfun)\n                  (let ((help (help-at-pt-kbd-string)))\n                    (if help (message \"%s\" help) (funcall oldfun)))))\n    )\n  )\n</code></pre>"},{"location":"running_psalm/language_server/#phpstorm","title":"PhpStorm","text":""},{"location":"running_psalm/language_server/#_2","title":"\u30cd\u30a4\u30c6\u30a3\u30d6\u30b5\u30dd\u30fc\u30c8","text":"<p>PhpStorm 2020.3\u4ee5\u964d\u3001psalm\u306e\u30b5\u30dd\u30fc\u30c8\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u6709\u52b9\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002\u8a73\u7d30\u306f\u3053\u3061\u3089\u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"running_psalm/language_server/#lsp","title":"LSP\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408","text":"<p>alternatively\u3001psalm\u306f<code>gtache/intellij-lsp</code>\u30d7\u30e9\u30b0\u30a4\u30f3\uff08Jetbrains\u627f\u8a8d\u7248\u3001\u6700\u65b0\u7248\uff09\u3067\u52d5\u4f5c\u3057\u307e\u3059\u3002\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u306fGUI\u3067\u884c\u3044\u307e\u3059\u3002</p> <p>\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3068\u3001\"Languages &amp; Frameworks\"\u30bf\u30d6\u306e\u4e0b\u306b\"Language Server Protocol\"\u30bb\u30af\u30b7\u30e7\u30f3\u304c\u8868\u793a\u3055\u308c\u308b\u306f\u305a\u3067\u3059\u3002 \"Server definitions\"\u30bf\u30d6\u3067Psalm\u306e\u5b9a\u7fa9\u3092\u8ffd\u52a0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\uff1a - <code>Executable</code>\u3092\u9078\u629e - \u62e1\u5f35\u5b50\uff1a<code>php</code> - \u30d1\u30b9\uff1a<code>&lt;PHP\u30d0\u30a4\u30ca\u30ea\u3078\u306e\u30d1\u30b9&gt;</code> \u4f8b\uff1a<code>/usr/local/bin/php</code>\u307e\u305f\u306f<code>C:\\php\\php.exe</code>     - \u3053\u308c\u306f\u7d76\u5bfe\u30d1\u30b9\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308a\u3001\u5358\u306b<code>php</code>\u3067\u306f\u3044\u3051\u307e\u305b\u3093 - \u5f15\u6570\uff1a<code>vendor/bin/psalm-language-server</code>\uff08Windows\u306e\u5834\u5408\u306f<code>vendor/vimeo/psalm/psalm-language-server</code>\u3001\u307e\u305f\u306f'\u30b0\u30ed\u30fc\u30d0\u30eb'\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306e\u5834\u5408\u306f'%APPDATA%' + <code>\\Composer\\vendor\\vimeo\\psalm\\psalm-language-server</code>\u3001'%APPDATA%'\u74b0\u5883\u5909\u6570\u306f\u901a\u5e38<code>C:\\Users\\&lt;homedir&gt;\\AppData\\Roaming\\</code>\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\uff09</p> <p>\"Timeouts\"\u30bf\u30d6\u3067\u521d\u671f\u5316\u30bf\u30a4\u30e0\u30a2\u30a6\u30c8\u3092\u8abf\u6574\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306f\u5927\u898f\u6a21\u306a\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c\u3042\u308b\u5834\u5408\u306b\u91cd\u8981\u3067\u3059\u3002\"Init\"\u306e\u5024\u3092\u3001Psalm\u304c\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u5168\u4f53\u3068\u305d\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u30b9\u30ad\u30e3\u30f3\u3059\u308b\u3053\u3068\u3092\u8a31\u53ef\u3059\u308b\u30df\u30ea\u79d2\u6570\u306b\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u5927\u898f\u6a21\u306aPHP\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u4f7f\u7528\u3059\u308b\u3044\u304f\u3064\u304b\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u958b\u304f\u5834\u5408\u3001\u9ad8\u6027\u80fd\u306e\u30d3\u30b8\u30cd\u30b9\u30e9\u30c3\u30d7\u30c8\u30c3\u30d7\u3067\u3001Init\u306b<code>240000</code>\u30df\u30ea\u79d2\u3092\u8a66\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"running_psalm/language_server/#sublime-text","title":"Sublime Text","text":"<p>\u512a\u308c\u305fSublime\u306eLSP\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u3067\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\uff08Package Settings &gt; LSP &gt; Settings\uff09\uff1a</p> <pre><code>    \"clients\": {\n        \"psalm\": {\n            \"command\": [\"php\", \"vendor/bin/psalm-language-server\"],\n            \"selector\": \"source.php | embedding.php\",\n            \"enabled\": true\n        }\n    }\n</code></pre>"},{"location":"running_psalm/language_server/#vim-neovim","title":"Vim &amp; Neovim","text":"<p>ALE</p> <p>ALE\u306fPsalm\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\uff08v2.3.0\u4ee5\u964d\uff09\u3002</p> <pre><code>let g:ale_linters = { 'php': ['php', 'psalm'] }\n</code></pre> <p>vim-lsp</p> <p>vim-lsp\u3067\u3082\u52d5\u4f5c\u78ba\u8a8d\u3057\u307e\u3057\u305f\u3002 \u4ee5\u4e0b\u306f\u4f7f\u7528\u3057\u305f\u8a2d\u5b9a\u3067\u3059\uff08Vim\u7528\uff09\uff1a</p> <pre><code>au User lsp_setup call lsp#register_server({\n     \\ 'name': 'psalm-language-server',\n     \\ 'cmd': {server_info-&gt;[expand('vendor/bin/psalm-language-server')]},\n     \\ 'allowlist': ['php'],\n     \\ })\n</code></pre> <p>coc.nvim</p> <p>coc.nvim\u3067\u3082\u52d5\u4f5c\u3057\u307e\u3059\u3002 <code>coc-settings.json</code>\u306b\u4ee5\u4e0b\u306e\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\uff1a</p> <pre><code>  \"languageserver\": {\n    \"psalmls\": {\n      \"command\": \"vendor/bin/psalm-language-server\",\n      \"filetypes\": [\"php\"],\n      \"rootPatterns\": [\"psalm.xml\", \"psalm.xml.dist\"],\n      \"requireRootPattern\": true\n    }\n  }\n</code></pre>"},{"location":"running_psalm/language_server/#vs-code","title":"VS Code","text":"<p>Psalm\u30d7\u30e9\u30b0\u30a4\u30f3\u306f\u3053\u3061\u3089\u304b\u3089\u5165\u624b\u3067\u304d\u307e\u3059\uff08VS Code 1.26\u4ee5\u964d\u304c\u5fc5\u8981\uff09\uff1a</p>"},{"location":"running_psalm/language_server/#docker","title":"Docker\u30b3\u30f3\u30c6\u30ca\u3067\u30b5\u30fc\u30d0\u30fc\u3092\u5b9f\u884c\u3059\u308b","text":"<p><code>--map-folder</code>\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u5fc5\u305a\u4f7f\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u5f15\u6570\u306a\u3057\u3067\u4f7f\u7528\u3059\u308b\u3068\u3001\u30b5\u30fc\u30d0\u30fc\u306eCWD\u3092\u30db\u30b9\u30c8\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u30eb\u30fc\u30c8\u30d5\u30a9\u30eb\u30c0\u306b\u30de\u30c3\u30d4\u30f3\u30b0\u3057\u307e\u3059\u3002\u30ab\u30b9\u30bf\u30e0\u30de\u30c3\u30d4\u30f3\u30b0\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u4f8b\uff1a</p> <pre><code>docker-compose exec php /usr/share/php/psalm/psalm-language-server \\\n   -r=/var/www/html \\\n   --map-folder=/var/www/html:$PWD\n</code></pre>"},{"location":"running_psalm/issues/AbstractMethodCall/","title":"AbstractMethodCall","text":"<p>\u62bd\u8c61\u7684\u306a\u9759\u7684\u30e1\u30bd\u30c3\u30c9\u3092\u76f4\u63a5\u547c\u3073\u51fa\u305d\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nabstract class Base {\n    abstract static function bar() : void;\n}\n\nBase::bar();\n</code></pre>"},{"location":"running_psalm/issues/AbstractMethodCall/#_1","title":"\u306a\u305c\u3053\u308c\u304c\u554f\u984c\u306a\u306e\u304b","text":"<p>PHP\u3067\u306f\u8a31\u53ef\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002</p>"},{"location":"running_psalm/issues/AmbiguousConstantInheritance/","title":"AmbiguousConstantInheritance","text":"<p>\u5b9a\u6570\u304c\u8907\u6570\u306e\u30bd\u30fc\u30b9\u304b\u3089\u7d99\u627f\u3055\u308c\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\ninterface Foo {\n    /** @var non-empty-string */\n    public const CONSTANT='foo';\n}\n\ninterface Bar {\n    /**\n     * @var non-empty-string\n     */\n    public const CONSTANT='bar';\n}\n\ninterface Baz extends Foo, Bar {}\n</code></pre> <pre><code>&lt;?php\ninterface Foo {\n    /** @var non-empty-string */\n    public const CONSTANT='foo';\n}\n\nclass Bar {\n    /** @var non-empty-string */\n    public const CONSTANT='bar';\n}\n\nclass Baz extends Bar implements Foo {}\n</code></pre>"},{"location":"running_psalm/issues/ArgumentTypeCoercion/","title":"ArgumentTypeCoercion","text":"<p>\u95a2\u6570\u306e\u30b7\u30b0\u30cd\u30c1\u30e3\u3084docblock\u306e\u578b\u3088\u308a\u3082\u5177\u4f53\u7684\u3067\u306a\u3044\u578b\u306e\u5f15\u6570\u3092\u95a2\u6570\u306b\u6e21\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {}\nclass B extends A {}\n\nfunction foo(A $a) : void {\n    takesB($a);\n}\n\nfunction takesB(B $b) : void {}\n</code></pre>"},{"location":"running_psalm/issues/ArgumentTypeCoercion/#_1","title":"\u306a\u305c\u3053\u308c\u304c\u554f\u984c\u306a\u306e\u304b","text":"<p>\u4e0d\u6b63\u306a\u5024\u3067\u95a2\u6570\u3092\u547c\u3073\u51fa\u3059\u3068\u3001\u5b9f\u884c\u6642\u306b\u81f4\u547d\u7684\u306a\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3059\u3002</p>"},{"location":"running_psalm/issues/ArgumentTypeCoercion/#_2","title":"\u4fee\u6b63\u65b9\u6cd5","text":"<p><code>takesB</code>\u306e\u547c\u3073\u51fa\u3057\u306e\u524d\u306b\u578b\u30c1\u30a7\u30c3\u30af\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>&lt;?php\nfunction foo(A $a) : void {\n    if ($a instanceof B) {\n        takesB($a);\n    }\n}\n</code></pre> <p>\u307e\u305f\u306f\u3001<code>foo</code>\u306e\u95a2\u6570\u30b7\u30b0\u30cd\u30c1\u30e3\u3092\u5909\u66f4\u3059\u308b\u6a29\u9650\u304c\u3042\u308b\u5834\u5408\u306f\u3001<code>B</code>\u3092\u671f\u5f85\u3059\u308b\u3088\u3046\u306b\u5909\u66f4\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>&lt;?php\nfunction foo(B $a) : void {\n    takesB($a);\n}\n</code></pre>"},{"location":"running_psalm/issues/AssignmentToVoid/","title":"AssignmentToVoid","text":"<p><code>void</code>\u3092\u8fd4\u3059\u95a2\u6570\u304b\u3089\u4ee3\u5165\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\uff1a</p> <pre><code>&lt;?php\nfunction foo() : void {}\n$a = foo();\n</code></pre>"},{"location":"running_psalm/issues/AssignmentToVoid/#_1","title":"\u306a\u305c\u3053\u308c\u304c\u554f\u984c\u306a\u306e\u304b","text":"<p><code>void</code>\u3092\u8fd4\u3059\u95a2\u6570\u306fPHP\u3067\u306f<code>null</code>\u3092\u8fd4\u3059\u3082\u306e\u3068\u3057\u3066\u6271\u308f\u308c\u307e\u3059\u304c\uff08\u305d\u306e\u305f\u3081\u3001\u3053\u308c\u81ea\u4f53\u306f\u30e9\u30f3\u30bf\u30a4\u30e0\u30a8\u30e9\u30fc\u306b\u306f\u3064\u306a\u304c\u308a\u307e\u305b\u3093\uff09\u3001<code>void</code>\u306f\u30d7\u30ed\u30b0\u30e9\u30df\u30f3\u30b0\u8a00\u8a9e\u5168\u822c\u3067\u4ee3\u5165\u76ee\u7684\u3067\u8a2d\u8a08\u3055\u308c\u3066\u3044\u306a\u3044\u6982\u5ff5\u3067\u3059\u3002</p>"},{"location":"running_psalm/issues/AssignmentToVoid/#_2","title":"\u4fee\u6b63\u65b9\u6cd5","text":"<p>\u4ee3\u5165\u3092\u5b8c\u5168\u306b\u524a\u9664\u3059\u308b\u3060\u3051\u3067\u4fee\u6b63\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>&lt;?php\nfunction foo() : void {}\nfoo();\n</code></pre>"},{"location":"running_psalm/issues/CircularReference/","title":"CircularReference","text":"<p>\u30af\u30e9\u30b9\u304c\u81ea\u8eab\u3092\u89aa\u306e1\u3064\u3068\u3057\u3066\u53c2\u7167\u3057\u3066\u3044\u308b\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A extends B {}\nclass B extends A {}\n</code></pre>"},{"location":"running_psalm/issues/CircularReference/#_1","title":"\u306a\u305c\u3053\u308c\u304c\u554f\u984c\u306a\u306e\u304b","text":"<p>\u4e0a\u8a18\u306e\u30b3\u30fc\u30c9\u306f\u30b3\u30f3\u30d1\u30a4\u30eb\u3055\u308c\u307e\u305b\u3093\u3002</p>"},{"location":"running_psalm/issues/ComplexFunction/","title":"ComplexFunction","text":"<p>\u95a2\u6570\u304c\u8907\u96d1\u3059\u304e\u308b\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002\u8907\u96d1\u306a\u95a2\u6570\u306f\u5206\u5272\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"running_psalm/issues/ConfigIssue/","title":"ConfigIssue","text":"<p>\u81f4\u547d\u7684\u3067\u306f\u306a\u3044\u8a2d\u5b9a\u306e\u554f\u984c\uff08\u4f8b\uff1a\u975e\u63a8\u5968\u306e\u8a2d\u5b9a\u30b9\u30a4\u30c3\u30c1\u306a\u3069\uff09\u306b\u5bfe\u3057\u3066\u767a\u751f\u3057\u307e\u3059\u3002</p>"},{"location":"running_psalm/issues/ConfigIssue/#_1","title":"\u306a\u305c\u3053\u308c\u304c\u554f\u984c\u306a\u306e\u304b","text":"<p>\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304c\u5c06\u6765\u306ePsalm\u30d0\u30fc\u30b8\u30e7\u30f3\u3068\u4e92\u63db\u6027\u304c\u306a\u304f\u306a\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"running_psalm/issues/ConflictingReferenceConstraint/","title":"ConflictingReferenceConstraint","text":"<p>\u53c2\u7167\u6e21\u3057\u5909\u6570\u304c\u3001if\u306e\u7570\u306a\u308b\u30d6\u30e9\u30f3\u30c1\u3067\u7570\u306a\u308b\u578b\u306b\u8a2d\u5b9a\u3055\u308c\u308b\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {\n    /** @var int */\n    private $foo;\n    public function __construct(int &amp;$foo) {\n        $this-&gt;foo = &amp;$foo;\n    }\n}\n\nclass B {\n    /** @var string */\n    private $bar;\n    public function __construct(string &amp;$bar) {\n        $this-&gt;bar = &amp;$bar;\n    }\n}\n\nif (rand(0, 1)) {\n    $v = 5;\n    $c = (new A($v)); // $v\u306fint\u306b\u5236\u7d04\u3055\u308c\u307e\u3059\n} else {\n    $v = \"hello\";\n    $c = (new B($v)); // $v\u306fstring\u306b\u5236\u7d04\u3055\u308c\u307e\u3059\n}\n\n$v = 8;\n</code></pre>"},{"location":"running_psalm/issues/ConflictingReferenceConstraint/#_1","title":"\u306a\u305c\u3053\u308c\u304c\u554f\u984c\u306a\u306e\u304b","text":"<p>Psalm\u306f<code>$c</code>\u306e\u578b\u304c\u3069\u3046\u3042\u308b\u3079\u304d\u304b\u3092\u7406\u89e3\u3067\u304d\u307e\u305b\u3093\u3002</p>"},{"location":"running_psalm/issues/ConstructorSignatureMismatch/","title":"ConstructorSignatureMismatch","text":"<p>\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u89aa\u30af\u30e9\u30b9\u306e\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3068\u7570\u306a\u308b\u5834\u5408\u3001\u307e\u305f\u306f\u89aa\u30af\u30e9\u30b9\u306e\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3088\u308a\u3082\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u5c11\u306a\u3044\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u89aa\u30af\u30e9\u30b9\u306b<code>@psalm-consistent-constructor</code>\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u304c\u3042\u308b\u5834\u5408\u306b\u9650\u308a\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/** \n * @psalm-consistent-constructor \n */\nclass A {\n    public function __construct(int $i) {}\n}\n\nclass B extends A {\n    public function __construct(string $s) {}\n}\n</code></pre>"},{"location":"running_psalm/issues/ContinueOutsideLoop/","title":"ContinueOutsideLoop","text":"<p>\u30eb\u30fc\u30d7\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u5916\u3067<code>continue</code>\u6587\u306b\u906d\u9047\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n$a = 5;\ncontinue;\n</code></pre>"},{"location":"running_psalm/issues/ContinueOutsideLoop/#_1","title":"\u306a\u305c\u3053\u308c\u304c\u554f\u984c\u306a\u306e\u304b","text":"<p>\u3053\u306e\u30b3\u30fc\u30c9\u306fPHP 5.6\u4ee5\u4e0a\u3067\u306f\u30b3\u30f3\u30d1\u30a4\u30eb\u3055\u308c\u307e\u305b\u3093\u3002</p>"},{"location":"running_psalm/issues/DeprecatedClass/","title":"DeprecatedClass","text":"<p>\u975e\u63a8\u5968\u306e\u30af\u30e9\u30b9\u3092\u53c2\u7167\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\uff1a</p> <pre><code>&lt;?php\n/** @deprecated */\nclass A {}\nnew A();\n</code></pre>"},{"location":"running_psalm/issues/DeprecatedClass/#_1","title":"\u306a\u305c\u3053\u308c\u304c\u554f\u984c\u306a\u306e\u304b","text":"<p><code>@deprecated</code>\u30bf\u30b0\u306f\u901a\u5e38\u3001\u8fd1\u3044\u5c06\u6765\u306b\u52d5\u4f5c\u3057\u306a\u304f\u306a\u308b\u30b3\u30fc\u30c9\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"running_psalm/issues/DeprecatedClass/#_2","title":"\u4fee\u6b63\u65b9\u6cd5","text":"<p>\u975e\u63a8\u5968\u306e\u30af\u30e9\u30b9\u3092\u4f7f\u7528\u3057\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"running_psalm/issues/DeprecatedInterface/","title":"DeprecatedInterface","text":"<p>\u975e\u63a8\u5968\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u53c2\u7167\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/** @deprecated */\ninterface I {}\nclass A implements I {}\n</code></pre>"},{"location":"running_psalm/issues/DeprecatedInterface/#_1","title":"\u306a\u305c\u3053\u308c\u304c\u554f\u984c\u306a\u306e\u304b","text":"<p><code>@deprecated</code>\u30bf\u30b0\u306f\u901a\u5e38\u3001\u8fd1\u3044\u5c06\u6765\u306b\u52d5\u4f5c\u3057\u306a\u304f\u306a\u308b\u30b3\u30fc\u30c9\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"running_psalm/issues/DeprecatedInterface/#_2","title":"\u4fee\u6b63\u65b9\u6cd5","text":"<p>\u975e\u63a8\u5968\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u4f7f\u7528\u3057\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"running_psalm/issues/DeprecatedProperty/","title":"DeprecatedProperty","text":"<p>\u7279\u5b9a\u306e\u30af\u30e9\u30b9\u306e\u975e\u63a8\u5968\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u53d6\u5f97/\u8a2d\u5b9a\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {\n    /**\n     * @deprecated\n     * @var ?string\n     */\n    public $foo;\n}\n\n(new A())-&gt;foo = 5;\n</code></pre>"},{"location":"running_psalm/issues/DeprecatedProperty/#_1","title":"\u306a\u305c\u3053\u308c\u304c\u554f\u984c\u306a\u306e\u304b","text":"<p><code>@deprecated</code>\u30bf\u30b0\u306f\u901a\u5e38\u3001\u8fd1\u3044\u5c06\u6765\u306b\u52d5\u4f5c\u3057\u306a\u304f\u306a\u308b\u30b3\u30fc\u30c9\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"running_psalm/issues/DeprecatedProperty/#_2","title":"\u4fee\u6b63\u65b9\u6cd5","text":"<p>\u975e\u63a8\u5968\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u4f7f\u7528\u3057\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"running_psalm/issues/DuplicateArrayKey/","title":"DuplicateArrayKey","text":"<p>\u914d\u5217\u306b\u540c\u3058\u30ad\u30fc\u304c\u8907\u6570\u56de\u3042\u308b\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n$arr = [\n    'a' =&gt; 'one',\n    'b' =&gt; 'two',\n    'c' =&gt; '\u3053\u306e\u30c6\u30ad\u30b9\u30c8\u306f\u6b21\u306e\u884c\u3067\u4e0a\u66f8\u304d\u3055\u308c\u307e\u3059',\n    'c' =&gt; 'three',\n];\n</code></pre> <p>\u3053\u308c\u306f\u3001<code>@no-named-arguments</code>\u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u3001\u53ef\u5909\u5f15\u6570\u306b\u3088\u3063\u3066\u5f15\u304d\u8d77\u3053\u3055\u308c\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\uff1a</p> <pre><code>&lt;?php\nfunction foo($bar, ...$baz): array {\n    return [$bar, ...$baz]; // $baz\u306f\u540d\u524d\u4ed8\u304d\u5f15\u6570\u3092\u6301\u3064\u53ef\u80fd\u6027\u304c\u3042\u308b\u305f\u3081\u3001array&lt;array-key, mixed&gt;\u3067\u3059\n}\n</code></pre>"},{"location":"running_psalm/issues/DuplicateArrayKey/#_1","title":"\u4fee\u6b63\u65b9\u6cd5","text":"<p>\u554f\u984c\u306e\u3042\u308b\u91cd\u8907\u3092\u524a\u9664\u3057\u307e\u3059\uff1a</p> <pre><code>&lt;?php\n$arr = [\n    'a' =&gt; 'one',\n    'b' =&gt; 'two',\n    'c' =&gt; 'three',\n];\n</code></pre> <p>\u6700\u521d\u306b\u4e00\u81f4\u3059\u308b'c'\u30ad\u30fc\u3092\u524a\u9664\u3057\u3066\u3001\u52d5\u4f5c\u306e\u5909\u66f4\u3092\u9632\u304e\u307e\u3057\u305f\uff08\u65b0\u3057\u3044\u91cd\u8907\u30ad\u30fc\u306f\u4ee5\u524d\u306e\u5024\u3092\u4e0a\u66f8\u304d\u3057\u307e\u3059\uff09\u3002</p>"},{"location":"running_psalm/issues/DuplicateClass/","title":"DuplicateClass","text":"<p>\u30af\u30e9\u30b9\u304c2\u56de\u5b9a\u7fa9\u3055\u308c\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {}\nclass A {}\n</code></pre>"},{"location":"running_psalm/issues/DuplicateClass/#_1","title":"\u306a\u305c\u3053\u308c\u304c\u554f\u984c\u306a\u306e\u304b","text":"<p>\u4e0a\u8a18\u306e\u30b3\u30fc\u30c9\u306f\u30b3\u30f3\u30d1\u30a4\u30eb\u3055\u308c\u307e\u305b\u3093\u3002</p> <p>PHP\u3067\u306f\u6761\u4ef6\u4ed8\u304d\u3067\u30af\u30e9\u30b9\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u306f\u53ef\u80fd\u3067\u3059\uff1a</p> <pre><code>&lt;?php\nif (rand(0, 1)) {\n    class A {\n        public function __construct(string $s) {}\n    }\n} else {\n    class A {\n        public function __construct(object $o) {}\n    }\n}\n</code></pre> <p>\u3057\u304b\u3057\u3001Psalm\u306f\u3053\u306e\u30d1\u30bf\u30fc\u30f3\u3092\u4f7f\u7528\u3057\u305f\u304f\u3042\u308a\u307e\u305b\u3093 - Psalm\u306f\uff08\u30ea\u30d5\u30ec\u30af\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u305b\u305a\u306b\uff09\u3069\u306e\u30af\u30e9\u30b9\u304c\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b\u304b\u3092\u77e5\u308b\u3053\u3068\u306f\u4e0d\u53ef\u80fd\u3067\u3059\u3002</p>"},{"location":"running_psalm/issues/DuplicateEnumCaseValue/","title":"DuplicateEnumCaseValue","text":"<p>\u30d0\u30c3\u30af\u30c9\u5217\u6319\u578b\u306b\u91cd\u8907\u3059\u308b\u30b1\u30fc\u30b9\u5024\u304c\u3042\u308b\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nenum Status: string {\n    case Open = \"open\";\n    case Closed = \"open\";\n}\n</code></pre>"},{"location":"running_psalm/issues/DuplicateEnumCaseValue/#_1","title":"\u4fee\u6b63\u65b9\u6cd5","text":"<p>\u91cd\u8907\u304c\u306a\u3044\u3088\u3046\u306b\u30b1\u30fc\u30b9\u5024\u3092\u5909\u66f4\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nenum Status: string {\n    case Open = \"open\";\n    case Closed = \"closed\";\n}\n</code></pre>"},{"location":"running_psalm/issues/DuplicateMethod/","title":"DuplicateMethod","text":"<p>\u30e1\u30bd\u30c3\u30c9\u304c2\u56de\u5b9a\u7fa9\u3055\u308c\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {\n    public function foo() {}\n    public function foo() {}\n}\n</code></pre>"},{"location":"running_psalm/issues/DuplicateProperty/","title":"DuplicateProperty","text":"<p>\u30af\u30e9\u30b9\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u304c2\u56de\u5b9a\u7fa9\u3055\u308c\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass Foo {\n    public int $foo;\n    public string $foo;\n}\n\nclass Bar {\n    public int $bar;\n    public static string $bar;\n}\n</code></pre>"},{"location":"running_psalm/issues/ExtensionRequirementViolation/","title":"ExtensionRequirementViolation","text":"<p>\u30c8\u30ec\u30a4\u30c8\u3092\u4f7f\u7528\u3059\u308b\u30af\u30e9\u30b9\u304c\u3001<code>@psalm-require-extends</code>\u3092\u4f7f\u7528\u3057\u3066\u6307\u5b9a\u3055\u308c\u305f\u30af\u30e9\u30b9\u3092\u62e1\u5f35\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A { }\n\n/**\n * @psalm-require-extends A\n */\ntrait T { }\n\nclass B {\n  // ExtensionRequirementViolation\u304c\u767a\u751f\u3057\u307e\u3059\u3002T\u306f\n  // \u4f7f\u7528\u30af\u30e9\u30b9B\u304cA\u3092\u62e1\u5f35\u3059\u308b\u3053\u3068\u3092\u8981\u6c42\u3057\u3066\u3044\u307e\u3059\u304c\u3001\n  // \u305d\u3046\u3067\u306f\u3042\u308a\u307e\u305b\u3093\n  use T;\n}\n</code></pre>"},{"location":"running_psalm/issues/FalsableReturnStatement/","title":"FalsableReturnStatement","text":"<p>\u95a2\u6570\u306e\u623b\u308a\u5024\u306e\u578b\u304cfalse\u3092\u8a31\u53ef\u3057\u3066\u3044\u306a\u3044\u306b\u3082\u304b\u304b\u308f\u3089\u305a\u3001return\u6587\u306bfalse\u5024\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nfunction getCommaPosition(string $a) : int {\n    return strpos($a, ',');\n}\n</code></pre>"},{"location":"running_psalm/issues/FalsableReturnStatement/#_1","title":"\u4fee\u6b63\u65b9\u6cd5","text":"<p>false\u306b\u5bfe\u3059\u308b\u5177\u4f53\u7684\u306a\u30c1\u30a7\u30c3\u30af\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>&lt;?php\nfunction getCommaPosition(string $a) : int {\n    $pos = strpos($a, ',');\n    if ($pos === false) {\n        return -1;\n    }\n    return $pos;\n}\n</code></pre> <p>\u3042\u308b\u3044\u306f\u3001\u4f8b\u5916\u3092\u30b9\u30ed\u30fc\u3059\u308b\u3053\u3068\u3092\u9078\u629e\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>&lt;?php\nfunction getCommaPosition(string $a) : int {\n    $pos = strpos($a, ',');\n    if ($pos === false) {\n        throw new Exception('This is unexpected');\n    }\n    return $pos;\n}\n</code></pre>"},{"location":"running_psalm/issues/FalseOperand/","title":"FalseOperand","text":"<p><code>false</code>\u3092\u64cd\u4f5c\u306e\u4e00\u90e8\u3068\u3057\u3066\u4f7f\u7528\u3057\u305f\u5834\u5408\uff08\u4f8b\uff1a<code>+</code>\u3001<code>.</code>\u3001<code>^</code>\u306a\u3069\uff09\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\necho 5 . false;\n</code></pre>"},{"location":"running_psalm/issues/FalseOperand/#_1","title":"\u306a\u305c\u3053\u308c\u304c\u554f\u984c\u306a\u306e\u304b","text":"<p><code>false</code>\u306f\u3053\u308c\u3089\u306e\u64cd\u4f5c\u3067\u306f\u610f\u5473\u3092\u306a\u3057\u307e\u305b\u3093\u3002</p>"},{"location":"running_psalm/issues/ForbiddenCode/","title":"ForbiddenCode","text":"<p>Psalm\u304c<code>var_dump</code>\u3001<code>exec</code>\u3001\u307e\u305f\u306f\u30b3\u30fc\u30c9\u3092\u3088\u308a\u8106\u5f31\u306b\u3059\u308b\u53ef\u80fd\u6027\u306e\u3042\u308b\u985e\u4f3c\u306e\u5f0f\u306b\u906d\u9047\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nvar_dump(\"bah\");\n</code></pre> <p>\u3053\u306e\u95a2\u6570\u30ea\u30b9\u30c8\u306f\u3001<code>psalm.xml</code>\u3067<code>forbiddenFunctions</code>\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\u62e1\u5f35\u3067\u304d\u307e\u3059\u3002</p> <pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;psalm&gt;\n    &lt;!-- other configs --&gt;\n    &lt;forbiddenFunctions&gt;\n        &lt;function name=\"dd\"/&gt;\n        &lt;function name=\"var_dump\"/&gt;\n    &lt;/forbiddenFunctions&gt;\n&lt;/psalm&gt;\n</code></pre>"},{"location":"running_psalm/issues/ImplementedParamTypeMismatch/","title":"ImplementedParamTypeMismatch","text":"<p>\u5225\u306e\u30af\u30e9\u30b9\u3092\u7d99\u627f\u3059\u308b\u30af\u30e9\u30b9\u3001\u307e\u305f\u306f\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u5b9f\u88c5\u3059\u308b\u30af\u30e9\u30b9\u304c\u3001\u89aa\u306e\u3082\u306e\u3068\u5168\u304f\u7570\u306a\u308bdocblock\u30d1\u30e9\u30e1\u30fc\u30bf\u578b\u3092\u6301\u3064\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass D {\n    /** @param string $a */\n    public function foo($a): void {}\n}\n\nclass E extends D {\n    /** @param int $a */\n    public function foo($a): void {}\n}\n</code></pre>"},{"location":"running_psalm/issues/ImplementedParamTypeMismatch/#_1","title":"\u4fee\u6b63\u65b9\u6cd5","text":"<p>\u30ea\u30b9\u30b3\u30d5\u306e\u7f6e\u63db\u539f\u5247\u3092\u5c0a\u91cd\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044 - \u89aa\u30e1\u30bd\u30c3\u30c9\u3092\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u306f\u3001\u89aa\u30e1\u30bd\u30c3\u30c9\u3068\u540c\u3058\u3059\u3079\u3066\u306e\u5f15\u6570\u3092\u53d7\u3051\u5165\u308c\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass D {\n    /** @param string $a */\n    public function foo($a): void {}\n}\n\nclass E extends D {\n    /** @param string|int $a */\n    public function foo($a): void {}\n}\n</code></pre>"},{"location":"running_psalm/issues/ImplementedReturnTypeMismatch/","title":"ImplementedReturnTypeMismatch","text":"<p>\u5225\u306e\u30af\u30e9\u30b9\u3092\u7d99\u627f\u3059\u308b\u30af\u30e9\u30b9\u3001\u307e\u305f\u306f\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u5b9f\u88c5\u3059\u308b\u30af\u30e9\u30b9\u304c\u3001\u89aa\u306e\u3082\u306e\u3068\u5168\u304f\u7570\u306a\u308bdocblock\u623b\u308a\u5024\u306e\u578b\u3092\u6301\u3064\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {\n    /** @return bool */\n    public function foo() {\n        return true;\n    }\n}\n\nclass B extends A {\n    /** @return string */\n    public function foo()  {\n        return \"hello\";\n    }\n}\n</code></pre>"},{"location":"running_psalm/issues/ImplementedReturnTypeMismatch/#_1","title":"\u4fee\u6b63\u65b9\u6cd5","text":"<p>\u30ea\u30b9\u30b3\u30d5\u306e\u7f6e\u63db\u539f\u5247\u3092\u5c0a\u91cd\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044 - \u89aa\u30e1\u30bd\u30c3\u30c9\u3092\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u306f\u3001\u89aa\u30e1\u30bd\u30c3\u30c9\u306e\u30b5\u30d6\u30bf\u30a4\u30d7\u3092\u8fd4\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u4e0a\u8a18\u306e\u5834\u5408\u3001\u5b50\u306e\u623b\u308a\u5024\u306e\u578b\u3092\u89aa\u306e\u3082\u306e\u306b\u8ffd\u52a0\u3059\u308b\u3053\u3068\u3092\u610f\u5473\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {\n    /** @return bool|string */\n    public function foo() {\n        return true;\n    }\n}\n\nclass B extends A {\n    /** @return string */\n    public function foo()  {\n        return \"hello\";\n    }\n}\n</code></pre>"},{"location":"running_psalm/issues/ImpureByReferenceAssignment/","title":"ImpureByReferenceAssignment","text":"<p>mutation-free\u3068\u30de\u30fc\u30af\u3055\u308c\u305f\u95a2\u6570\u3084\u30e1\u30bd\u30c3\u30c9\u5185\u3067\u3001\u53c2\u7167\u6e21\u3057\u3055\u308c\u305f\u5909\u6570\u306b\u4ee3\u5165\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/** \n * @psalm-pure \n */\nfunction foo(string &amp;$a): string {\n    $a = \"B\";\n    return $a;\n}\n</code></pre>"},{"location":"running_psalm/issues/ImpureByReferenceAssignment/#_1","title":"\u4fee\u6b63\u65b9\u6cd5","text":"<p>\u5909\u66f4\u3092\u52a0\u3048\u308b\u4ee3\u5165\u3092\u524a\u9664\u3059\u308b\u3060\u3051\u3067\u3059\uff1a</p> <pre><code>&lt;?php\n/** \n * @psalm-pure \n */\nfunction foo(string &amp;$a): string {\n    return $a;\n}\n</code></pre>"},{"location":"running_psalm/issues/ImpurePropertyAssignment/","title":"ImpurePropertyAssignment","text":"<p>\u7d14\u7c8b\uff08pure\uff09\u3068\u30de\u30fc\u30af\u3055\u308c\u305f\u95a2\u6570\u3084\u30e1\u30bd\u30c3\u30c9\u304b\u3089\u30d7\u30ed\u30d1\u30c6\u30a3\u5024\u3092\u66f4\u65b0\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {\n    public int $a = 5;\n}\n\n/** @psalm-pure */\nfunction foo(int $i, A $a) : int {\n    $a-&gt;a = $i;\n    return $i;\n}\n</code></pre>"},{"location":"running_psalm/issues/ImpurePropertyFetch/","title":"ImpurePropertyFetch","text":"<p>\u7d14\u7c8b\uff08pure\uff09\u3068\u30de\u30fc\u30af\u3055\u308c\u305f\u95a2\u6570\u3084\u30e1\u30bd\u30c3\u30c9\u5185\u3067\u30d7\u30ed\u30d1\u30c6\u30a3\u5024\u3092\u53d6\u5f97\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {\n    public int $a = 5;\n}\n\n/** @psalm-pure */\nfunction foo(int $i, A $a) : int {\n    return $i + $a-&gt;a;\n}\n</code></pre>"},{"location":"running_psalm/issues/ImpureStaticProperty/","title":"ImpureStaticProperty","text":"<p>\u7d14\u7c8b\uff08pure\uff09\u3068\u30de\u30fc\u30af\u3055\u308c\u305f\u95a2\u6570\u3084\u30e1\u30bd\u30c3\u30c9\u304b\u3089\u9759\u7684\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u4f7f\u7528\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass ValueHolder {\n    public static ?string $value = null;\n\n    /**\n     * @psalm-pure\n     */\n    public static function get(): ?string {\n        return self::$value;\n    }\n}\n</code></pre>"},{"location":"running_psalm/issues/ImpureVariable/","title":"ImpureVariable","text":"<p>\u7d14\u7c8b\uff08pure\uff09\u306a\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u304b\u3089\u3001\u4e0d\u7d14\u307e\u305f\u306f\u4e0d\u7d14\u306e\u53ef\u80fd\u6027\u306e\u3042\u308b\u5909\u6570\u3092\u53c2\u7167\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {\n    public int $a = 5;\n\n    /**\n     * @psalm-pure\n     */\n    public function foo() : self {\n        return $this;\n    }\n}\n</code></pre>"},{"location":"running_psalm/issues/InaccessibleMethod/","title":"InaccessibleMethod","text":"<p>\u5229\u7528\u53ef\u80fd\u306a\u30b9\u30b3\u30fc\u30d7\u5916\u304b\u3089protected/private\u30e1\u30bd\u30c3\u30c9\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {\n    protected function foo() : void {}\n}\necho (new A)-&gt;foo();\n</code></pre>"},{"location":"running_psalm/issues/InaccessibleProperty/","title":"InaccessibleProperty","text":"<p>\u5229\u7528\u53ef\u80fd\u306a\u30b9\u30b3\u30fc\u30d7\u5916\u304b\u3089protected/private\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {\n    /** @return string */\n    protected $foo;\n}\n\necho (new A)-&gt;foo;\n</code></pre>"},{"location":"running_psalm/issues/InheritorViolation/","title":"InheritorViolation","text":"<p><code>@psalm-inheritors</code>\u3092\u4f7f\u7528\u3059\u308b\u30af\u30e9\u30b9/\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u304c\u3001\u305d\u306e\u8981\u4ef6\u3092\u6e80\u305f\u3055\u306a\u3044\u30af\u30e9\u30b9\u306b\u3088\u3063\u3066 \u62e1\u5f35/\u5b9f\u88c5\u3055\u308c\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/**\n * @psalm-inheritors FooClass|BarClass\n */\nclass BaseClass {}\n\nclass BazClass extends BaseClass {}\n\n// InheritorViolation\u304c\u767a\u751f\u3057\u307e\u3059\u3002BaseClass\u306fFooClass|BarClass\u306b\u3088\u3063\u3066\u306e\u307f\n// \u62e1\u5f35\u3067\u304d\u307e\u3059\u304c\u3001\u305d\u3046\u3067\u306f\u3042\u308a\u307e\u305b\u3093\n$a = new BazClass();\n</code></pre>"},{"location":"running_psalm/issues/InterfaceInstantiation/","title":"InterfaceInstantiation","text":"<p>\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u5316\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\uff1a</p> <pre><code>&lt;?php\ninterface I {}\nnew I();\n</code></pre>"},{"location":"running_psalm/issues/InternalClass/","title":"InternalClass","text":"<p>\u95a2\u9023\u306e\u306a\u3044\u540d\u524d\u7a7a\u9593\u307e\u305f\u306f\u30af\u30e9\u30b9\u304b\u3089\u5185\u90e8\u3068\u3057\u3066\u30de\u30fc\u30af\u3055\u308c\u305f\u30af\u30e9\u30b9\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u3001\u307e\u305f\u306f\u7570\u306a\u308b\u540d\u524d\u7a7a\u9593\u306bpsalm-internal\u3068\u3057\u3066\u30de\u30fc\u30af\u3055\u308c\u305f\u30af\u30e9\u30b9\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nnamespace A {\n    /**\n     * @internal\n     */\n    class Foo { }\n}\n\nnamespace B {\n    class Bat {\n        public function batBat(): void {\n            $a = new \\A\\Foo();\n        }\n    }\n}\n</code></pre>"},{"location":"running_psalm/issues/InternalMethod/","title":"InternalMethod","text":"<p>\u95a2\u9023\u306e\u306a\u3044\u540d\u524d\u7a7a\u9593\u307e\u305f\u306f\u30af\u30e9\u30b9\u304b\u3089\u5185\u90e8\u3068\u3057\u3066\u30de\u30fc\u30af\u3055\u308c\u305f\u30e1\u30bd\u30c3\u30c9\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u3001\u307e\u305f\u306f\u7570\u306a\u308b\u540d\u524d\u7a7a\u9593\u306bpsalm-internal\u3068\u3057\u3066\u30de\u30fc\u30af\u3055\u308c\u305f\u30e1\u30bd\u30c3\u30c9\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nnamespace A {\n    class Foo {\n        /**\n         * @internal\n         */\n        public static function barBar(): void {\n        }\n    }\n}\n\nnamespace B {\n    class Bat {\n        public function batBat(): void {\n            \\A\\Foo::barBar();\n        }\n    }\n}\n</code></pre>"},{"location":"running_psalm/issues/InvalidArgument/","title":"InvalidArgument","text":"<p>\u63d0\u4f9b\u3055\u308c\u305f\u95a2\u6570/\u30e1\u30bd\u30c3\u30c9\u306e\u5f15\u6570\u304c\u3001\u30e1\u30bd\u30c3\u30c9\u306e\u30b7\u30b0\u30cd\u30c1\u30e3\u307e\u305f\u306fdocblock\u3068\u4e92\u63db\u6027\u304c\u306a\u3044\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {}\n\nfunction foo(A $a) : void {}\n\n/**\n * @param string $s\n */\nfunction callFoo($s) : void {\n    foo($s);\n}\n</code></pre>"},{"location":"running_psalm/issues/InvalidArgument/#_1","title":"\u306a\u305c\u3053\u308c\u304c\u554f\u984c\u306a\u306e\u304b","text":"<p>\u4e0d\u6b63\u306a\u5024\u3067\u95a2\u6570\u3092\u547c\u3073\u51fa\u3059\u3068\u3001\u5b9f\u884c\u6642\u306b\u81f4\u547d\u7684\u306a\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3059\u3002</p>"},{"location":"running_psalm/issues/InvalidArgument/#_2","title":"\u4fee\u6b63\u65b9\u6cd5","text":"<p>\u3053\u306e\u554f\u984c\u306f\u3001\u5358\u306b\u4e0d\u6b63\u78ba\u306adocblock\u306e\u7d50\u679c\u3067\u3042\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002 docblock\u3092\u4fee\u6b63\u3059\u308b\u304b\u3001\u95a2\u6570\u306e\u30b7\u30b0\u30cd\u30c1\u30e3\u306b\u5909\u63db\u3059\u308b\u3053\u3068\u3067\u4fee\u6b63\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>&lt;?php\nclass A {}\n\nfunction foo(A $a) : void {}\n\nfunction callFoo(A $a) : void {\n    foo($a);\n}\n</code></pre>"},{"location":"running_psalm/issues/InvalidArrayOffset/","title":"PossiblyInvalidArrayOffset","text":"<p>\u30a2\u30af\u30bb\u30b9\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u308b\u5024\u306b\u914d\u5217\u30aa\u30d5\u30bb\u30c3\u30c8\u304c\u9069\u7528\u3067\u304d\u306a\u3044\u53ef\u80fd\u6027\u304c\u3042\u308b\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n$arr = rand(0, 1) ? [\"a\" =&gt; 5] : \"hello\";\necho $arr[0];\n</code></pre>"},{"location":"running_psalm/issues/InvalidClassConstantType/","title":"InvalidClassConstantType","text":"<p>\u5b50\u30af\u30e9\u30b9\u306e\u5b9a\u6570\u306e\u578b\u304c\u89aa\u30af\u30e9\u30b9\u306e\u578b\u3092\u6e80\u305f\u3055\u306a\u3044\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass Foo {\n    /** @var int&lt;1,max&gt; */\n    public const CONSTANT = 3;\n\n    public static function bar(): array\n    {\n        return str_split(\"foobar\", static::CONSTANT);\n    }\n}\n\nclass Bar extends Foo {\n    /** @var int&lt;min,-1&gt; */\n    public const CONSTANT = -1;\n}\n\nBar::bar(); // \u30a8\u30e9\u30fc: str_split \u306e\u5f15\u65702\u306f0\u3088\u308a\u5927\u304d\u304f\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\n</code></pre> <p>\u3053\u306e\u554f\u984c\u306f\u3001docblock\u306e\u578b\u3092\u6301\u305f\u306a\u3044\u5b9a\u6570\u3092\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3059\u308b\u5834\u5408\u306b\u5e38\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u3002Psalm\u306f\u5b9a\u6570\u306b\u5bfe\u3057\u3066\u53ef\u80fd\u306a\u9650\u308a\u5177\u4f53\u7684\u306a\u578b\u3092\u63a8\u8ad6\u3057\u307e\u3059\u304c\u3001\u3069\u306e\u578b\u5236\u7d04\u3092\u9069\u7528\u3057\u305f\u3044\u304b\u3092\u4f1d\u3048\u308b\u305f\u3081\u306b\u578b\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u305d\u3046\u3057\u306a\u3044\u3068\u3001Psalm\u306f\u305d\u306e\u5b9a\u6570\u304c\u30ea\u30c6\u30e9\u30eb<code>1</code>\u3001<code>int&lt;1, max&gt;</code>\u3001<code>int</code>\u3001<code>numeric</code>\u306a\u3069\u306e\u3069\u308c\u3092\u610f\u5473\u3059\u308b\u306e\u304b\u3092\u5224\u65ad\u3059\u308b\u65b9\u6cd5\u304c\u3042\u308a\u307e\u305b\u3093\u3002</p>"},{"location":"running_psalm/issues/InvalidClone/","title":"InvalidClone","text":"<p>\u30af\u30ed\u30fc\u30f3\u53ef\u80fd\u3067\u306a\u3044\u5024\u3092\u30af\u30ed\u30fc\u30f3\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n$a = \"hello\";\n$b = clone $a;\n</code></pre>"},{"location":"running_psalm/issues/InvalidDocblock/","title":"InvalidDocblock","text":"<p>docblock\u30bf\u30a4\u30d7\u306b\u30a8\u30e9\u30fc\u304c\u3042\u308b\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/** @var array() */\n$a = [];\n</code></pre>"},{"location":"running_psalm/issues/InvalidEnumBackingType/","title":"InvalidEnumBackingType","text":"<p>\u5217\u6319\u578b\u306f<code>int</code>\u307e\u305f\u306f<code>string</code>\u3067\u306e\u307f\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3067\u304d\u307e\u3059\u3002\u5217\u6319\u578b\u304c\u4ed6\u306e\u3082\u306e\u3067 \u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nenum Status: array {\n   case None = [];\n}\n</code></pre>"},{"location":"running_psalm/issues/InvalidEnumMethod/","title":"InvalidEnumMethod","text":"<p>\u5217\u6319\u578b\u306f<code>__get</code>\u3001<code>__toString</code>\u306a\u3069\u306e\u307b\u3068\u3093\u3069\u306e\u30de\u30b8\u30c3\u30af\u30e1\u30bd\u30c3\u30c9\u3092\u5b9a\u7fa9\u3067\u304d\u307e\u305b\u3093\u3002</p> <pre><code>&lt;?php\nenum Status: string {\n    case Open = 'open';\n    case Closed = 'closed';\n\n    public function __toString(): string {\n        return \"SomeStatus\";\n    }\n}\n</code></pre>"},{"location":"running_psalm/issues/InvalidExtendClass/","title":"InvalidExtendClass","text":"<p>final\u30af\u30e9\u30b9\u3001<code>@final</code>\u3067\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3055\u308c\u305f\u30af\u30e9\u30b9\u3001\u307e\u305f\u306f@psalm-inheritors\u3092\u4f7f\u7528\u3057\u3001\u7d99\u627f\u30ea\u30b9\u30c8\u306b\u306a\u3044\u30af\u30e9\u30b9\u3092\u62e1\u5f35\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nfinal class A {}\nclass B extends A {}\n\n/**\n * @final\n */\nclass DoctrineA {}\nclass DoctrineB extends DoctrineA {}\n\n/**\n * @psalm-inheritors A|B\n */\nclass C {}\nclass D extends C {}\n</code></pre>"},{"location":"running_psalm/issues/InvalidGlobal/","title":"InvalidGlobal","text":"<p>\u4e88\u671f\u3057\u306a\u3044\u5834\u6240\u3067\u30b0\u30ed\u30fc\u30d0\u30eb\u30ad\u30fc\u30ef\u30fc\u30c9\u3078\u306e\u53c2\u7167\u304c\u3042\u308b\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nglobal $e;\n</code></pre> <p>\u30d5\u30a1\u30a4\u30eb\u304c\u30b0\u30ed\u30fc\u30d0\u30eb\u3067\u306a\u3044\u30b9\u30b3\u30fc\u30d7\u304b\u3089\u542b\u307e\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u3053\u306e\u554f\u984c\u3092\u6291\u5236\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u30d5\u30a1\u30a4\u30eb\u307e\u305f\u306f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30ec\u30d9\u30eb\u3067\u3053\u308c\u3092\u6291\u5236\u3059\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\u306f\u3001\u8a2d\u5b9a\u306e\u6291\u5236\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"running_psalm/issues/InvalidIterator/","title":"InvalidIterator","text":"<p>\u53cd\u5fa9\u53ef\u80fd\u3067\u306a\u3044\u5024\u3092\u53cd\u5fa9\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n$a = 5;\nforeach ($a as $b) {}\n</code></pre>"},{"location":"running_psalm/issues/InvalidNamedArgument/","title":"InvalidNamedArgument","text":"<p>\u63d0\u4f9b\u3055\u308c\u305f\u95a2\u6570/\u30e1\u30bd\u30c3\u30c9\u306e\u5f15\u6570\u540d\u304c\u95a2\u6570/\u30e1\u30bd\u30c3\u30c9\u306e\u30b7\u30b0\u30cd\u30c1\u30e3\u3068\u4e92\u63db\u6027\u304c\u306a\u3044\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nfunction takesArguments(string $name, int $age) : void {}\ntakesArguments(name: \"hello\", ag: 5);\n</code></pre>"},{"location":"running_psalm/issues/InvalidOperand/","title":"InvalidOperand","text":"<p>\u4e88\u671f\u3057\u306a\u3044\u3082\u306e\u3092\u30aa\u30da\u30e9\u30f3\u30c9\u3068\u3057\u3066\u4f7f\u7528\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {}\necho (new A) . ' ';\n</code></pre>"},{"location":"running_psalm/issues/InvalidParent/","title":"InvalidParent","text":"<p>\u89aa\u30af\u30e9\u30b9\u304c\u306a\u3044\u5834\u5408\u306b\u95a2\u6570\u306e\u623b\u308a\u5024\u306e\u578b\u304c<code>parent</code>\u3067\u3042\u308b\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass Foo {\n    public function f(): parent {}\n}\n</code></pre>"},{"location":"running_psalm/issues/InvalidPropertyAssignment/","title":"InvalidPropertyAssignment","text":"<p>\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u306f\u306a\u3044\u5024\u306b\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u5272\u308a\u5f53\u3066\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n$a = \"foo\";\n$a-&gt;bar = \"bar\";\n</code></pre>"},{"location":"running_psalm/issues/InvalidPropertyAssignmentValue/","title":"InvalidPropertyAssignmentValue","text":"<p>\u305d\u306e\u578b\u3092\u542b\u3080\u3053\u3068\u304c\u3067\u304d\u306a\u3044\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u5024\u3092\u5272\u308a\u5f53\u3066\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {\n    /** @var string|null */\n    public $foo;\n}\n\n$a = new A();\n$a-&gt;foo = new stdClass();\n</code></pre>"},{"location":"running_psalm/issues/InvalidPropertyFetch/","title":"InvalidPropertyFetch","text":"<p>\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u306f\u306a\u3044\u5024\u304b\u3089\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u53d6\u5f97\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <p><pre><code>&lt;?php\n$a = \"foo\";\necho $a-&gt;bar;\n</code></pre> &lt;/antArtifact</p>"},{"location":"running_psalm/issues/InvalidScalarArgument/","title":"InvalidScalarArgument","text":"<p>\u5225\u306e\u30b9\u30ab\u30e9\u30fc\u578b\u3092\u671f\u5f85\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u306b\u30b9\u30ab\u30e9\u30fc\u5024\u304c\u6e21\u3055\u308c\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002 \u3053\u308c\u306f\u3001PHP\u304c1\u3064\u306e\u30b9\u30ab\u30e9\u30fc\u578b\u3092\u5225\u306e\u30b9\u30ab\u30e9\u30fc\u578b\u306b\u5f37\u5236\u3057\u3088\u3046\u3068\u3059\u308b\u3053\u3068\u304c\u78ba\u5b9f\u306a\u72b6\u6cc1\u3067\u306e\u307f\u767a\u751f\u3057\u307e\u3059\u3002 \u305d\u308c\u4ee5\u5916\u306e\u3059\u3079\u3066\u306e\u5834\u5408\u3067\u306f<code>InvalidArgument</code>\u304c\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nfunction foo(int $i) : void {}\n\nfunction bar(string $s) : void {\n    if (is_numeric($s)) {\n        foo($s);\n    }\n}\n</code></pre>"},{"location":"running_psalm/issues/InvalidStringClass/","title":"InvalidStringClass","text":"<p>\u8a2d\u5b9a\u3067<code>allowStringToStandInForClass=\"false\"</code>\u304c\u3042\u308a\u3001\u30af\u30e9\u30b9\u3092\u76f4\u63a5\u547c\u3073\u51fa\u3059\u4ee3\u308f\u308a\u306b\u6587\u5b57\u5217\u3092\u6e21\u3057\u3066\u3044\u308b\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass Foo {}\n$a = \"Foo\";\nnew $a();\n</code></pre>"},{"location":"running_psalm/issues/InvalidToString/","title":"InvalidToString","text":"<p><code>__toString</code>\u30e1\u30bd\u30c3\u30c9\u304c\u5e38\u306b<code>string</code>\u3092\u8fd4\u3055\u306a\u3044\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {\n    public function __toString() {\n        /** @psalm-suppress InvalidReturnStatement */\n        return true;\n    }\n}\n</code></pre>"},{"location":"running_psalm/issues/InvalidTraversableImplementation/","title":"InvalidTraversableImplementation","text":"<p>\u30af\u30e9\u30b9\u304cTraversable\u3092\u6b63\u3057\u304f\u5b9f\u88c5\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002Traversable\u306f<code>IteratorAggregate</code>\u307e\u305f\u306f<code>Iterator</code>\u3092\u5b9f\u88c5\u3059\u308b\u3053\u3068\u3067\u5b9f\u88c5\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/**\n * @implements Traversable&lt;mixed, mixed&gt;\n */\nfinal class C implements Traversable {} // \u81f4\u547d\u7684\u30a8\u30e9\u30fc\u3092\u5f15\u304d\u8d77\u3053\u3057\u307e\u3059\n</code></pre>"},{"location":"running_psalm/issues/LessSpecificImplementedReturnType/","title":"LessSpecificImplementedReturnType","text":"<p>\u30af\u30e9\u30b9\u304c\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u88c5\u3057\u3066\u3044\u308b\u304c\u3001\u305d\u306e\u623b\u308a\u5024\u306e\u578b\u304c\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u30e1\u30bd\u30c3\u30c9\u306e\u623b\u308a\u5024\u306e\u578b\u3088\u308a\u3082\u5177\u4f53\u7684\u3067\u306a\u3044\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {}\nclass B extends A {}\n\ninterface I {\n    /** @return B[] */\n    public function foo();\n}\n\nclass D implements I {\n    /** @return A[] */\n    public function foo() {\n        return [new A, new A];\n    }\n}\n</code></pre>"},{"location":"running_psalm/issues/LessSpecificReturnStatement/","title":"LessSpecificReturnStatement","text":"<p>\u95a2\u6570\u306b\u4e0e\u3048\u3089\u308c\u305f\u623b\u308a\u5024\u306e\u578b\u3088\u308a\u3082\u4e00\u822c\u7684\u306a\u623b\u308a\u5024\u6587\u304c\u3042\u308b\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {}\nclass B extends A {}\n\nfunction foo() : B {\n    return new A(); // \u3053\u3053\u3067\u767a\u751f\n}\n</code></pre>"},{"location":"running_psalm/issues/LessSpecificReturnType/","title":"LessSpecificReturnType","text":"<p>\u623b\u308a\u5024\u306e\u578b\u304c\u95a2\u6570\u81ea\u4f53\u3088\u308a\u3082\u591a\u304f\u306e\u53ef\u80fd\u6027\u3092\u30ab\u30d0\u30fc\u3057\u3066\u3044\u308b\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nfunction foo() : ?int {\n    return 5;\n}\n</code></pre>"},{"location":"running_psalm/issues/MethodSignatureMustOmitReturnType/","title":"MethodSignatureMustOmitReturnType","text":"<p><code>__clone</code>\u3001<code>__construct</code>\u3001\u307e\u305f\u306f<code>__destruct</code>\u30e1\u30bd\u30c3\u30c9\u304c\u623b\u308a\u5024\u306e\u578b\u3092\u6307\u5b9a\u3057\u3066\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {\n    public function __clone() : void {}\n}\n</code></pre>"},{"location":"running_psalm/issues/MethodSignatureMustProvideReturnType/","title":"MethodSignatureMustProvideReturnType","text":"<p>PHP 8.1\u4ee5\u964d\u3001\u307b\u3068\u3093\u3069\u306e\u975efinal\u306a\u5185\u90e8\u30e1\u30bd\u30c3\u30c9\u306f\u3001\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u304c\u4e92\u63db\u6027\u306e\u3042\u308b\u623b\u308a\u5024\u306e\u578b\u3092\u5ba3\u8a00\u3059\u308b\u3053\u3068\u3092\u8981\u6c42\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002\u305d\u3046\u3067\u306a\u3044\u5834\u5408\u3001\u7d99\u627f\u306e\u691c\u8a3c\u4e2d\u306b\u975e\u63a8\u5968\u306e\u901a\u77e5\u304c\u767a\u884c\u3055\u308c\u307e\u3059\u3002\u3053\u306e\u554f\u984c\u306f\u3001\u30cd\u30a4\u30c6\u30a3\u30d6\u30e1\u30bd\u30c3\u30c9\u3092\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3059\u308b\u30e1\u30bd\u30c3\u30c9\u304c\u623b\u308a\u5024\u306e\u578b\u306a\u3057\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002PHP 7\u306e\u30b5\u30dd\u30fc\u30c8\u3092\u7dad\u6301\u3059\u308b\u305f\u3081\u306b\u623b\u308a\u5024\u306e\u578b\u3092\u5ba3\u8a00\u3067\u304d\u306a\u3044\u5834\u5408\u306e\u307f\u3001<code>#[ReturnTypeWillChange]</code>\u5c5e\u6027\u3092\u8ffd\u52a0\u3057\u3066PHP\u306e\u975e\u63a8\u5968\u901a\u77e5\u3068Psalm\u306e\u554f\u984c\u3092\u6291\u5236\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A implements JsonSerializable {\n    public function jsonSerialize() {\n        return ['type' =&gt; 'A'];\n    }\n}\n</code></pre>"},{"location":"running_psalm/issues/MismatchingDocblockParamType/","title":"MismatchingDocblockParamType","text":"<p>\u95a2\u6570\u306edocblock\u306e<code>@param</code>\u30a8\u30f3\u30c8\u30ea\u304c\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u578b\u30d2\u30f3\u30c8\u3068\u4e00\u81f4\u3057\u306a\u3044\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/**\n * @param int $b\n */\nfunction foo(string $b) : void {}\n</code></pre>"},{"location":"running_psalm/issues/MismatchingDocblockReturnType/","title":"MismatchingDocblockReturnType","text":"<p>\u95a2\u6570\u306edocblock\u306e<code>@return</code>\u30a8\u30f3\u30c8\u30ea\u304c\u95a2\u6570\u306e\u623b\u308a\u5024\u306e\u578b\u30d2\u30f3\u30c8\u3068\u4e00\u81f4\u3057\u306a\u3044\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {}\nclass B {}\n\n/**\n * @return B // \u3053\u3053\u3067\u767a\u751f\n */\nfunction foo() : A {\n    return new A();\n}\n</code></pre> <p>\u305f\u3060\u3057\u3001\u4ee5\u4e0b\u306e\u5834\u5408\u306f\u554f\u984c\u3042\u308a\u307e\u305b\u3093\uff1a</p> <pre><code>&lt;?php\nclass A {}\nclass B extends A {}\n\n/**\n * @return B // \u3053\u3053\u3067\u767a\u751f\n */\nfunction foo() : A {\n    return new B();\n}\n</code></pre>"},{"location":"running_psalm/issues/MissingClosureReturnType/","title":"MissingClosureReturnType","text":"<p>\u30af\u30ed\u30fc\u30b8\u30e3\u306b\u623b\u308a\u5024\u306e\u578b\u304c\u6b20\u3051\u3066\u3044\u308b\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n$a = function() {\n    return \"foo\";\n};\n</code></pre>"},{"location":"running_psalm/issues/MissingDependency/","title":"MissingDependency","text":"<p>\u5b58\u5728\u3057\u306a\u3044\u30af\u30e9\u30b9\u3092\u53c2\u7167\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/** @psalm-suppress UndefinedClass */\nclass A extends B {}\n$a = new A();\n</code></pre>"},{"location":"running_psalm/issues/MissingDocblockType/","title":"MissingDocblockType","text":"<p>docblock\u304c\u5b58\u5728\u3059\u308b\u304c\u3001\u578b\u304c\u6b20\u3051\u3066\u3044\u308b\u304b\u3001\u5f62\u5f0f\u304c\u6b63\u3057\u304f\u306a\u3044\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/** @var $a */\n$a = [];\n</code></pre>"},{"location":"running_psalm/issues/MissingImmutableAnnotation/","title":"MissingImmutableAnnotation","text":"<p>\u4e0d\u5909\uff08immutable\uff09\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u307e\u305f\u306f\u30af\u30e9\u30b9\u3092\u7d99\u627f\u3059\u308b\u30af\u30e9\u30b9\u304c<code>@psalm-immutable</code>\u5ba3\u8a00\u3082\u6301\u3063\u3066\u3044\u306a\u3044\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/** @psalm-immutable */\ninterface SomethingImmutable {\n    public function someInteger() : int;\n}\n\nclass MutableImplementation implements SomethingImmutable {\n    private int $counter = 0;\n    public function someInteger() : int {\n        return ++$this-&gt;counter;\n    }\n}\n</code></pre>"},{"location":"running_psalm/issues/MissingPropertyType/","title":"MissingPropertyType","text":"<p>\u30af\u30e9\u30b9\u3067\u30d7\u30ed\u30d1\u30c6\u30a3\u304c\u578b\u306a\u3057\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {\n    public $foo = 5;\n}\n</code></pre> <p>\u3053\u306e\u6a5f\u80fd\u306fPHP\u30d0\u30fc\u30b8\u30e7\u30f37.4\u4ee5\u964d\u3067\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002 \u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u4ee5\u4e0b\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\uff1a * PHP\u30de\u30cb\u30e5\u30a2\u30eb\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3002 * PHP RFC: Typed Properties 2.0</p>"},{"location":"running_psalm/issues/MissingTemplateParam/","title":"MissingTemplateParam","text":"<p><code>@extends</code>/<code>@implements</code>\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u3066\u30af\u30e9\u30b9\u3092\u62e1\u5f35\u3059\u308b\u969b\u306b\u3001\u305d\u306e\u3059\u3079\u3066\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u62e1\u5f35\u305b\u305a\u306b\u4f7f\u7528\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/** \n * @template-implements ArrayAccess&lt;int&gt; \n */\nclass SomeIterator implements ArrayAccess {\n    public function offsetSet($offset, $value) {\n    }\n    public function offsetExists($offset) {\n        return false;\n    }\n    public function offsetUnset($offset) {\n    }\n    public function offsetGet($offset) {\n        return null;\n    }\n}\n</code></pre>"},{"location":"running_psalm/issues/MixedArgument/","title":"MixedArgument","text":"<p>Psalm\u304c\u5f15\u6570\u306e\u578b\u3092\u5224\u65ad\u3067\u304d\u306a\u3044\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nfunction takesInt(int $i) : void {}\ntakesInt($GLOBALS['foo']);\n</code></pre>"},{"location":"running_psalm/issues/MixedArrayAccess/","title":"MixedArrayAccess","text":"<p>Psalm\u304c\u578b\u3092\u5224\u65ad\u3067\u304d\u306a\u3044\u5024\u306e\u914d\u5217\u30aa\u30d5\u30bb\u30c3\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\necho $GLOBALS['foo'][0];\n</code></pre>"},{"location":"running_psalm/issues/MixedArrayAssignment/","title":"MixedArrayAssignment","text":"<p>Psalm\u304c\u578b\u3092\u5224\u65ad\u3067\u304d\u306a\u3044\u5024\u306e\u914d\u5217\u30aa\u30d5\u30bb\u30c3\u30c8\u306b\u5024\u3092\u5272\u308a\u5f53\u3066\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n$GLOBALS['foo'][0] = \"5\";\n</code></pre>"},{"location":"running_psalm/issues/MixedArrayOffset/","title":"MixedArrayOffset","text":"<p>Psalm\u304c\u30aa\u30d5\u30bb\u30c3\u30c8\u306e\u578b\u3092\u5224\u65ad\u3067\u304d\u306a\u3044\u5834\u5408\u306b\u914d\u5217\u30aa\u30d5\u30bb\u30c3\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\necho [1, 2, 3][$GLOBALS['foo']];\n</code></pre>"},{"location":"running_psalm/issues/MixedFunctionCall/","title":"MixedFunctionCall","text":"<p>Psalm\u304c\u578b\u3092\u63a8\u8ad6\u3067\u304d\u306a\u3044\u5024\u306b\u5bfe\u3057\u3066\u95a2\u6570\u3092\u547c\u3073\u51fa\u305d\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/** @var mixed */\n$a = $GLOBALS['foo'];\n$a();\n</code></pre>"},{"location":"running_psalm/issues/MixedPropertyAssignment/","title":"MixedPropertyAssignment","text":"<p>Psalm\u304c\u578b\u3092\u63a8\u8ad6\u3067\u304d\u306a\u3044\u5024\u3092\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u5272\u308a\u5f53\u3066\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/**\n * @param mixed $a\n */\nfunction foo($a) : void {\n    $a-&gt;foo = \"bar\";\n}\n</code></pre>"},{"location":"running_psalm/issues/MixedReturnStatement/","title":"MixedReturnStatement","text":"<p>Psalm\u304c\u7279\u5b9a\u306ereturn\u6587\u306e\u578b\u3092\u5224\u65ad\u3067\u304d\u306a\u3044\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nfunction foo() : int {\n    return $GLOBALS['foo']; // \u3053\u3053\u3067\u767a\u751f\n}\n</code></pre>"},{"location":"running_psalm/issues/MixedReturnTypeCoercion/","title":"MixedReturnTypeCoercion","text":"<p>Psalm\u304c\u914d\u5217/\u30a4\u30c6\u30e9\u30d6\u30eb\u306e\u623b\u308a\u5024\u578b\u306e\u5236\u7d04\u306e\u4e00\u90e8\u304c\u6e80\u305f\u3055\u308c\u308b\u3053\u3068\u3092\u78ba\u4fe1\u3067\u304d\u306a\u3044\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/** @return string[] */\nfunction foo(array $a) : array {\n    return $a;\n}\n</code></pre> <p>\u3053\u308c\u306f\u3001<code>@no-named-arguments</code>\u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u3001\u53ef\u5909\u5f15\u6570\u3067\u767a\u751f\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\uff1a</p> <pre><code>&lt;?php\n/** @return list&lt;int&gt; */\nfunction foo(int ...$args): array {\n    return $args; // $args\u306f\u540d\u524d\u4ed8\u304d\u5f15\u6570\u3092\u6301\u3064\u53ef\u80fd\u6027\u304c\u3042\u308b\u305f\u3081\u3001array&lt;array-key, int&gt;\u3067\u3059\n}\n</code></pre>"},{"location":"running_psalm/issues/MixedStringOffsetAssignment/","title":"MixedStringOffsetAssignment","text":"<p>Psalm\u304c\u578b\u3092\u63a8\u8ad6\u3067\u304d\u306a\u3044\u5024\u3092\u4f7f\u7528\u3057\u3066\u6587\u5b57\u5217\u306b\u30aa\u30d5\u30bb\u30c3\u30c8\u3092\u5272\u308a\u5f53\u3066\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n\"hello\"[0] = $GLOBALS['foo'];\n</code></pre>"},{"location":"running_psalm/issues/MutableDependency/","title":"MutableDependency","text":"<p>\u4e0d\u5909\uff08immutable\uff09\u30af\u30e9\u30b9\u304c@psalm-immutable\u3067\u30de\u30fc\u30af\u3055\u308c\u3066\u3044\u306a\u3044\u30af\u30e9\u30b9\u307e\u305f\u306f\u30c8\u30ec\u30a4\u30c8\u3092\u7d99\u627f\u3057\u3066\u3044\u308b\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass MutableParent {\n    public int $i = 0;\n    public function increment() : void {\n        $this-&gt;i++;\n    }\n}\n\n/** \n * @psalm-immutable \n */\nfinal class NotReallyImmutableClass extends MutableParent {}\n</code></pre>"},{"location":"running_psalm/issues/NamedArgumentNotAllowed/","title":"NamedArgumentNotAllowed","text":"<p><code>@no-named-arguments</code>\u3092\u6301\u3064\u95a2\u6570\u3092\u547c\u3073\u51fa\u3059\u969b\u306b\u540d\u524d\u4ed8\u304d\u5f15\u6570\u304c\u4f7f\u7528\u3055\u308c\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/** @no-named-arguments */\nfunction foo(int $a, int $b): int {\n    return $a + $b;\n}\n\nfoo(a: 0, b: 1);\n</code></pre>"},{"location":"running_psalm/issues/NamedArgumentNotAllowed/#_1","title":"\u306a\u305c\u3053\u308c\u304c\u554f\u984c\u306a\u306e\u304b","text":"<p><code>@no-named-arguments</code>\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u306f\u3001\u5f15\u6570\u540d\u304c\u5c06\u6765\u5909\u66f4\u3055\u308c\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u3001\u540d\u524d\u4ed8\u304d\u5f15\u6570\u3092\u4f7f\u7528\u3057\u305f\u95a2\u6570\u547c\u3073\u51fa\u3057\u3068\u306e\u5f8c\u65b9\u4e92\u63db\u6027\u304c\u7834\u58ca\u3055\u308c\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u3053\u3068\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"running_psalm/issues/NamedArgumentNotAllowed/#_2","title":"\u4fee\u6b63\u65b9\u6cd5","text":"<p><code>@no-named-arguments</code>\u3067\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3055\u308c\u305f\u95a2\u6570\u306b\u5bfe\u3057\u3066\u540d\u524d\u4ed8\u304d\u5f15\u6570\u306e\u4f7f\u7528\u3092\u907f\u3051\u3066\u304f\u3060\u3055\u3044\u3002</p> <pre><code>&lt;?php\n/** @no-named-arguments */\nfunction foo(int $a, int $b): int {\n    return $a + $b;\n}\n\nfoo(0, 1);\n</code></pre>"},{"location":"running_psalm/issues/NoInterfaceProperties/","title":"NoInterfaceProperties","text":"<p>\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3067\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u53d6\u5f97\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306f\u3001\u5b9a\u7fa9\u4e0a\u3001\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u5b9a\u7fa9\u3092\u6301\u3061\u307e\u305b\u3093\u3002</p> <pre><code>&lt;?php\ninterface I {}\n\nclass A implements I {\n    /** @var ?string */\n    public $foo;\n}\n\nfunction bar(I $i) : void {\n    if ($i-&gt;foo) {}\n}\n</code></pre>"},{"location":"running_psalm/issues/NoValue/","title":"NoValue","text":"<p>Psalm\u304c\u7279\u5b9a\u306e\u5f0f\u306b\u5bfe\u3057\u3066\u53ef\u80fd\u306a\u3059\u3079\u3066\u306e\u578b\u3092\u7121\u52b9\u306b\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u3057\u3070\u3057\u3070\u3001Psalm\u304c\u30c7\u30c3\u30c9\u30b3\u30fc\u30c9\u3092\u898b\u3064\u3051\u305f\u304b\u3001\u307e\u305f\u306f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u5316\u3055\u308c\u305f\u578b\u304c\u7db2\u7f85\u7684\u3067\u306a\u304b\u3063\u305f\u3053\u3068\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/** \n * @return never \n */\nfunction foo() : void {\n    exit();\n}\n\n$a = foo(); // Psalm\u306f$a\u304c\u6c7a\u3057\u3066\u578b\u3092\u542b\u307e\u306a\u3044\u3053\u3068\u3092\u77e5\u3063\u3066\u3044\u307e\u3059\u3002\u306a\u305c\u306a\u3089foo()\u306f\u623b\u3089\u306a\u3044\u304b\u3089\u3067\u3059\n</code></pre> <pre><code>&lt;?php\nfunction foo() : void {\n    return throw new Exception(''); //Psalm\u306f\u623b\u308a\u5024\u5f0f\u304c\u6c7a\u3057\u3066\u4f7f\u7528\u3055\u308c\u306a\u3044\u3053\u3068\u3092\u691c\u51fa\u3057\u307e\u3057\u305f\n}\n</code></pre> <pre><code>&lt;?php\nfunction shutdown(): never {\n    die('Application closed unexpectedly');\n}\n\nfunction foo(string $_a): void {}\n\nfoo(shutdown()); // foo()\u306f\u6c7a\u3057\u3066\u547c\u3073\u51fa\u3055\u308c\u307e\u305b\u3093\n</code></pre> <pre><code>&lt;?php\n$a = [];\n/** @psalm-suppress TypeDoesNotContainType */\nassert(!empty($a));\ncount($a); // \u4e0a\u306e\u30a2\u30b5\u30fc\u30c8\u306f\u5e38\u306b\u5931\u6557\u3057\u307e\u3059\u3002$a\u304c\u3053\u3053\u3067\u6301\u3064\u53ef\u80fd\u6027\u306e\u3042\u308b\u578b\u306f\u3042\u308a\u307e\u305b\u3093\n</code></pre>"},{"location":"running_psalm/issues/NonInvariantPropertyType/","title":"NonInvariantPropertyType","text":"<p>public\u307e\u305f\u306fprotected\u306e\u30af\u30e9\u30b9\u30d7\u30ed\u30d1\u30c6\u30a3\u304c\u3001\u89aa\u30af\u30e9\u30b9\u306e\u4e00\u81f4\u3059\u308b\u30d7\u30ed\u30d1\u30c6\u30a3\u3068\u7570\u306a\u308b\u578b\u3092\u6301\u3064\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {\n    public string $foo = 'hello';\n}\n\nclass B extends A {\n    public ?string $foo;\n}\n</code></pre>"},{"location":"running_psalm/issues/NonInvariantPropertyType/#_1","title":"\u306a\u305c\u3053\u308c\u304c\u554f\u984c\u306a\u306e\u304b","text":"<p>\u578b\u4ed8\u304d\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u5834\u5408\u3001\u3053\u308c\u306f\u30b3\u30f3\u30d1\u30a4\u30eb\u30a8\u30e9\u30fc\u3092\u5f15\u304d\u8d77\u3053\u3059\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"running_psalm/issues/NonStaticSelfCall/","title":"NonStaticSelfCall","text":"<p>\u975e\u9759\u7684\u95a2\u6570\u3092\u9759\u7684\u306b\u547c\u3073\u51fa\u305d\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {\n    public function foo(): void {}\n    public static function bar(): void {\n        self::foo();\n    }\n}\n</code></pre>"},{"location":"running_psalm/issues/NullArgument/","title":"NullArgument","text":"<p>\u95a2\u6570\u304c\u671f\u5f85\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306b\u3001null\u5024\u306e\u5f15\u6570\u3067\u95a2\u6570\u3092\u547c\u3073\u51fa\u305d\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nfunction foo(string $s) : void {}\nfoo(null);\n</code></pre>"},{"location":"running_psalm/issues/NullArrayAccess/","title":"NullArrayAccess","text":"<p><code>null</code>\u306e\u914d\u5217\u5024\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n$arr = null;\necho $arr[0];\n</code></pre>"},{"location":"running_psalm/issues/NullFunctionCall/","title":"NullFunctionCall","text":"<p><code>null</code>\u3092<code>callable</code>\u3068\u3057\u3066\u4f7f\u7528\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n$arr = null;\necho $arr();\n</code></pre>"},{"location":"running_psalm/issues/OverriddenFinalConstant/","title":"OverriddenFinalConstant","text":"<p>final\u3068\u3057\u3066\u5ba3\u8a00\u3055\u308c\u305f\u5b9a\u6570\u304c\u5b50\u30af\u30e9\u30b9\u307e\u305f\u306f\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3067\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3055\u308c\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass Foo {\n    /** @var string */\n    final public const BAR='baz';\n}\n\nclass Bar extends Foo {\n    /** @var string */\n    public const BAR='foobar';\n}\n</code></pre>"},{"location":"running_psalm/issues/OverriddenMethodAccess/","title":"OverriddenMethodAccess","text":"<p>\u30e1\u30bd\u30c3\u30c9\u304c\u89aa\u30af\u30e9\u30b9\u306e\u30e1\u30bd\u30c3\u30c9\u3088\u308a\u3082\u30a2\u30af\u30bb\u30b9\u5236\u9650\u304c\u53b3\u3057\u3044\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {\n    public function foo() : void {}\n}\n\nclass B extends A {\n    protected function foo() : void {}\n}\n</code></pre>"},{"location":"running_psalm/issues/OverriddenPropertyAccess/","title":"OverriddenPropertyAccess","text":"<p>\u30d7\u30ed\u30d1\u30c6\u30a3\u304c\u89aa\u30af\u30e9\u30b9\u306e\u540c\u540d\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3088\u308a\u3082\u30a2\u30af\u30bb\u30b9\u5236\u9650\u304c\u53b3\u3057\u3044\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {\n    /** @var string|null */\n    public $foo;\n}\n\nclass B extends A {\n    /** @var string|null */\n    protected $foo;\n}\n</code></pre>"},{"location":"running_psalm/issues/ParadoxicalCondition/","title":"ParadoxicalCondition","text":"<p><code>RedundantCondition</code>\u3067\u306f\u6355\u6349\u3067\u304d\u306a\u3044\u30d1\u30e9\u30c9\u30c3\u30af\u30b9\u304c\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u30ed\u30b8\u30c3\u30af\u3067\u906d\u9047\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nfunction foo(string $input) : string {\n    return $input === \"a\" ? \"bar\" : ($input === \"a\" ? \"foo\" : \"b\");\n}\n</code></pre>"},{"location":"running_psalm/issues/ParamNameMismatch/","title":"ParamNameMismatch","text":"<p>\u30e1\u30bd\u30c3\u30c9\u304c\u89aa\u30e1\u30bd\u30c3\u30c9\u3092\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3057\u3066\u3044\u308b\u304c\u3001\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u540d\u524d\u3092\u5909\u66f4\u3057\u3066\u3044\u308b\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {\n    public function foo(string $str, bool $b = false) : void {}\n}\n\nclass AChild extends A {\n    public function foo(string $string, bool $b = false) : void {}\n}\n</code></pre>"},{"location":"running_psalm/issues/ParamNameMismatch/#_1","title":"\u306a\u305c\u3053\u308c\u304c\u554f\u984c\u306a\u306e\u304b","text":"<p>PHP 8\u3067\u306f\u3001[\u540d\u524d\u4ed8\u304d\u30d1\u30e9\u30e1\u30fc\u30bf](https://wiki</p>"},{"location":"running_psalm/issues/ParentNotFound/","title":"ParentNotFound","text":"<p>\u89aa\u30af\u30e9\u30b9\u3092\u6301\u305f\u306a\u3044\u30af\u30e9\u30b9\u5185\u3067<code>parent::</code>\u3092\u4f7f\u7528\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {\n  public function foo() : void {\n    parent::foo();\n  }\n}\n</code></pre>"},{"location":"running_psalm/issues/ParseError/","title":"ParseError","text":"<p>PHP Parser\u304c\u30a8\u30e9\u30fc\u306b\u906d\u9047\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {\n  public function foo() : void {\n    echo \"foo\"  }\n}\n</code></pre>"},{"location":"running_psalm/issues/PluginIssue/","title":"PluginIssue","text":"<p>\u30d7\u30e9\u30b0\u30a4\u30f3\u306b\u3088\u3063\u3066\u767a\u884c\u3055\u308c\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"running_psalm/issues/PossibleRawObjectIteration/","title":"PossibleRawObjectIteration","text":"<p>\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u53cd\u5fa9\u51e6\u7406\u3057\u3066\u3044\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002RawObjectIteration\u3068\u6bd4\u8f03\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <pre><code>&lt;?php\nclass A {\n    /** @var string|null */\n    public $foo;\n    /** @var string|null */\n    public $bar;\n}\n\nfunction takesA(A $a) {\n    if (rand(0, 1)) {\n        $a = [1, 2, 3];\n    }\n    foreach ($a as $property) {}\n}\n</code></pre>"},{"location":"running_psalm/issues/PossiblyFalseIterator/","title":"PossiblyFalseIterator","text":"<p><code>false</code>\u306e\u53ef\u80fd\u6027\u306e\u3042\u308b\u5024\u3092\u53cd\u5fa9\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n$arr = rand(0, 1) ? [1, 2, 3] : false;\nforeach ($arr as $a) {}\n</code></pre>"},{"location":"running_psalm/issues/PossiblyFalseOperand/","title":"PossiblyFalseOperand","text":"<p>\u53ef\u80fd\u6027\u306e\u3042\u308b<code>false</code>\u5024\u3092\u64cd\u4f5c\u306e\u4e00\u90e8\u3068\u3057\u3066\u4f7f\u7528\u3057\u305f\u5834\u5408\uff08\u4f8b\uff1a<code>+</code>\u3001<code>.</code>\u3001<code>^</code>\u306a\u3069\uff09\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nfunction echoCommaPosition(string $str) : void {\n    echo 'The comma is located at ' . strpos($str, ',');\n}\n</code></pre>"},{"location":"running_psalm/issues/PossiblyFalseOperand/#_1","title":"\u4fee\u6b63\u65b9\u6cd5","text":"<p>\u8ffd\u52a0\u306e\u30ed\u30b8\u30c3\u30af\u3067<code>false</code>\u5024\u3092\u691c\u51fa\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>&lt;?php\nfunction echoCommaPosition(string $str) : void {\n    $pos = strpos($str, ',');\n    if ($pos === false) {\n        echo 'There is no comma in the string';\n    }\n    echo 'The comma is located at ' . $pos;\n}\n</code></pre> <p>\u3042\u308b\u3044\u306f\u3001\u3053\u306e\u554f\u984c\u3092\u6291\u5236\u3059\u308b\u305f\u3081\u306b\u4e09\u9805\u6f14\u7b97\u5b50\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>&lt;?php\nfunction echoCommaPosition(string $str) : void {\n    echo 'The comma is located at ' . (strpos($str, ',') ?: '');\n}\n</code></pre>"},{"location":"running_psalm/issues/PossiblyFalsePropertyAssignmentValue/","title":"PossiblyFalsePropertyAssignmentValue","text":"<p>false\u306e\u53ef\u80fd\u6027\u304c\u3042\u308b\u5024\u3092\u3001\u975efalse\u306e\u5024\u306e\u307f\u3092\u53d7\u3051\u5165\u308c\u308b\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u5272\u308a\u5f53\u3066\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {\n    /** @var int */\n    public $foo = 0;\n}\n\nfunction assignToA(string $s) {\n    $a = new A();\n    $a-&gt;foo = strpos($s, \"haystack\");\n}\n</code></pre>"},{"location":"running_psalm/issues/PossiblyInvalidArrayAccess/","title":"PossiblyInvalidArrayAccess","text":"<p>\u914d\u5217\u3067\u306f\u306a\u3044\u53ef\u80fd\u6027\u306e\u3042\u308b\u5024\u306e\u914d\u5217\u30aa\u30d5\u30bb\u30c3\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n$arr = rand(0, 1) ? 5 : [4, 3, 2, 1];\necho $arr[0];\n</code></pre>"},{"location":"running_psalm/issues/PossiblyInvalidArrayOffset/","title":"PossiblyInvalidArrayOffset","text":"<p>\u30a2\u30af\u30bb\u30b9\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u308b\u5024\u306b\u914d\u5217\u30aa\u30d5\u30bb\u30c3\u30c8\u304c\u9069\u7528\u3067\u304d\u306a\u3044\u53ef\u80fd\u6027\u304c\u3042\u308b\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n$arr = rand(0, 1) ? [\"a\" =&gt; 5] : \"hello\";\necho $arr[0];\n</code></pre>"},{"location":"running_psalm/issues/PossiblyInvalidClone/","title":"PossiblyInvalidClone","text":"<p>\u30af\u30ed\u30fc\u30f3\u53ef\u80fd\u3067\u306f\u306a\u3044\u53ef\u80fd\u6027\u306e\u3042\u308b\u5024\u3092\u30af\u30ed\u30fc\u30f3\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {}\n\n/**\n * @param A|string $a\n */\nfunction foo($a) {\n    return clone $a;\n}\n</code></pre>"},{"location":"running_psalm/issues/PossiblyInvalidIterator/","title":"PossiblyInvalidIterator","text":"<p>\u7121\u52b9\u3067\u3042\u308b\u53ef\u80fd\u6027\u306e\u3042\u308b\u5024\u3092\u53cd\u5fa9\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n$arr = rand(0, 1) ? [1, 2, 3] : \"hello\";\nforeach ($arr as $a) {}\n</code></pre>"},{"location":"running_psalm/issues/PossiblyInvalidMethodCall/","title":"PossiblyInvalidMethodCall","text":"<p>\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u306a\u3044\u53ef\u80fd\u6027\u306e\u3042\u308b\u5024\u306b\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u305d\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {\n    public function bar() : void {}\n}\n\n/** @return A|int */\nfunction foo() {\n    return rand(0, 1) ? new A : 5;\n}\n\nfoo()-&gt;bar();\n</code></pre>"},{"location":"running_psalm/issues/PossiblyInvalidOperand/","title":"PossiblyInvalidOperand","text":"<p>\u53ef\u80fd\u6027\u306e\u3042\u308b\u7121\u52b9\u306a\u5024\u3092\u64cd\u4f5c\u306e\u4e00\u90e8\u3068\u3057\u3066\u4f7f\u7528\u3057\u305f\u5834\u5408\uff08\u4f8b\uff1a<code>+</code>\u3001<code>.</code>\u3001<code>^</code>\u306a\u3069\uff09\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nfunction foo() : void {\n    $b = rand(0, 1) ? [] : 4;\n    echo $b + 5;\n}\n</code></pre>"},{"location":"running_psalm/issues/PossiblyInvalidPropertyAssignmentValue/","title":"PossiblyInvalidPropertyAssignmentValue","text":"<p>\u53ef\u80fd\u6027\u306e\u3042\u308b\u7121\u52b9\u306a\u5024\u3092\u578b\u4ed8\u304d\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u5272\u308a\u5f53\u3066\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {\n    /** @var int[] */\n    public $bb = [];\n}\n\nclass B {\n    /** @var string[] */\n    public $bb;\n}\n\n$c = rand(0, 1) ? new A : new B;\n$c-&gt;bb = [\"hello\", \"world\"];\n</code></pre>"},{"location":"running_psalm/issues/PossiblyNullArgument/","title":"PossiblyNullArgument","text":"<p>\u95a2\u6570\u304c\u671f\u5f85\u3057\u3066\u3044\u306a\u3044\u306b\u3082\u304b\u304b\u308f\u3089\u305a\u3001null\u306e\u53ef\u80fd\u6027\u306e\u3042\u308b\u5024\u3067\u95a2\u6570\u3092\u547c\u3073\u51fa\u305d\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nfunction foo(string $s): void {}\nfoo(rand(0, 1) ? \"hello\" : null);\n</code></pre>"},{"location":"running_psalm/issues/PossiblyNullArgument/#_1","title":"\u3088\u304f\u3042\u308b\u554f\u984c\u306e\u30b1\u30fc\u30b9","text":""},{"location":"running_psalm/issues/PossiblyNullArgument/#if","title":"<code>if</code>\u5185\u3067\u306e\u95a2\u6570\u547c\u3073\u51fa\u3057\u306e\u4f7f\u7528","text":"<p><pre><code>&lt;?php\nif (is_string($cat-&gt;getName()) {\n    foo($cat-&gt;getName());\n}\n</code></pre> \u3053\u308c\u306f\u5931\u6557\u3057\u307e\u3059\u3002\u306a\u305c\u306a\u3089\u3001<code>$cat-&gt;getName()</code>\u306e\u5f8c\u7d9a\u306e\u547c\u3073\u51fa\u3057\u304c\u5e38\u306b\u540c\u3058\u7d50\u679c\u3092\u8fd4\u3059\u3068\u3044\u3046\u4fdd\u8a3c\u304c\u306a\u3044\u304b\u3089\u3067\u3059\u3002</p>"},{"location":"running_psalm/issues/PossiblyNullArgument/#_2","title":"\u53ef\u80fd\u306a\u89e3\u6c7a\u7b56","text":"<p>\u5909\u6570\u3092\u4f7f\u7528\u3059\u308b\uff1a <pre><code>&lt;?php\n$catName = $cat-&gt;getName();\nif (is_string($catName) {\n    foo($catName);\n}\nunset($catName);\n</code></pre> \u307e\u305f\u306f\u3001\u95a2\u6570\u306e\u5ba3\u8a00\u306b<code>@psalm-mutation-free</code>\u3092\u8ffd\u52a0\u3059\u308b\u3002</p>"},{"location":"running_psalm/issues/PossiblyNullArgument/#if_1","title":"<code>if</code>\u306e\u5f8c\u306b\u5225\u306e\u95a2\u6570\u3092\u547c\u3073\u51fa\u3059","text":"<p><pre><code>&lt;?php\nif (is_string($cat-&gt;getName()) {\n    changeCat();\n    foo($cat-&gt;getName());\n}\n</code></pre> \u3053\u308c\u306f\u5931\u6557\u3057\u307e\u3059\u3002\u306a\u305c\u306a\u3089\u3001psalm\u306f<code>changeCat()</code>\u304c\u5b9f\u969b\u306b<code>$cat</code>\u3092\u5909\u66f4\u3059\u308b\u304b\u3069\u3046\u304b\u3092\u77e5\u308b\u3053\u3068\u304c\u3067\u304d\u306a\u3044\u304b\u3089\u3067\u3059\u3002</p>"},{"location":"running_psalm/issues/PossiblyNullArgument/#_3","title":"\u53ef\u80fd\u306a\u89e3\u6c7a\u7b56","text":"<ul> <li>\u4ed6\u306e\u95a2\u6570\uff08\u3053\u3053\u3067\u306f<code>changeCat()</code>\uff09\u306e\u5ba3\u8a00\u306b\u3082<code>@psalm-mutation-free</code>\u3092\u8ffd\u52a0\u3059\u308b</li> <li>\u5909\u6570\u3092\u4f7f\u7528\u3059\u308b\uff1a\u4e0a\u8a18\u3092\u53c2\u7167</li> </ul>"},{"location":"running_psalm/issues/PossiblyNullArrayAccess/","title":"PossiblyNullArrayAccess","text":"<p>null\u306e\u53ef\u80fd\u6027\u306e\u3042\u308b\u5024\u306e\u914d\u5217\u30aa\u30d5\u30bb\u30c3\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nfunction foo(?array $a) : void {\n    echo $a[0];\n}\n</code></pre>"},{"location":"running_psalm/issues/PossiblyNullArrayAssignment/","title":"PossiblyNullArrayAssignment","text":"<p>null\u306e\u53ef\u80fd\u6027\u306e\u3042\u308b\u914d\u5217\u306b\u5024\u3092\u8a2d\u5b9a\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n$a = null;\n$a[0][] = 1;\n</code></pre>"},{"location":"running_psalm/issues/PossiblyNullArrayOffset/","title":"PossiblyNullArrayOffset","text":"<p>null\u306e\u53ef\u80fd\u6027\u306e\u3042\u308b\u30aa\u30d5\u30bb\u30c3\u30c8\u3092\u4f7f\u7528\u3057\u3066\u914d\u5217\u306e\u5024\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nfunction foo(?int $a) : void {\n    echo [1, 2, 3, 4][$a];\n}\n</code></pre>"},{"location":"running_psalm/issues/PossiblyNullFunctionCall/","title":"PossiblyNullFunctionCall","text":"<p>null\u306e\u53ef\u80fd\u6027\u306e\u3042\u308b\u5024\u306b\u5bfe\u3057\u3066\u95a2\u6570\u3092\u547c\u3073\u51fa\u305d\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nfunction foo(?callable $a) : void {\n    $a();\n}\n</code></pre>"},{"location":"running_psalm/issues/PossiblyNullPropertyFetch/","title":"PossiblyNullPropertyFetch","text":"<p>null\u306e\u53ef\u80fd\u6027\u306e\u3042\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u53d6\u5f97\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {\n    /** @var ?string */\n    public $foo;\n}\n\nfunction foo(?A $a) : void {\n    echo $a-&gt;foo;\n}\n</code></pre>"},{"location":"running_psalm/issues/PossiblyNullReference/","title":"PossiblyNullReference","text":"<p>null\u306e\u53ef\u80fd\u6027\u306e\u3042\u308b\u5024\u306b\u5bfe\u3057\u3066\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u305d\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {\n    public function bar() : void {}\n}\n\nfunction foo(?A $a) : void {\n    $a-&gt;bar();\n}\n</code></pre>"},{"location":"running_psalm/issues/PossiblyUndefinedMethod/","title":"PossiblyUndefinedMethod","text":"<p>\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u306a\u3044\u53ef\u80fd\u6027\u306e\u3042\u308b\u30e1\u30bd\u30c3\u30c9\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {\n    public function bar() : void {}\n}\n\nclass B {}\n\n$a = rand(0, 1) ? new A : new B;\n$a-&gt;bar();\n</code></pre>"},{"location":"running_psalm/issues/PossiblyUndefinedStringArrayOffset/","title":"PossiblyUndefinedStringArrayOffset","text":"<p>\u8a2d\u5b9a\u30d5\u30e9\u30b0<code>ensureArrayStringOffsetsExist</code>\u304c<code>true</code>\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u304a\u308a\u3001\u6587\u5b57\u5217\u30ad\u30fc\u306e\u30aa\u30d5\u30bb\u30c3\u30c8\u306e\u5b58\u5728\u304c\u30c1\u30a7\u30c3\u30af\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/** \n * @param array&lt;string, string&gt; $arr \n */\nfunction foo(array $arr) : void {\n    echo $arr[\"hello\"];\n}\n</code></pre>"},{"location":"running_psalm/issues/PossiblyUnusedMethod/","title":"PossiblyUnusedMethod","text":"<p><code>--find-dead-code</code>\u304c\u30aa\u30f3\u306b\u306a\u3063\u3066\u3044\u3066\u3001Psalm\u304cpublic\u307e\u305f\u306fprotected\u30e1\u30bd\u30c3\u30c9\u3078\u306e\u547c\u3073\u51fa\u3057\u3092\u898b\u3064\u3051\u3089\u308c\u306a\u3044\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002 \u3053\u306e\u30e1\u30bd\u30c3\u30c9\u304c\u4f7f\u7528\u3055\u308c\u3066\u304a\u308a\u3001\u516c\u958bAPI\u306e\u4e00\u90e8\u3067\u3042\u308b\u5834\u5408\u306f\u3001\u542b\u3080\u30af\u30e9\u30b9\u306b<code>@psalm-api</code>\u3067\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u3066\u304f\u3060\u3055\u3044\u3002</p> <pre><code>&lt;?php\nclass A {\n    public function foo() : void {}\n    public function bar() : void {}\n}\n(new A)-&gt;foo();\n</code></pre>"},{"location":"running_psalm/issues/PossiblyUnusedReturnValue/","title":"PossiblyUnusedReturnValue","text":"<p><code>--find-dead-code</code>\u304c\u30aa\u30f3\u306b\u306a\u3063\u3066\u3044\u3066\u3001Psalm\u304cpublic\u307e\u305f\u306fprotected\u30e1\u30bd\u30c3\u30c9\u306e\u623b\u308a\u5024\u306e\u578b\u306e\u4f7f\u7528\u3092\u898b\u3064\u3051\u3089\u308c\u306a\u3044\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {\n    public function foo() : string {\n        return \"hello\";\n    }\n}\n\n(new A)-&gt;foo();\n</code></pre>"},{"location":"running_psalm/issues/PropertyNotSetInConstructor/","title":"PropertyNotSetInConstructor","text":"<p>\u521d\u671f\u5316\u3055\u308c\u3066\u3044\u306a\u3044\u30d7\u30ed\u30d1\u30c6\u30a3\u306f\u9759\u7684\u306b\u5206\u6790\u3059\u308b\u306e\u304c\u96e3\u3057\u3044\u3067\u3059\u3002\u30df\u30b9\u3092\u9632\u3050\u305f\u3081\u306b\u3001Psalm\u306f\u3059\u3079\u3066\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u304c\u521d\u671f\u5316\u3055\u308c\u308b\u3079\u304d\u3067\u3042\u308b\u3053\u3068\u3092\u5f37\u5236\u3057\u307e\u3059\u3002 \u3053\u308c\u306fMissingConstructor\u3068\u3053\u306e\u554f\u984c\u3092\u901a\u3058\u3066\u884c\u308f\u308c\u307e\u3059\u3002 \u305d\u306e\u5f8c\u3001Psalm\u306f\u30b3\u30fc\u30c9\u30d9\u30fc\u30b9\u5185\u306e\u3059\u3079\u3066\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u304c\u521d\u671f\u5316\u3055\u308c\u3066\u3044\u308b\u3068\u4eee\u5b9a\u3057\u307e\u3059\u3002 \u3053\u308c\u306b\u3088\u308a\u3001\u521d\u671f\u5316\u306e\u6b20\u5982\u3092\u5831\u544a\u3059\u308b\u3060\u3051\u3067\u306a\u304f\u3001RedundantPropertyInitializationCheck\u3082\u5831\u544a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002 \u3053\u306e\u554f\u984c\u306f\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u3092\u6301\u305f\u306a\u3044\u975enull\u30d7\u30ed\u30d1\u30c6\u30a3\u304c\u30af\u30e9\u30b9\u306e\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3067\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002 \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c\u521d\u671f\u5316\u3055\u308c\u3066\u3044\u306a\u3044\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u4f9d\u5b58\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u3053\u306e\u554f\u984c\u3092\u6291\u5236\u3057\u3001\u540c\u69d8\u306bMissingConstructor\u3068RedundantPropertyInitializationCheck\u3082\u6291\u5236\u3059\u308b\u3053\u3068\u3092\u304a\u52e7\u3081\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {\n    /** @var string */\n    public $foo;\n\n    public function __construct() {}\n}\n</code></pre>"},{"location":"running_psalm/issues/PropertyTypeCoercion/","title":"PropertyTypeCoercion","text":"<p>\u30d7\u30ed\u30d1\u30c6\u30a3\u304c\u671f\u5f85\u3059\u308b\u578b\u3088\u308a\u3082\u5177\u4f53\u7684\u3067\u306a\u3044\u578b\u306e\u5024\u3067\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u8a2d\u5b9a\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {}\nclass B extends A {}\n\nfunction takesA(C $c, A $a) : void {\n    $c-&gt;b = $a;\n}\n\nclass C {\n    /** @var ?B */\n    public $b;\n}\n</code></pre>"},{"location":"running_psalm/issues/RawObjectIteration/","title":"RawObjectIteration","text":"<p>\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u53cd\u5fa9\u51e6\u7406\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002\u3053\u306e\u554f\u984c\u306f\u3001\u610f\u56f3\u3057\u306a\u3044\u52d5\u4f5c\u3067\u3042\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u305f\u3081\u5b58\u5728\u3057\u307e\u3059\uff08\u4f8b\uff1a\u914d\u5217\u3092\u53cd\u5fa9\u51e6\u7406\u3059\u308b\u3064\u3082\u308a\u3060\u3063\u305f\u5834\u5408\u306a\u3069\uff09\u3002</p> <pre><code>&lt;?php\nclass A {\n    /** @var string|null */\n    public $foo;\n    /** @var string|null */\n    public $bar;\n}\n\nfunction takesA(A $a) {\n    foreach ($a as $property) {}\n}\n</code></pre>"},{"location":"running_psalm/issues/RedundantCast/","title":"RedundantCast","text":"<p>\u30ad\u30e3\u30b9\u30c8\uff08string\u3001int\u3001float\u306a\u3069\uff09\u304c\u5197\u9577\u306a\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nfunction foo(string $s) : string {\n    return (string) $s;\n}\n</code></pre>"},{"location":"running_psalm/issues/RedundantCastGivenDocblockType/","title":"RedundantCastGivenDocblockType","text":"<p>docblock\u3067\u63d0\u4f9b\u3055\u308c\u305f\u578b\u3092\u8003\u616e\u3059\u308b\u3068\u3001\u30ad\u30e3\u30b9\u30c8\uff08string\u3001int\u3001float\u306a\u3069\uff09\u304c\u5197\u9577\u3067\u3042\u308b\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/**\n * @param  string $s\n */\nfunction foo($s) : string {\n    return (string) $s;\n}\n</code></pre>"},{"location":"running_psalm/issues/RedundantCondition/","title":"RedundantCondition","text":"<p>\u4ee5\u524d\u306e\u30a2\u30b5\u30fc\u30b7\u30e7\u30f3\u3092\u8003\u616e\u3059\u308b\u3068\u6761\u4ef6\u304c\u5197\u9577\u306a\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {}\nfunction foo(A $a) : ?A {\n    if ($a) return $a;\n    return null;\n}\n</code></pre>"},{"location":"running_psalm/issues/RedundantFlag/","title":"RedundantFlag","text":"<p>\u30d5\u30e9\u30b0\u304c\u5197\u9577\u306a\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001FILTER_NULL_ON_FAILURE\u306f\u4f55\u3082\u52b9\u679c\u304c\u3042\u308a\u307e\u305b\u3093\u3002</p> <pre><code>&lt;?php\n$x = filter_input(INPUT_GET, 'hello', FILTER_VALIDATE_DOMAIN, array('options' =&gt; array('default' =&gt; 'world.com'), 'flags' =&gt; FILTER_NULL_ON_FAILURE));\n</code></pre>"},{"location":"running_psalm/issues/RedundantFunctionCall/","title":"RedundantFunctionCall","text":"<p>\u95a2\u6570\u547c\u3073\u51fa\u3057\uff08<code>array_values</code>\u3001<code>strtolower</code>\u3001<code>ksort</code>\u306a\u3069\uff09\u304c\u5197\u9577\u306a\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n$a = ['already', 'a', 'list'];\n$redundant = array_values($a);\n$alreadyLower = strtolower($redundant[0]);\n</code></pre>"},{"location":"running_psalm/issues/RedundantFunctionCallGivenDocblockType/","title":"RedundantFunctionCallGivenDocblockType","text":"<p>1\u3064\u4ee5\u4e0a\u306edocblock\u3067\u63d0\u4f9b\u3055\u308c\u305f\u60c5\u5831\u3092\u8003\u616e\u3059\u308b\u3068\u95a2\u6570\u547c\u3073\u51fa\u3057\u304c\u5197\u9577\u306a\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002 \u3053\u308c\u306f\u671b\u307e\u3057\u3044\u5834\u5408\u304c\u3042\u308a\u307e\u3059\uff08\u4f8b\uff1a\u30e6\u30fc\u30b6\u30fc\u5165\u529b\u306e\u30c1\u30a7\u30c3\u30af\u6642\uff09\u306e\u3067\u3001\u975edocblock\u30bf\u30a4\u30d7\u306b\u306e\u307f\u9069\u7528\u3055\u308c\u308bRedundantFunctionCall\u3068\u306f\u7570\u306a\u308a\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/**\n * @param array{0: lowercase-string, 1: non-empty-list&lt;lowercase-string&gt;} $s\n *\n * @return lowercase-string\n */\nfunction foo($s): string {\n    $redundantList = array_values($s);\n    $redundantSubList = array_values($s[1]);\n    $redundantLowercase = strtolower($redundantSubList[0]);\n    return $redundantLowercase;\n}\n</code></pre>"},{"location":"running_psalm/issues/RedundantPropertyInitializationCheck/","title":"RedundantPropertyInitializationCheck","text":"<p>\u521d\u671f\u5316\u3055\u308c\u3066\u3044\u306a\u3044\u30d7\u30ed\u30d1\u30c6\u30a3\u306f\u9759\u7684\u306b\u5206\u6790\u3059\u308b\u306e\u304c\u96e3\u3057\u3044\u3067\u3059\u3002\u30df\u30b9\u3092\u9632\u3050\u305f\u3081\u306b\u3001Psalm\u306f\u3059\u3079\u3066\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u304c\u521d\u671f\u5316\u3055\u308c\u308b\u3079\u304d\u3067\u3042\u308b\u3053\u3068\u3092\u5f37\u5236\u3057\u307e\u3059\u3002 \u3053\u308c\u306fPropertyNotSetInConstructor\u3068MissingConstructor\u3092\u901a\u3058\u3066\u884c\u308f\u308c\u307e\u3059\u3002 \u305d\u306e\u5f8c\u3001Psalm\u306f\u30b3\u30fc\u30c9\u30d9\u30fc\u30b9\u5185\u306e\u3059\u3079\u3066\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u304c\u521d\u671f\u5316\u3055\u308c\u3066\u3044\u308b\u3068\u4eee\u5b9a\u3057\u307e\u3059\u3002 \u3053\u308c\u306b\u3088\u308a\u3001\u521d\u671f\u5316\u306e\u6b20\u5982\u3092\u5831\u544a\u3059\u308b\u3060\u3051\u3067\u306a\u304f\u3001\u3053\u306e\u554f\u984c\u3082\u5831\u544a\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002 \u3053\u306e\u554f\u984c\u306f\u3001\u975enullable\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u5bfe\u3057\u3066<code>isset()</code>\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002\u3059\u3079\u3066\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u304c\u521d\u671f\u5316\u3055\u308c\u3066\u3044\u308b\u3068\u4eee\u5b9a\u3055\u308c\u308b\u305f\u3081\u3001\u3053\u306e\u30c1\u30a7\u30c3\u30af\u306f\u5197\u9577\u3067\u3059\u3002 \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c\u521d\u671f\u5316\u3055\u308c\u3066\u3044\u306a\u3044\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u4f9d\u5b58\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u3053\u306e\u554f\u984c\u3092\u6291\u5236\u3057\u3001\u540c\u69d8\u306bPropertyNotSetInConstructor\u3068MissingConstructor\u3082\u6291\u5236\u3059\u308b\u3053\u3068\u3092\u304a\u52e7\u3081\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n    class A {\n        public string $bar;\n        public function getBar() : string {\n            if (isset($this-&gt;bar)) {\n                return $this-&gt;bar;\n            }\n            return \"hello\";\n        }\n    }\n</code></pre>"},{"location":"running_psalm/issues/ReferenceConstraintViolation/","title":"ReferenceConstraintViolation","text":"<p>\u53c2\u7167\u6e21\u3057\u5909\u6570\u306e\u578b\u3092\u5909\u66f4\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nfunction foo(string &amp;$a) {\n    $a = 5;\n}\n</code></pre>"},{"location":"running_psalm/issues/ReferenceReusedFromConfusingScope/","title":"ReferenceReusedFromConfusingScope","text":"<p>\u6df7\u4e71\u3092\u62db\u304f\u53ef\u80fd\u6027\u306e\u3042\u308b\u30b9\u30b3\u30fc\u30d7\u3067\u5272\u308a\u5f53\u3066\u3089\u308c\u305f\u53c2\u7167\u304c\u5f8c\u3067\u518d\u5229\u7528\u3055\u308c\u308b\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002 PHP\u306f\u4ed6\u306e\u307b\u3068\u3093\u3069\u306e\u8a00\u8a9e\u3068\u540c\u3058\u3088\u3046\u306b\u30eb\u30fc\u30d7\u3084if\u3092\u30b9\u30b3\u30fc\u30d7\u3057\u306a\u3044\u305f\u3081\u3001\u3088\u304f\u3042\u308b\u554f\u984c\u306f\u3001\u305d\u306e\u3088\u3046\u306a\u30b9\u30b3\u30fc\u30d7\u3067\u5ba3\u8a00\u3055\u308c\u305f\u5909\u6570\u306e\u518d\u5229\u7528\u3067\u3059\u3002\u901a\u5e38\u3001\u3059\u3067\u306b\u5b9a\u7fa9\u3055\u308c\u305f\u5909\u6570\u3078\u306e\u518d\u4ee3\u5165\u306f\u5358\u306b\u518d\u4ee3\u5165\u3059\u308b\u3060\u3051\u306a\u306e\u3067\u554f\u984c\u3042\u308a\u307e\u305b\u3093\u304c\u3001\u3059\u3067\u306b\u5b9a\u7fa9\u3055\u308c\u305f\u5909\u6570\u304c\u53c2\u7167\u3067\u3042\u308b\u5834\u5408\u3001\u53c2\u7167\u5148\u306e\u5909\u6570\u306e\u5024\u3092\u5909\u66f4\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n$arr = [1, 2, 3];\nforeach ($arr as &amp;$i) {\n    ++$i;\n}\n// ...\u53c2\u7167\u3068\u3057\u3066\u306e$i\u306e\u4f7f\u7528\u304c\u5fd8\u308c\u3089\u308c\u305f\u5f8c\u306e\u30b3\u30fc\u30c9\nfor ($i = 0; $i &lt; 10; ++$i) {\n    echo $i;\n}\n// $arr\u306f\u671f\u5f85\u3055\u308c\u308b[2, 3, 4]\u3067\u306f\u306a\u304f[2, 3, 10]\u306b\u306a\u308a\u307e\u3059\n</code></pre> <p>\u3053\u306e\u554f\u984c\u3092\u4fee\u6b63\u3059\u308b\u306b\u306f\u3001\u305d\u306e\u3088\u3046\u306a\u30b9\u30b3\u30fc\u30d7\u3067\u4f7f\u7528\u3057\u305f\u5f8c\u306b\u53c2\u7167\u3092\u89e3\u9664\u3057\u307e\u3059\uff1a</p> <pre><code>&lt;?php\n$arr = [1, 2, 3];\nforeach ($arr as &amp;$i) {\n    ++$i;\n}\nunset($i);\nfor ($i = 0; $i &lt; 10; ++$i) {\n    echo $i;\n}\n// $arr\u306f\u6b63\u3057\u304f[2, 3, 4]\u306b\u306a\u308a\u307e\u3059\n</code></pre>"},{"location":"running_psalm/issues/ReservedWord/","title":"ReservedWord","text":"<p>\u30af\u30e9\u30b9\u540d\u3068\u3057\u3066\u4e88\u7d04\u8a9e\u3092\u4f7f\u7528\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nfunction foo(resource $res) : void {}\n</code></pre>"},{"location":"running_psalm/issues/RiskyCast/","title":"RiskyCast","text":"<p>\u914d\u5217\u3092int\u307e\u305f\u306ffloat\u306b\u30ad\u30e3\u30b9\u30c8\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n$foo = (int) array( 'hello' );\n</code></pre>"},{"location":"running_psalm/issues/RiskyCast/#_1","title":"\u306a\u305c\u3053\u308c\u304c\u554f\u984c\u306a\u306e\u304b","text":"<p>\u30ad\u30e3\u30b9\u30c8\u306e\u7d50\u679c\u306f\u914d\u5217\u304c\u7a7a\u304b\u3069\u3046\u304b\u306b\u3088\u3063\u3066\u7570\u306a\u308a\u3001\u7c21\u5358\u306b1\u3064\u305a\u308c\u305f\u30a8\u30e9\u30fc\u306b\u3064\u306a\u304c\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"running_psalm/issues/RiskyCast/#_2","title":"\u4fee\u6b63\u65b9\u6cd5","text":"<p>\u914d\u5217\u3092int\u307e\u305f\u306ffloat\u306b\u30ad\u30e3\u30b9\u30c8\u3057\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"running_psalm/issues/RiskyTruthyFalsyComparison/","title":"RiskyTruthyFalsyComparison","text":"<p>\u8907\u6570\u306e\u578b\u3092\u6301\u3064\u5024\u3092\u6bd4\u8f03\u3059\u308b\u969b\u306b\u3001\u5c11\u306a\u304f\u3068\u30821\u3064\u306e\u578b\u304c\u771f\u507d\u5024\uff08truthy\uff09\u307e\u305f\u306f\u507d\u5024\uff08falsy\uff09\u3057\u304b\u6301\u305f\u305a\u3001\u4ed6\u306e\u578b\u304c\u771f\u507d\u5024\u3068\u507d\u5024\u306e\u4e21\u65b9\u3092\u542b\u3080\u53ef\u80fd\u6027\u304c\u3042\u308b\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/** \n * @param array|null $arg \n * @return void \n */\nfunction foo($arg) {\n    if ($arg) {\n        // \u3053\u308c\u306f\u30ea\u30b9\u30af\u304c\u3042\u308a\u307e\u3059\u3002\u7a7a\u306e\u914d\u5217\u3068null\u306e\u30b1\u30fc\u30b9\u304c\u4e00\u7dd2\u306b\u51e6\u7406\u3055\u308c\u308b\u304b\u3089\u3067\u3059\n    }\n\n    if (!$arg) {\n        // \u3053\u308c\u306f\u30ea\u30b9\u30af\u304c\u3042\u308a\u307e\u3059\u3002\u7a7a\u306e\u914d\u5217\u3068null\u306e\u30b1\u30fc\u30b9\u304c\u4e00\u7dd2\u306b\u51e6\u7406\u3055\u308c\u308b\u304b\u3089\u3067\u3059\n    }\n}\n</code></pre>"},{"location":"running_psalm/issues/RiskyTruthyFalsyComparison/#_1","title":"\u306a\u305c\u3053\u308c\u304c\u554f\u984c\u306a\u306e\u304b","text":"<p>\u5909\u6570\u306e\u771f\u507d\u5024/\u507d\u5024\u306e\u578b\u306f\u3001\u3057\u3070\u3057\u3070\u5fd8\u308c\u3089\u308c\u3001\u660e\u793a\u7684\u306b\u51e6\u7406\u3055\u308c\u306a\u3044\u305f\u3081\u3001\u8ffd\u8de1\u304c\u96e3\u3057\u3044\u30a8\u30e9\u30fc\u306e\u539f\u56e0\u3068\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"running_psalm/issues/RiskyTruthyFalsyComparison/#_2","title":"\u4fee\u6b63\u65b9\u6cd5","text":"<p>\u53b3\u5bc6\u306a\u6bd4\u8f03\u3067\u5909\u6570\u3092\u660e\u793a\u7684\u306b\u691c\u8a3c\u3057\u307e\u3059\u3002</p>"},{"location":"running_psalm/issues/TaintedCookie/","title":"TaintedCookie","text":"<p>\u6f5c\u5728\u7684\u306a\u30af\u30c3\u30ad\u30fc\u30a4\u30f3\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u3002\u3053\u306e\u30eb\u30fc\u30eb\u306f\u3001\u30e6\u30fc\u30b6\u30fc\u5236\u5fa1\u306e\u5165\u529b\u304c\u30af\u30c3\u30ad\u30fc\u306b\u6e21\u3055\u308c\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p>"},{"location":"running_psalm/issues/TaintedCookie/#_1","title":"\u30ea\u30b9\u30af","text":"<p>\u4efb\u610f\u306e\u30af\u30c3\u30ad\u30fc\u3092\u8a2d\u5b9a\u3059\u308b\u30ea\u30b9\u30af\u306f\u3001\u3055\u3089\u306a\u308b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u8a2d\u5b9a\u306b\u4f9d\u5b58\u3057\u307e\u3059\u3002\u6f5c\u5728\u7684\u306a\u554f\u984c\u306e\u4f8b\uff1a - \u30bb\u30c3\u30b7\u30e7\u30f3\u56fa\u5b9a\uff1a\u8a8d\u8a3c\u30af\u30c3\u30ad\u30fc\u304c\u6210\u529f\u3057\u305f\u30ed\u30b0\u30a4\u30f3\u5f8c\u306b\u5909\u66f4\u3055\u308c\u306a\u3044\u5834\u5408\u3001\u653b\u6483\u8005\u304c\u30bb\u30c3\u30b7\u30e7\u30f3\u30af\u30c3\u30ad\u30fc\u3092\u56fa\u5b9a\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\u56fa\u5b9a\u3055\u308c\u305f\u30af\u30c3\u30ad\u30fc\u3067\u88ab\u5bb3\u8005\u304c\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u3068\u3001\u653b\u6483\u8005\u306f\u30e6\u30fc\u30b6\u30fc\u306e\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u4e57\u3063\u53d6\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 - \u30af\u30ed\u30b9\u30b5\u30a4\u30c8\u30b9\u30af\u30ea\u30d7\u30c6\u30a3\u30f3\u30b0\uff08XSS\uff09\uff1a\u4e00\u90e8\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b3\u30fc\u30c9\u304c\u30af\u30c3\u30ad\u30fc\u3092\u8aad\u307f\u53d6\u308a\u3001\u30e6\u30fc\u30b6\u30fc\u306b\u5bfe\u3057\u3066\u7121\u5bb3\u5316\u305b\u305a\u306b\u51fa\u529b\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"running_psalm/issues/TaintedCookie/#_2","title":"\u4f8b","text":"<pre><code>&lt;?php\nsetcookie('authtoken', $_GET['value'], time() + (86400 * 30), '/');\n</code></pre>"},{"location":"running_psalm/issues/TaintedCookie/#_3","title":"\u7de9\u548c\u7b56","text":"<p>\u3053\u308c\u304c\u5fc5\u8981\u306a\u6a5f\u80fd\u3067\u3042\u308b\u5834\u5408\u3001\u30af\u30c3\u30ad\u30fc\u306e\u8a2d\u5b9a\u3092\u5024\u306b\u9650\u5b9a\u3057\u3001\u540d\u524d\u306b\u306f\u8a2d\u5b9a\u3057\u306a\u3044\u3088\u3046\u306b\u3057\u307e\u3059\uff08\u4f8b\u306e<code>authtoken</code>\u306a\u3069\uff09\u3002 \u8a8d\u8a3c\u8a66\u884c\u5f8c\u306b\u30bb\u30c3\u30b7\u30e7\u30f3\u30c8\u30fc\u30af\u30f3\u3092\u5909\u66f4\u3059\u308b\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"running_psalm/issues/TaintedCookie/#_4","title":"\u3055\u3089\u306a\u308b\u30ea\u30bd\u30fc\u30b9","text":"<ul> <li>OWASP\u306e\u30bb\u30c3\u30b7\u30e7\u30f3\u56fa\u5b9a\u306b\u95a2\u3059\u308bWiki</li> <li>\u30bb\u30c3\u30b7\u30e7\u30f3\u7ba1\u7406\u30c1\u30fc\u30c8\u30b7\u30fc\u30c8</li> <li>CWE-384</li> </ul>"},{"location":"running_psalm/issues/TaintedEval/","title":"TaintedEval","text":"<p>\u30e6\u30fc\u30b6\u30fc\u5236\u5fa1\u306e\u5165\u529b\u304c<code>eval</code>\u547c\u3073\u51fa\u3057\u306b\u6e21\u3055\u308c\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002 \u4fe1\u983c\u3067\u304d\u306a\u3044\u30e6\u30fc\u30b6\u30fc\u5165\u529b\u3092<code>eval</code>\u547c\u3073\u51fa\u3057\u306b\u6e21\u3059\u3053\u3068\u306f\u5371\u967a\u3067\u3059\u3002\u4efb\u610f\u306e\u30c7\u30fc\u30bf\u304c\u30b5\u30fc\u30d0\u30fc\u4e0a\u3067\u5b9f\u884c\u3055\u308c\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>&lt;?php\n$name = $_GET[\"name\"];\nevalCode($name);\n\nfunction evalCode(string $name) {\n    eval($name);\n}\n</code></pre>"},{"location":"running_psalm/issues/TaintedExtract/","title":"TaintedExtract","text":"<p>\u30e6\u30fc\u30b6\u30fc\u5236\u5fa1\u306e\u914d\u5217\u304c<code>extract</code>\u547c\u3073\u51fa\u3057\u306b\u6e21\u3055\u308c\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n$array = $_GET;\nextract($array);\n</code></pre>"},{"location":"running_psalm/issues/TaintedFile/","title":"TaintedFile","text":"<p>\u3053\u306e\u30eb\u30fc\u30eb\u306f\u3001\u30e6\u30fc\u30b6\u30fc\u5236\u5fa1\u306e\u5165\u529b\u304c\u6a5f\u5bc6\u6027\u306e\u9ad8\u3044\u30d5\u30a1\u30a4\u30eb\u64cd\u4f5c\u306b\u6e21\u3055\u308c\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p>"},{"location":"running_psalm/issues/TaintedFile/#_1","title":"\u30ea\u30b9\u30af","text":"<p>\u3053\u3053\u3067\u306e\u30ea\u30b9\u30af\u306f\u3001\u5b9f\u969b\u306e\u64cd\u4f5c\u306b\u30e6\u30fc\u30b6\u30fc\u5236\u5fa1\u306e\u5165\u529b\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u3001\u304a\u3088\u3073\u305d\u308c\u304c\u3069\u306e\u3088\u3046\u306b\u51e6\u7406\u3055\u308c\u308b\u304b\u306b\u3088\u3063\u3066\u7570\u306a\u308a\u307e\u3059\u3002 \u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30ea\u30b9\u30af\u304c\u3042\u308a\u307e\u3059\uff1a - \u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210   - \u4f8b\uff1a<code>file_put_contents</code>   - \u30ea\u30b9\u30af\uff1a\u30b5\u30fc\u30d0\u30fc\u306e\u8a2d\u5b9a\u306b\u3088\u3063\u3066\u306f\u3001\u30ea\u30e2\u30fc\u30c8\u30b3\u30fc\u30c9\u5b9f\u884c\u306b\u3064\u306a\u304c\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\uff08\u4f8b\uff1a\u30a6\u30a7\u30d6\u30eb\u30fc\u30c8\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u66f8\u304d\u8fbc\u3080\uff09 - \u30d5\u30a1\u30a4\u30eb\u306e\u5909\u66f4   - \u4f8b\uff1a<code>file_put_contents</code>   - \u30ea\u30b9\u30af\uff1a\u30b5\u30fc\u30d0\u30fc\u306e\u8a2d\u5b9a\u306b\u3088\u3063\u3066\u306f\u3001\u30ea\u30e2\u30fc\u30c8\u30b3\u30fc\u30c9\u5b9f\u884c\u306b\u3064\u306a\u304c\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\uff08\u4f8b\uff1aPHP\u30d5\u30a1\u30a4\u30eb\u306e\u5909\u66f4\uff09 - \u30d5\u30a1\u30a4\u30eb\u306e\u8aad\u307f\u53d6\u308a   - \u4f8b\uff1a<code>file_get_contents</code>   - \u30ea\u30b9\u30af\uff1a\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u304b\u3089\u6a5f\u5bc6\u30c7\u30fc\u30bf\u304c\u9732\u51fa\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\uff08\u4f8b\uff1a\u8a2d\u5b9a\u5024\u3001\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u63d0\u51fa\u3057\u305f\u30d5\u30a1\u30a4\u30eb\uff09 - \u30d5\u30a1\u30a4\u30eb\u306e\u524a\u9664   - \u4f8b\uff1a<code>unlink</code>   - \u30ea\u30b9\u30af\uff1a\u30b5\u30fc\u30d3\u30b9\u62d2\u5426\uff08DoS\uff09\u3084\u6f5c\u5728\u7684\u306b\u30ea\u30e2\u30fc\u30c8\u30b3\u30fc\u30c9\u5b9f\u884c\uff08RCE\uff09\u306b\u3064\u306a\u304c\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\uff08\u4f8b\uff1a\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b3\u30fc\u30c9\u306e\u524a\u9664\u3001.htaccess\u30d5\u30a1\u30a4\u30eb\u306e\u524a\u9664\uff09</p>"},{"location":"running_psalm/issues/TaintedFile/#_2","title":"\u4f8b","text":"<pre><code>&lt;?php\n$content = file_get_contents($_GET['header']);\necho $content;\n</code></pre>"},{"location":"running_psalm/issues/TaintedFile/#_3","title":"\u7de9\u548c\u7b56","text":"<p>\u53ef\u80fd\u306a\u9650\u308a\u3001\u30d5\u30a1\u30a4\u30eb\u64cd\u4f5c\u306e\u540d\u524d\u3092\u691c\u8a3c\u3059\u308b\u305f\u3081\u306b\u8a31\u53ef\u30ea\u30b9\u30c8\u30a2\u30d7\u30ed\u30fc\u30c1\u3092\u4f7f\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u30e6\u30fc\u30b6\u30fc\u5236\u5fa1\u306e\u30d5\u30a1\u30a4\u30eb\u540d\u304b\u3089<code>..</code>\u3001<code>\\</code>\u3001<code>/</code>\u3092\u53d6\u308a\u9664\u3044\u3066\u7121\u5bb3\u5316\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"running_psalm/issues/TaintedFile/#_4","title":"\u3055\u3089\u306a\u308b\u30ea\u30bd\u30fc\u30b9","text":"<ul> <li>\u30d5\u30a1\u30a4\u30eb\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u30c1\u30fc\u30c8\u30b7\u30fc\u30c8</li> <li>\u5236\u9650\u306e\u306a\u3044\u30d5\u30a1\u30a4\u30eb\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u306b\u95a2\u3059\u308bOWASP Wiki</li> <li>CWE-73</li> </ul>"},{"location":"running_psalm/issues/TaintedInclude/","title":"TaintedInclude","text":"<p>\u30e6\u30fc\u30b6\u30fc\u5236\u5fa1\u306e\u5165\u529b\u304c<code>include</code>\u307e\u305f\u306f<code>require</code>\u5f0f\u306b\u6e21\u3055\u308c\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002 \u4fe1\u983c\u3067\u304d\u306a\u3044\u30e6\u30fc\u30b6\u30fc\u5165\u529b\u3092<code>include</code>\u547c\u3073\u51fa\u3057\u306b\u6e21\u3059\u3053\u3068\u306f\u5371\u967a\u3067\u3059\u3002\u653b\u6483\u8005\u304c\u30b5\u30fc\u30d0\u30fc\u4e0a\u3067\u4efb\u610f\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5b9f\u884c\u3067\u304d\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>&lt;?php\n$name = $_GET[\"name\"];\nincludeCode($name);\n\nfunction includeCode(string $name) : void {\n    include($name . '.php');\n}\n</code></pre>"},{"location":"running_psalm/issues/TaintedLdap/","title":"TaintedLdap","text":"<p>\u6f5c\u5728\u7684\u306aLDAP\u30a4\u30f3\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u3002\u3053\u306e\u30eb\u30fc\u30eb\u306f\u3001\u30e6\u30fc\u30b6\u30fc\u5236\u5fa1\u306e\u5165\u529b\u304cLDAP\u30ea\u30af\u30a8\u30b9\u30c8\u306b\u6e21\u3055\u308c\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p>"},{"location":"running_psalm/issues/TaintedLdap/#_1","title":"\u30ea\u30b9\u30af","text":"<p>\u4fe1\u983c\u3067\u304d\u306a\u3044\u30e6\u30fc\u30b6\u30fc\u5165\u529b\u3092LDAP\u30ea\u30af\u30a8\u30b9\u30c8\u306b\u6e21\u3059\u3053\u3068\u306f\u5371\u967a\u3067\u3042\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u3089\u306eLDAP\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u30ed\u30b0\u30a4\u30f3\u76ee\u7684\u3067\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u8a8d\u8a3c\u30d0\u30a4\u30d1\u30b9\u306b\u3064\u306a\u304c\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\u653b\u6483\u8005\u306f\u4efb\u610f\u306e\u30e6\u30fc\u30b6\u30fc\u306b\u5bfe\u3057\u3066<code>true</code>\u3068\u8a55\u4fa1\u3055\u308c\u308b\u30d5\u30a3\u30eb\u30bf\u3092\u66f8\u304f\u3053\u3068\u304c\u3067\u304d\u3001\u305d\u306e\u305f\u3081\u7c21\u5358\u306b\u8a8d\u8a3c\u60c5\u5831\u3092\u7dcf\u5f53\u305f\u308a\u3067\u304d\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"running_psalm/issues/TaintedLdap/#_2","title":"\u4f8b","text":"<pre><code>&lt;?php\n$ds = ldap_connect('example.com');\n$dn = 'o=Psalm, c=US';\n$filter = $_GET['filter'];\nldap_search($ds, $dn, $filter, []);\n</code></pre>"},{"location":"running_psalm/issues/TaintedLdap/#_3","title":"\u7de9\u548c\u7b56","text":"<p>LDAP\u30d5\u30a3\u30eb\u30bf\u3068DN\u306e\u30e6\u30fc\u30b6\u30fc\u5165\u529b\u3092\u30a8\u30b9\u30b1\u30fc\u30d7\u3059\u308b\u306b\u306f\u3001<code>ldap_escape</code>\u3092\u4f7f\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"running_psalm/issues/TaintedLdap/#_4","title":"\u3055\u3089\u306a\u308b\u30ea\u30bd\u30fc\u30b9","text":"<ul> <li>LDAP\u30a4\u30f3\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u306b\u95a2\u3059\u308bOWASP Wiki</li> <li>LDAP\u30a4\u30f3\u30b8\u30a7\u30af\u30b7\u30e7\u30f3\u9632\u6b62\u30c1\u30fc\u30c8\u30b7\u30fc\u30c8</li> <li>CWE-90</li> </ul>"},{"location":"running_psalm/issues/TaintedSsrf/","title":"TaintedSSRF","text":"<p>\u6f5c\u5728\u7684\u306a\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\u30ea\u30af\u30a8\u30b9\u30c8\u30d5\u30a9\u30fc\u30b8\u30a7\u30ea\uff08SSRF\uff09\u306e\u8106\u5f31\u6027\u3002\u3053\u306e\u30eb\u30fc\u30eb\u306f\u3001\u30e6\u30fc\u30b6\u30fc\u5236\u5fa1\u306e\u5165\u529b\u304c\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30ea\u30af\u30a8\u30b9\u30c8\u306b\u6e21\u3055\u308c\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p>"},{"location":"running_psalm/issues/TaintedSsrf/#_1","title":"\u30ea\u30b9\u30af","text":"<p>\u4fe1\u983c\u3067\u304d\u306a\u3044\u30e6\u30fc\u30b6\u30fc\u5165\u529b\u3092\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30ea\u30af\u30a8\u30b9\u30c8\u306b\u6e21\u3059\u3053\u3068\u306f\u5371\u967a\u3067\u3042\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\u653b\u6483\u8005\u304cHTTP\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u5b8c\u5168\u306b\u5236\u5fa1\u3067\u304d\u308b\u5834\u5408\u3001\u5185\u90e8\u30b5\u30fc\u30d3\u30b9\u306b\u63a5\u7d9a\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u6027\u8cea\u306b\u3088\u3063\u3066\u306f\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30ea\u30b9\u30af\u3092\u3082\u305f\u3089\u3059\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\uff08\u4f8b\uff1a\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u30b5\u30fc\u30d3\u30b9\u3001\u7ba1\u7406\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3001AWS\u30e1\u30bf\u30c7\u30fc\u30bf\u306a\u3069\uff09\u3002</p>"},{"location":"running_psalm/issues/TaintedSsrf/#_2","title":"\u4f8b","text":"<pre><code>&lt;?php\n$ch = curl_init();\ncurl_setopt($ch, CURLOPT_URL, $_GET['url']);\ncurl_exec($ch);\ncurl_close($ch);\n</code></pre>"},{"location":"running_psalm/issues/TaintedSsrf/#_3","title":"\u7de9\u548c\u7b56","text":"<p>SSRF\u8106\u5f31\u6027\u306e\u7de9\u548c\u306f\u96e3\u3057\u3044\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002IP\u3092\u7981\u6b62\u3057\u3066\u3082\u3001\u653b\u6483\u8005\u304c\u5185\u90e8DNS\u306b\u5411\u3051\u3089\u308c\u305f\u60aa\u610f\u306e\u3042\u308b\u30c9\u30e1\u30a4\u30f3\u3092\u4f5c\u6210\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u305f\u3081\u3001\u3046\u307e\u304f\u3044\u304b\u306a\u3044\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002 \u4ee5\u4e0b\u3092\u691c\u8a0e\u3057\u3066\u304f\u3060\u3055\u3044\uff1a 1. \u63a5\u7d9a\u53ef\u80fd\u306a\u30c9\u30e1\u30a4\u30f3\u306e\u8a31\u53ef\u30ea\u30b9\u30c8\u3092\u6301\u3064\u3002 2. cURL\u3092\u5185\u90e8\u30ea\u30bd\u30fc\u30b9\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u306a\u3044\u30d7\u30ed\u30ad\u30b7\u306b\u5411\u3051\u308b\u3002</p>"},{"location":"running_psalm/issues/TaintedSsrf/#_4","title":"\u3055\u3089\u306a\u308b\u30ea\u30bd\u30fc\u30b9","text":"<ul> <li>OWASP\u306e\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\u30ea\u30af\u30a8\u30b9\u30c8\u30d5\u30a9\u30fc\u30b8\u30a7\u30ea\u306b\u95a2\u3059\u308bWiki</li> <li>CWE-918</li> </ul>"},{"location":"running_psalm/issues/TaintedUserSecret/","title":"TaintedUserSecret","text":"<p>\u6c5a\u67d3\u5165\u529b\u691c\u51fa\u304c\u30aa\u30f3\u306b\u306a\u3063\u3066\u3044\u3066\u3001\u30e6\u30fc\u30b6\u30fc\u306e\u79d8\u5bc6\u3068\u3057\u3066\u30de\u30fc\u30af\u3055\u308c\u305f\u30c7\u30fc\u30bf\u304c\u3042\u308b\u3079\u304d\u3067\u306a\u3044\u5834\u6240\u3067\u691c\u51fa\u3055\u308c\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass User {\n    /**\n     * @psalm-taint-source user_secret\n     */\n    public function getPassword() : string {\n        return \"$omePa$$word\";\n    }\n}\n\nfunction showUserPassword(User $user) {\n    echo $user-&gt;getPassword();\n}\n</code></pre>"},{"location":"running_psalm/issues/TooFewArguments/","title":"TooFewArguments","text":"<p>\u95a2\u6570\u304c\u6301\u3064\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u6570\u3088\u308a\u3082\u5c11\u306a\u3044\u5f15\u6570\u3067\u95a2\u6570\u3092\u547c\u3073\u51fa\u305d\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nfunction foo(string $a) : void {}\nfoo();\n</code></pre>"},{"location":"running_psalm/issues/TooManyArguments/","title":"TooManyArguments","text":"<p>\u95a2\u6570\u304c\u6301\u3064\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u6570\u3088\u308a\u3082\u591a\u304f\u306e\u5f15\u6570\u3067\u95a2\u6570\u3092\u547c\u3073\u51fa\u305d\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nfunction foo(string $a) : void {}\nfoo(\"hello\", 4);\n</code></pre>"},{"location":"running_psalm/issues/TooManyTemplateParams/","title":"TooManyTemplateParams","text":"<p><code>@extends</code>/<code>@implements</code>\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u3066\u30af\u30e9\u30b9\u3092\u62e1\u5f35\u3059\u308b\u969b\u306b\u3001\u591a\u3059\u304e\u308b\u578b\u3092\u8ffd\u52a0\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/** \n * @template-implements IteratorAggregate&lt;int, string, int&gt; \n */\nclass SomeIterator implements IteratorAggregate {\n    public function getIterator() {\n        yield 5;\n    }\n}\n</code></pre>"},{"location":"running_psalm/issues/TraitMethodSignatureMismatch/","title":"TraitMethodSignatureMismatch","text":"<p>\u30e1\u30bd\u30c3\u30c9\u306e\u30b7\u30b0\u30cd\u30c1\u30e3\u307e\u305f\u306f\u623b\u308a\u5024\u306e\u578b\u304c\u3001\u5bfe\u5fdc\u3059\u308b\u30c8\u30ec\u30a4\u30c8\u3067\u5b9a\u7fa9\u3055\u308c\u305f\u30e1\u30bd\u30c3\u30c9\u3068\u7570\u306a\u308b\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\ntrait T {\n    abstract public function foo(int $i);\n}\n\nclass A {\n    use T;\n    public function foo(string $s) : void {}\n}\n</code></pre>"},{"location":"running_psalm/issues/TypeDoesNotContainNull/","title":"TypeDoesNotContainNull","text":"<p>null\u3092\u542b\u307e\u306a\u3044\u578b\u306b\u5bfe\u3057\u3066<code>null</code>\u30c1\u30a7\u30c3\u30af\u3092\u884c\u3063\u3066\u3044\u308b\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n$a = \"hello\";\nif ($a === null) {}\n</code></pre>"},{"location":"running_psalm/issues/TypeDoesNotContainType/","title":"TypeDoesNotContainType","text":"<p>\u73fe\u5728\u77e5\u3089\u308c\u3066\u3044\u308b\u578b\u3092\u8003\u616e\u3059\u308b\u3068\u3001\u3042\u308b\u5024\u304c\u4e0d\u53ef\u80fd\u306a\u578b\u307e\u305f\u306f\u5024\u3092\u6301\u3063\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n$a = \"hello\";\nif ($a === 5) {}\n</code></pre>"},{"location":"running_psalm/issues/UncaughtThrowInGlobalScope/","title":"UncaughtThrowInGlobalScope","text":"<p>\u30b0\u30ed\u30fc\u30d0\u30eb\u30b9\u30b3\u30fc\u30d7\u3067\u53ef\u80fd\u306a\u4f8b\u5916\u304c\u30ad\u30e3\u30c3\u30c1\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/**\n * @throws \\Exception\n */\nfunction foo() : int {\n    return random_int(0, 1);\n}\n\nfoo();\n</code></pre>"},{"location":"running_psalm/issues/UndefinedAttributeClass/","title":"UndefinedAttributeClass","text":"<p>\u5b58\u5728\u3057\u306a\u3044\u5c5e\u6027\u30af\u30e9\u30b9\u3092\u53c2\u7167\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nuse Foo\\Bar\\Pure;\n\n#[Pure]\nclass Video {}\n</code></pre>"},{"location":"running_psalm/issues/UndefinedClass/","title":"UndefinedClass","text":"<p>\u5b58\u5728\u3057\u306a\u3044\u30af\u30e9\u30b9\u3092\u53c2\u7167\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n$a = new A();\n</code></pre>"},{"location":"running_psalm/issues/UndefinedConstant/","title":"UndefinedConstant","text":"<p>\u5b58\u5728\u3057\u306a\u3044\u5b9a\u6570\u3092\u53c2\u7167\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\necho FOO_BAR;\n</code></pre>"},{"location":"running_psalm/issues/UndefinedDocblockClass/","title":"UndefinedDocblockClass","text":"<p>\u5b58\u5728\u3057\u306a\u3044\u30af\u30e9\u30b9\u3092docblock\u304b\u3089\u53c2\u7167\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/** \n * @param DoesNotExist $a \n */\nfunction foo($a) : void {}\n</code></pre>"},{"location":"running_psalm/issues/UndefinedFunction/","title":"UndefinedFunction","text":"<p>\u5b58\u5728\u3057\u306a\u3044\u95a2\u6570\u3092\u53c2\u7167\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nfoo();\n</code></pre>"},{"location":"running_psalm/issues/UndefinedGlobalVariable/","title":"UndefinedGlobalVariable","text":"<p>\u5b58\u5728\u3057\u306a\u3044\u5909\u6570\u3092\u53c2\u7167\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\necho $a;\n</code></pre>"},{"location":"running_psalm/issues/UndefinedInterface/","title":"UndefinedInterface","text":"<p>\u5b58\u5728\u3057\u306a\u3044\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u53c2\u7167\u3057\u3088\u3046\u3068\u3057\u305f\u304c\u3001\u540c\u3058\u540d\u524d\u306e\u30af\u30e9\u30b9\u304c\u5b58\u5728\u3059\u308b\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass C {}\ninterface I extends C {}\n</code></pre>"},{"location":"running_psalm/issues/UndefinedMagicMethod/","title":"UndefinedMagicMethod","text":"<p>\u5b58\u5728\u3057\u306a\u3044\u30de\u30b8\u30c3\u30af\u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u305d\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/**\n * @method bar():string\n */\nclass A {\n    public function __call(string $name, array $args) {\n        return \"cool\";\n    }\n}\n\n(new A)-&gt;foo();\n</code></pre>"},{"location":"running_psalm/issues/UndefinedMagicPropertyAssignment/","title":"UndefinedMagicPropertyAssignment","text":"<p>\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u306a\u3044\u30de\u30b8\u30c3\u30af\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u6301\u3064\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u5272\u308a\u5f53\u3066\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/** \n * @property string $bar \n */\nclass A {\n    /** @param mixed $value */\n    public function __set(string $name, $value) {}\n}\n\n$a = new A();\n$a-&gt;foo = \"bar\";\n</code></pre>"},{"location":"running_psalm/issues/UndefinedMagicPropertyFetch/","title":"UndefinedMagicPropertyFetch","text":"<p>\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u306a\u3044\u30de\u30b8\u30c3\u30af\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u6301\u3064\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304b\u3089\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u53d6\u5f97\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/** \n * @property string $bar \n */\nclass A {\n    public function __get(string $name) {\n        return \"cool\";\n    }\n}\n\n$a = new A();\necho $a-&gt;foo;\n</code></pre>"},{"location":"running_psalm/issues/UndefinedPropertyAssignment/","title":"UndefinedPropertyAssignment","text":"<p>\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u306a\u3044\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u5272\u308a\u5f53\u3066\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {}\n$a = new A();\n$a-&gt;foo = \"bar\";\n</code></pre>"},{"location":"running_psalm/issues/UndefinedPropertyFetch/","title":"UndefinedPropertyFetch","text":"<p>\u305d\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u306a\u3044\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304b\u3089\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u53d6\u5f97\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {}\n$a = new A();\necho $a-&gt;foo;\n</code></pre>"},{"location":"running_psalm/issues/UndefinedThisPropertyAssignment/","title":"UndefinedThisPropertyAssignment","text":"<p>\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30e1\u30bd\u30c3\u30c9\u5185\u3067\u3001\u5b58\u5728\u3057\u306a\u3044\u30d7\u30ed\u30d1\u30c6\u30a3\u306b\u5bfe\u3057\u3066\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u5272\u308a\u5f53\u3066\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {\n    function foo() {\n        $this-&gt;foo = \"bar\";\n    }\n}\n</code></pre>"},{"location":"running_psalm/issues/UndefinedTrace/","title":"UndefinedTrace","text":"<p>\u672a\u5b9a\u7fa9\u306e\u5909\u6570\u3092\u30c8\u30ec\u30fc\u30b9\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/** @psalm-trace $x */\necho 'Hello World!';\n</code></pre>"},{"location":"running_psalm/issues/UndefinedTrace/#_1","title":"\u4fee\u6b63\u65b9\u6cd5","text":"<p>\u65e2\u5b58\u306e\u5909\u6570\u3092\u63d0\u4f9b\u3059\u308b\u304b\u3001\u524a\u9664\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"running_psalm/issues/UndefinedTrait/","title":"UndefinedTrait","text":"<p>\u5b58\u5728\u3057\u306a\u3044\u30c8\u30ec\u30a4\u30c8\u3092\u53c2\u7167\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {\n    use T;\n}\n</code></pre>"},{"location":"running_psalm/issues/UndefinedVariable/","title":"UndefinedVariable","text":"<p>\u6307\u5b9a\u3055\u308c\u305f\u95a2\u6570\u306e\u30b9\u30b3\u30fc\u30d7\u5185\u306b\u5b58\u5728\u3057\u306a\u3044\u5909\u6570\u3092\u53c2\u7167\u3057\u3088\u3046\u3068\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nfunction foo() {\n    echo $a;\n}\n</code></pre>"},{"location":"running_psalm/issues/UnimplementedAbstractMethod/","title":"UnimplementedAbstractMethod","text":"<p>\u30af\u30e9\u30b9\u304c\u5225\u306e\u30af\u30e9\u30b9\u3092\u62e1\u5f35\u3057\u3066\u3044\u308b\u304c\u3001\u305d\u306e\u3059\u3079\u3066\u306e\u62bd\u8c61\u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u88c5\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nabstract class A {\n    abstract public function foo() : void;\n}\nclass B extends A {}\n</code></pre>"},{"location":"running_psalm/issues/UninitializedProperty/","title":"UninitializedProperty","text":"<p>\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u5185\u3067\u30d7\u30ed\u30d1\u30c6\u30a3\u304c\u521d\u671f\u5316\u3055\u308c\u308b\u524d\u306b\u4f7f\u7528\u3055\u308c\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {\n    /** @var string */\n    public $foo;\n\n    public function __construct() {\n        echo strlen($this-&gt;foo);\n        $this-&gt;foo = \"foo\";\n    }\n}\n</code></pre>"},{"location":"running_psalm/issues/UnnecessaryVarAnnotation/","title":"UnnecessaryVarAnnotation","text":"<p><code>--find-dead-code</code>\u304c\u30aa\u30f3\u306b\u306a\u3063\u3066\u3044\u3066\u3001Psalm\u304c\u65e2\u306b\u578b\u3092\u8b58\u5225\u3057\u3066\u3044\u308b\u4ee3\u5165\u306b\u5bfe\u3057\u3066<code>@var</code>\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nfunction foo() : string {\n    return \"hello\";\n}\n\n/** @var string */\n$a = foo();\n</code></pre>"},{"location":"running_psalm/issues/UnrecognizedStatement/","title":"UnrecognizedStatement","text":"<p>Psalm\u304c\u51e6\u7406\u65b9\u6cd5\u3092\u77e5\u3089\u306a\u3044\u30b3\u30fc\u30c9\u69cb\u9020\u306b\u906d\u9047\u3057\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u6c7a\u3057\u3066\u8d77\u3053\u308b\u3079\u304d\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002</p>"},{"location":"running_psalm/issues/UnusedClass/","title":"UnusedClass","text":"<p><code>--find-dead-code</code>\u304c\u30aa\u30f3\u306b\u306a\u3063\u3066\u3044\u3066\u3001Psalm\u304c\u7279\u5b9a\u306e\u30af\u30e9\u30b9\u306e\u4f7f\u7528\u3092\u898b\u3064\u3051\u3089\u308c\u306a\u3044\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002 \u3053\u306e\u30af\u30e9\u30b9\u304c\u4f7f\u7528\u3055\u308c\u3066\u304a\u308a\u3001\u516c\u958bAPI\u306e\u4e00\u90e8\u3067\u3042\u308b\u5834\u5408\u306f\u3001<code>@psalm-api</code>\u3067\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u3066\u304f\u3060\u3055\u3044\u3002</p> <pre><code>&lt;?php\nclass A {}\nclass B {}\n$a = new A();\n</code></pre>"},{"location":"running_psalm/issues/UnusedClosureParam/","title":"UnusedClosureParam","text":"<p><code>--find-dead-code</code>\u304c\u30aa\u30f3\u306b\u306a\u3063\u3066\u3044\u3066\u3001Psalm\u304c\u30af\u30ed\u30fc\u30b8\u30e3\u5185\u306e\u7279\u5b9a\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u4f7f\u7528\u3092\u898b\u3064\u3051\u3089\u308c\u306a\u3044\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n$a = function (int $a, int $b) : int {\n    return $a + 4;\n};\n\n/**\n * @param callable(int,int):int $c\n */\nfunction foo(callable $c) : int {\n    return $c(2, 4);\n}\n</code></pre> <p>\u30d1\u30e9\u30e1\u30fc\u30bf\u540d\u306e\u524d\u306b\u30a2\u30f3\u30c0\u30fc\u30b9\u30b3\u30a2\u3092\u4ed8\u3051\u308b\u3053\u3068\u3067\u6291\u5236\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>$f = function (int $_a, int $b) : int {\n    return $b + 4;\n};\n</code></pre>"},{"location":"running_psalm/issues/UnusedConstructor/","title":"UnusedConstructor","text":"<p><code>--find-dead-code</code>\u304c\u30aa\u30f3\u306b\u306a\u3063\u3066\u3044\u3066\u3001Psalm\u304c\u7279\u5b9a\u306e\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u307e\u305f\u306f\u95a2\u6570\u306e\u4f7f\u7528\u3092\u898b\u3064\u3051\u3089\u308c\u306a\u3044\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass A {\n    private function __construct() {}\n    public static function createInstance() : void {}\n}\nA::createInstance();\n</code></pre>"},{"location":"running_psalm/issues/UnusedForeachValue/","title":"UnusedForeachValue","text":"<p><code>--find-dead-code</code>\u304c\u30aa\u30f3\u306b\u306a\u3063\u3066\u3044\u3066\u3001Psalm\u304cforeach\u306e\u5024\u3078\u306e\u53c2\u7167\u3092\u898b\u3064\u3051\u3089\u308c\u306a\u3044\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/**\n * @param array&lt;string, int&gt; $a\n */\nfunction foo(array $a) : void {\n    foreach ($a as $key =&gt; $value) { // $value\u306f\u672a\u4f7f\u7528\n        echo $key;\n    }\n}\n</code></pre> <p>\u5909\u6570\u540d\u306e\u524d\u306b\u30a2\u30f3\u30c0\u30fc\u30b9\u30b3\u30a2\u3092\u4ed8\u3051\u308b\u304b\u3001<code>$_</code>\u3068\u3044\u3046\u540d\u524d\u306b\u3059\u308b\u3053\u3068\u3067\u6291\u5236\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>&lt;?php\nforeach ([1, 2, 3] as $key =&gt; $_val) {}\nforeach ([1, 2, 3] as $key =&gt; $_) {}\n</code></pre>"},{"location":"running_psalm/issues/UnusedIssueHandlerSuppression/","title":"UnusedIssueHandlerSuppression","text":"<p>\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u5185\u306eissue\u578b\u6291\u5236\u304c\u554f\u984c\u3092\u6291\u5236\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002 findUnusedIssueHandlerSuppression\u3067\u6709\u52b9\u5316\u3055\u308c\u307e\u3059\u3002</p> <pre><code>&lt;?php\n$a = 'Hello, World!';\necho $a;\n</code></pre> <pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;issueHandlers&gt;\n    &lt;PossiblyNullOperand errorLevel=\"suppress\"/&gt;\n&lt;/issueHandlers&gt;\n</code></pre>"},{"location":"running_psalm/issues/UnusedMethodCall/","title":"UnusedMethodCall","text":"<p><code>--find-dead-code</code>\u304c\u30aa\u30f3\u306b\u306a\u3063\u3066\u3044\u3066\u3001Psalm\u304c\u623b\u308a\u5024\u304c\u3069\u3053\u306b\u3082\u4f7f\u7528\u3055\u308c\u3066\u3044\u306a\u3044\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u3092\u898b\u3064\u3051\u305f\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\nfinal class A {\n    private string $foo;\n    public function __construct(string $foo) {\n        $this-&gt;foo = $foo;\n    }\n    public function getFoo() : string {\n        return $this-&gt;foo;\n    }\n}\n\n$a = new A(\"hello\");\n$a-&gt;getFoo();\n</code></pre>"},{"location":"running_psalm/issues/UnusedProperty/","title":"UnusedProperty","text":"<p><code>--find-dead-code</code>\u304c\u30aa\u30f3\u306b\u306a\u3063\u3066\u3044\u3066\u3001Psalm\u304c\u30d7\u30e9\u30a4\u30d9\u30fc\u30c8\u30d7\u30ed\u30d1\u30c6\u30a3\u306e\u4f7f\u7528\u3092\u898b\u3064\u3051\u3089\u308c\u306a\u3044\u5834\u5408\u306b\u767a\u751f\u3057\u307e\u3059\u3002 \u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3067\u306e\u307f\u4f7f\u7528\u3055\u308c\u308b\u30d7\u30ed\u30d1\u30c6\u30a3\u306f\u672a\u4f7f\u7528\u3068\u307f\u306a\u3055\u308c\u307e\u3059\u3002\u4ee3\u308f\u308a\u306b\u901a\u5e38\u306e\u5909\u6570\u3092\u4f7f\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u3053\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u304c\u4f7f\u7528\u3055\u308c\u3066\u304a\u308a\u3001\u516c\u958bAPI\u306e\u4e00\u90e8\u3067\u3042\u308b\u5834\u5408\u306f\u3001\u542b\u3080\u30af\u30e9\u30b9\u306b<code>@psalm-api</code>\u3067\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u3066\u304f\u3060\u3055\u3044\u3002</p> <pre><code>&lt;?php\nclass A {\n    /** @var string|null */\n    private $foo;\n\n    /** @var int|null */\n    private $bar;\n\n    public function getFoo(): ?string {\n        return $this-&gt;foo;\n    }\n}\n\n$a = new A();\necho $a-&gt;getFoo();\n</code></pre>"},{"location":"running_psalm/plugins/authoring_plugins/","title":"Psalm\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u4f5c\u6210","text":""},{"location":"running_psalm/plugins/authoring_plugins/#_1","title":"\u30af\u30a4\u30c3\u30af\u30b9\u30bf\u30fc\u30c8","text":""},{"location":"running_psalm/plugins/authoring_plugins/#_2","title":"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u4f7f\u7528","text":"<ol> <li>Github\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u30a2\u30af\u30bb\u30b9\u3057\u307e\u3059\u3002</li> <li>\u30ed\u30b0\u30a4\u30f3\u3057\u3066<code>Use this template</code>\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002</li> </ol>"},{"location":"running_psalm/plugins/authoring_plugins/#_3","title":"\u30b9\u30b1\u30eb\u30c8\u30f3\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u4f7f\u7528","text":"<ol> <li>\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u3001\u65b0\u3057\u3044\u30d7\u30e9\u30b0\u30a4\u30f3\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u7d20\u65e9\u304f\u30d6\u30fc\u30c8\u30b9\u30c8\u30e9\u30c3\u30d7\u3057\u307e\u3059\uff1a    <pre><code>composer create-project weirdan/psalm-plugin-skeleton:dev-master your-plugin-name\n</code></pre></li> <li><code>your-plugin-name</code>\u30d5\u30a9\u30eb\u30c0\u306b\u65b0\u3057\u3044\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002</li> <li><code>composer.json</code>\u3001<code>Plugin.php</code>\u3001<code>tests</code>\u30d5\u30a9\u30eb\u30c0\u306e\u540d\u524d\u7a7a\u9593\u3092\u9069\u5207\u306b\u8abf\u6574\u3057\u3066\u304f\u3060\u3055\u3044\u3002</li> </ol>"},{"location":"running_psalm/plugins/authoring_plugins/#_4","title":"\u30b9\u30bf\u30d6\u30d5\u30a1\u30a4\u30eb","text":"<p>\u30b9\u30bf\u30d6\u30d5\u30a1\u30a4\u30eb\u306f\u3001\u4e0a\u6d41\u306e\u30bd\u30fc\u30b9\u30d5\u30a1\u30a4\u30eb\u306b\u76f4\u63a5Psalm\u306e\u62e1\u5f35docblock\u3092\u8ffd\u52a0\u3067\u304d\u306a\u3044\u5834\u5408\u306b\u3001\u30b5\u30fc\u30c9\u30d1\u30fc\u30c6\u30a3\u306e\u578b\u60c5\u5831\u3092\u4e0a\u66f8\u304d\u3059\u308b\u65b9\u6cd5\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002</p> <ul> <li>\u6163\u4f8b\u306b\u3088\u308a\u3001\u30b9\u30bf\u30d6\u30d5\u30a1\u30a4\u30eb\u306f<code>.phpstub</code>\u62e1\u5f35\u5b50\u3092\u6301\u3061\u307e\u3059\u3002</li> <li>\u3053\u308c\u306b\u3088\u308a\u3001IDE\u304c\u5b9f\u969b\u306ePHP\u30b3\u30fc\u30c9\u3068\u3057\u3066\u6271\u3046\u306e\u3092\u907f\u3051\u3089\u308c\u307e\u3059\u3002</li> </ul>"},{"location":"running_psalm/plugins/authoring_plugins/#_5","title":"\u30b9\u30bf\u30d6\u306e\u751f\u6210","text":"<ol> <li>\u578b\u3092\u8abf\u6574\u3057\u305f\u3044\u30e9\u30a4\u30d6\u30e9\u30ea\u3092dev-require\u3057\u307e\u3059\uff1a    <pre><code>composer require --dev cakephp/chronos\n</code></pre></li> <li>\u30b9\u30bf\u30d6\u3092\u751f\u6210\u3057\u307e\u3059\uff1a    <pre><code>vendor/bin/psalm --generate-stubs=stubs/chronos.phpstub\n</code></pre></li> <li>\u751f\u6210\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304d\u3001\u4e0d\u8981\u306a\u90e8\u5206\u3092\u524a\u9664\u3057\u307e\u3059\u3002</li> <li>docblock\u3092\u8abf\u6574\u3057\u3066\u3001\u3088\u308a\u6b63\u78ba\u306a\u578b\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002</li> </ol>"},{"location":"running_psalm/plugins/authoring_plugins/#_6","title":"\u30b9\u30bf\u30d6\u30d5\u30a1\u30a4\u30eb\u306e\u767b\u9332","text":"<ul> <li>\u30b9\u30b1\u30eb\u30c8\u30f3/\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b\u306f\u3001<code>stubs</code>\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304b\u3089\u3059\u3079\u3066\u306e<code>.phpstub</code>\u30d5\u30a1\u30a4\u30eb\u3092\u767b\u9332\u3059\u308b\u30b3\u30fc\u30c9\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002</li> <li>\u30b9\u30bf\u30d6\u30d5\u30a1\u30a4\u30eb\u3092\u624b\u52d5\u3067\u767b\u9332\u3059\u308b\u306b\u306f\u3001<code>Psalm\\Plugin\\RegistrationInterface::addStubFile()</code>\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002</li> </ul>"},{"location":"running_psalm/plugins/authoring_plugins/#_7","title":"\u30ab\u30b9\u30bf\u30e0\u30b9\u30ad\u30e3\u30ca\u30fc\u3068\u30a2\u30ca\u30e9\u30a4\u30b6\u30fc\u306e\u767b\u9332","text":"<p>XML\u306e\u8a2d\u5b9a\u30ce\u30fc\u30c9<code>&lt;fileExtensions&gt;</code>\u306b\u52a0\u3048\u3066\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u306f\u7279\u5b9a\u306e\u30d5\u30a1\u30a4\u30eb\u62e1\u5f35\u5b50\u306b\u5bfe\u3057\u3066\u72ec\u81ea\u306e\u30ab\u30b9\u30bf\u30e0\u30b9\u30ad\u30e3\u30ca\u30fc\u3068\u30a2\u30ca\u30e9\u30a4\u30b6\u30fc\u306e\u5b9f\u88c5\u3092\u767b\u9332\u3067\u304d\u307e\u3059\u3002\u4f8b\uff1a</p> <ul> <li><code>Psalm\\Plugin\\FileExtensionsInterface::addFileTypeScanner('html', CustomFileScanner::class)</code></li> <li><code>Psalm\\Plugin\\FileExtensionsInterface::addFileTypeAnalyzer('html', CustomFileAnalyzer::class)</code></li> </ul>"},{"location":"running_psalm/plugins/authoring_plugins/#packagist","title":"Packagist\u3067\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u516c\u958b","text":"<p>packagist.org\u306e\u300cPublishing Packages\u300d\u30bb\u30af\u30b7\u30e7\u30f3\u306e\u6307\u793a\u306b\u5f93\u3063\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"running_psalm/plugins/authoring_plugins/#_8","title":"\u9ad8\u5ea6\u306a\u30c8\u30d4\u30c3\u30af","text":""},{"location":"running_psalm/plugins/authoring_plugins/#_9","title":"\u30bc\u30ed\u304b\u3089\u59cb\u3081\u308b","text":"<p>Composer\u30d9\u30fc\u30b9\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u306f\u3001\u4ee5\u4e0b\u306e\u8981\u4ef6\u306b\u9069\u5408\u3059\u308bComposer\u30d1\u30c3\u30b1\u30fc\u30b8\u3067\u3059\uff1a</p> <ol> <li><code>type</code>\u30d5\u30a3\u30fc\u30eb\u30c9\u304c<code>psalm-plugin</code>\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b</li> <li><code>composer.json</code>\u306b<code>extra.psalm.pluginClass</code>\u30b5\u30d6\u30ad\u30fc\u304c\u3042\u308a\u3001Psalm\u30e9\u30f3\u30bf\u30a4\u30e0\u306b\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u767b\u9332\u3059\u308b\u305f\u3081\u306e\u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u30af\u30e9\u30b9\u3092\u53c2\u7167\u3057\u3066\u3044\u308b</li> <li>\u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u30af\u30e9\u30b9\u304c<code>Psalm\\Plugin\\PluginEntryPointInterface</code>\u3092\u5b9f\u88c5\u3057\u3066\u3044\u308b</li> </ol>"},{"location":"running_psalm/plugins/authoring_plugins/#psalm-api","title":"Psalm API","text":"<p>\u30d7\u30e9\u30b0\u30a4\u30f3\u306f<code>Psalm\\Plugin\\EventHandler\\*</code>\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e1\u3064\uff08\u307e\u305f\u306f\u8907\u6570\uff09\u3092\u5b9f\u88c5\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass SomePlugin implements \\Psalm\\Plugin\\EventHandler\\AfterStatementAnalysisInterface\n{\n}\n</code></pre> <p><code>Psalm\\Plugin\\EventHandler\\*</code>\u306f\u3001\u5b9f\u88c5\u3067\u304d\u308b\u4ee5\u4e0b\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\uff1a</p> <ul> <li><code>AfterAnalysisInterface</code> - Psalm\u304c\u5206\u6790\u3092\u5b8c\u4e86\u3057\u305f\u5f8c\u306b\u547c\u3073\u51fa\u3055\u308c\u307e\u3059\u3002</li> <li><code>AfterClassLikeAnalysisInterface</code> - Psalm\u304c\u7279\u5b9a\u306e\u30af\u30e9\u30b9\u306e\u5206\u6790\u3092\u5b8c\u4e86\u3057\u305f\u5f8c\u306b\u547c\u3073\u51fa\u3055\u308c\u307e\u3059\u3002</li> <li><code>AfterClassLikeExistenceCheckInterface</code> - Psalm\u304c\u30af\u30e9\u30b9\u3001\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3001\u307e\u305f\u306f\u30c8\u30ec\u30a4\u30c8\u3078\u306e\u53c2\u7167\u3092\u5206\u6790\u3057\u305f\u5f8c\u306b\u547c\u3073\u51fa\u3055\u308c\u307e\u3059\u3002</li> <li><code>AfterClassLikeVisitInterface</code> - Psalm\u304c\u30af\u30e9\u30b9\u30e9\u30a4\u30af\u306e\u89e3\u6790\u3055\u308c\u305f\u62bd\u8c61\u69cb\u6587\u6728\u3092\u30af\u30ed\u30fc\u30eb\u3057\u305f\u5f8c\u306b\u547c\u3073\u51fa\u3055\u308c\u307e\u3059\u3002</li> <li><code>AfterCodebasePopulatedInterface</code> - Psalm\u304c\u5fc5\u8981\u306a\u30d5\u30a1\u30a4\u30eb\u3092\u30b9\u30ad\u30e3\u30f3\u3057\u3001\u30b3\u30fc\u30c9\u30d9\u30fc\u30b9\u30c7\u30fc\u30bf\u3092\u6295\u5165\u3057\u305f\u5f8c\u306b\u547c\u3073\u51fa\u3055\u308c\u307e\u3059\u3002</li> <li><code>AfterEveryFunctionCallAnalysisInterface</code> - Psalm\u304c\u4efb\u610f\u306e\u95a2\u6570\u547c\u3073\u51fa\u3057\u3092\u8a55\u4fa1\u3057\u305f\u5f8c\u306b\u547c\u3073\u51fa\u3055\u308c\u307e\u3059\u3002</li> <li><code>AfterExpressionAnalysisInterface</code> - Psalm\u304c\u5f0f\u3092\u8a55\u4fa1\u3057\u305f\u5f8c\u306b\u547c\u3073\u51fa\u3055\u308c\u307e\u3059\u3002</li> <li><code>AfterFileAnalysisInterface</code> - Psalm\u304c\u30d5\u30a1\u30a4\u30eb\u3092\u5206\u6790\u3057\u305f\u5f8c\u306b\u547c\u3073\u51fa\u3055\u308c\u307e\u3059\u3002</li> <li><code>AfterFunctionCallAnalysisInterface</code> - Psalm\u304c\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u81ea\u4f53\u3067\u5b9a\u7fa9\u3055\u308c\u305f\u95a2\u6570\u3078\u306e\u547c\u3073\u51fa\u3057\u3092\u8a55\u4fa1\u3057\u305f\u5f8c\u306b\u547c\u3073\u51fa\u3055\u308c\u307e\u3059\u3002</li> <li><code>AfterFunctionLikeAnalysisInterface</code> - Psalm\u304c\u7279\u5b9a\u306e\u95a2\u6570\u30e9\u30a4\u30af\u306e\u5206\u6790\u3092\u5b8c\u4e86\u3057\u305f\u5f8c\u306b\u547c\u3073\u51fa\u3055\u308c\u307e\u3059\u3002</li> <li><code>AfterMethodCallAnalysisInterface</code> - Psalm\u304c\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u3092\u5206\u6790\u3057\u305f\u5f8c\u306b\u547c\u3073\u51fa\u3055\u308c\u307e\u3059\u3002</li> <li><code>BeforeStatementAnalysisInterface</code> - Psalm\u304c\u6587\u3092\u8a55\u4fa1\u3059\u308b\u524d\u306b\u547c\u3073\u51fa\u3055\u308c\u307e\u3059\u3002</li> <li><code>AfterStatementAnalysisInterface</code> - Psalm\u304c\u6587\u3092\u8a55\u4fa1\u3057\u305f\u5f8c\u306b\u547c\u3073\u51fa\u3055\u308c\u307e\u3059\u3002</li> <li><code>BeforeAddIssueInterface</code> - Psalm\u304c\u5185\u90e8\u306e<code>IssueBuffer</code>\u306b\u30a2\u30a4\u30c6\u30e0\u3092\u8ffd\u52a0\u3059\u308b\u524d\u306b\u547c\u3073\u51fa\u3055\u308c\u307e\u3059\u3002</li> <li><code>BeforeFileAnalysisInterface</code> - Psalm\u304c\u30d5\u30a1\u30a4\u30eb\u3092\u5206\u6790\u3059\u308b\u524d\u306b\u547c\u3073\u51fa\u3055\u308c\u307e\u3059\u3002</li> </ul> <p>\u305d\u306e\u4ed6\u3001\u591a\u6570\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u8a73\u7d30\u306f\u539f\u6587\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"running_psalm/plugins/authoring_plugins/#_10","title":"\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u8a2d\u5b9a","text":"<p>\u30d7\u30e9\u30b0\u30a4\u30f3\u3092Psalm\u306e\u5b9f\u884c\u6642\u306b\u78ba\u5b9f\u306b\u5b9f\u884c\u3059\u308b\u306b\u306f\u3001\u8a2d\u5b9a\u306b\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\uff08Composer\u30d9\u30fc\u30b9\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u306b\u306f\u4e0d\u8981\uff09\uff1a</p> <pre><code>&lt;plugins&gt;\n    &lt;plugin filename=\"src/plugins/SomePlugin.php\" /&gt;\n&lt;/plugins&gt;\n</code></pre> <p>\u7d76\u5bfe\u30d1\u30b9\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>&lt;plugins&gt;\n    &lt;plugin filename=\"/path/to/SomePlugin.php\" /&gt;\n&lt;/plugins&gt;\n</code></pre>"},{"location":"running_psalm/plugins/authoring_plugins/#xdebug","title":"Xdebug\u306e\u4f7f\u7528","text":"<p>Psalm\u306f\u5b9f\u884c\u6642\u306b_Xdebug_\u3092\u7121\u52b9\u306b\u3057\u307e\u3059\u304c\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u4f5c\u6210\u3059\u308b\u969b\u306b\u30b3\u30fc\u30c9\u3092\u30b9\u30c6\u30c3\u30d7\u30d0\u30a4\u30b9\u30c6\u30c3\u30d7\u3067\u30c7\u30d0\u30c3\u30b0\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306bPsalm\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u62e1\u5f35\u6a5f\u80fd\u3092\u8a31\u53ef\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>$ PSALM_ALLOW_XDEBUG=1 path/to/psalm\n</code></pre>"},{"location":"running_psalm/plugins/authoring_plugins/#_11","title":"\u578b\u30b7\u30b9\u30c6\u30e0","text":"<p>Psalm\u304c\u578b\u3092\u3069\u306e\u3088\u3046\u306b\u6271\u3046\u304b\u3092\u7406\u89e3\u3059\u308b\u306b\u306f\u3001\u3053\u306e\u30ac\u30a4\u30c9\u3092\u8aad\u3093\u3067\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"running_psalm/plugins/authoring_plugins/#_12","title":"\u30ab\u30b9\u30bf\u30e0\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u554f\u984c\u306e\u51e6\u7406","text":"<p>\u30d7\u30e9\u30b0\u30a4\u30f3\u306f\u72ec\u81ea\u306e\u554f\u984c\u3092\u767a\u884c\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u5834\u5408\u3001<code>Psalm\\Issue\\PluginIssue</code>\u3092\u62e1\u5f35\u3059\u308b\u554f\u984c\u3092\u767a\u884c\u3067\u304d\u307e\u3059\u3002</p> <p>\u30ab\u30b9\u30bf\u30e0\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u554f\u984c\u3092\u6291\u5236\u3059\u308b\u306b\u306f\uff1a</p> <ul> <li>docblock\u3067\u306e\u6291\u5236: \u554f\u984c\u540d\u3092\u4f7f\u7528\uff08\u4f8b\uff1a<code>/** @psalm-suppress NoFloatAssignment */</code>\uff09</li> <li>Psalm\u306e\u8a2d\u5b9a\u3067\u306e\u6291\u5236:</li> </ul> <pre><code>&lt;PluginIssue name=\"NoFloatAssignment\" errorLevel=\"suppress\" /&gt;\n</code></pre> <p>\u3088\u308a\u8907\u96d1\u306a\u30eb\u30fc\u30eb\u3082\u4f7f\u7528\u53ef\u80fd\u3067\u3059\uff1a</p> <pre><code>&lt;PluginIssue name=\"NoFloatAssignment\"&gt;\n    &lt;errorLevel type=\"suppress\"&gt;\n        &lt;directory name=\"tests\" /&gt;\n    &lt;/errorLevel&gt;\n&lt;/PluginIssue&gt;\n</code></pre>"},{"location":"running_psalm/plugins/authoring_plugins/#composer","title":"\u30d5\u30a1\u30a4\u30eb\u30d9\u30fc\u30b9\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u304b\u3089Composer\u30d9\u30fc\u30b9\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3078\u306e\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9","text":"<ol> <li>\u30b9\u30b1\u30eb\u30c8\u30f3\u3092\u4f7f\u7528\u3057\u3066\u65b0\u3057\u3044\u30d7\u30e9\u30b0\u30a4\u30f3\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002</li> <li>\u30d5\u30a1\u30a4\u30eb\u30d9\u30fc\u30b9\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u30af\u30e9\u30b9\u540d\u3092\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u30a8\u30f3\u30c8\u30ea\u30dd\u30a4\u30f3\u30c8\u306e<code>__invoke()</code>\u30e1\u30bd\u30c3\u30c9\u306b\u6e21\u3055\u308c\u305f<code>Psalm\\Plugin\\RegistrationInterface</code>\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e<code>registerHooksFromClass()</code>\u30e1\u30bd\u30c3\u30c9\u306b\u6e21\u3057\u307e\u3059\u3002</li> </ol> <p>\u5909\u63db\u4f8b\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"running_psalm/plugins/plugins_type_system/","title":"\u30d7\u30e9\u30b0\u30a4\u30f3: \u578b\u30b7\u30b9\u30c6\u30e0\u306e\u5185\u90e8\u69cb\u9020","text":"<p>Psalm\u306e\u578b\u30b7\u30b9\u30c6\u30e0\u306f\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u5185\u306e\u5909\u6570\u306e\u578b\u3092\u7570\u306a\u308b\u30af\u30e9\u30b9\u3092\u4f7f\u7528\u3057\u3066\u8868\u73fe\u3057\u307e\u3059\u3002\u30d7\u30e9\u30b0\u30a4\u30f3\u306f\u3053\u306e\u578b\u60c5\u5831\u3092\u53d7\u3051\u53d6\u308a\u3001\u66f4\u65b0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"running_psalm/plugins/plugins_type_system/#union-types","title":"\u5171\u7528\u4f53\u578b\uff08Union types\uff09","text":"<p>\u4f7f\u7528\u3059\u308b\u53ef\u80fd\u6027\u304c\u9ad8\u3044\u5168\u3066\u306e\u578b\u60c5\u5831\u306f\u3001\u5171\u7528\u4f53\u578b\u3067\u30e9\u30c3\u30d7\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p> <p><code>Union</code>\u30af\u30e9\u30b9\u306e\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u306f<code>Atomic</code>\u578b\u306e\u914d\u5217\u3092\u53d7\u3051\u53d6\u308a\u3001\u3053\u308c\u3089\u306e\u578b\u306e1\u3064\u4ee5\u4e0a\u3092\u540c\u6642\u306b\u8868\u73fe\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u3089\u306fdoc\u30b3\u30e1\u30f3\u30c8\u306e\u7e26\u68d2\u306b\u5bfe\u5fdc\u3057\u307e\u3059\u3002</p> <pre><code>new Union([new TNamedObject('Foo\\\\Bar\\\\SomeClass')]); // docblock\u306eFoo\\Bar\\SomeClass\u306b\u76f8\u5f53\nnew Union([new TString(), new TInt()]); // docblock\u306estring|int\u306b\u76f8\u5f53\n</code></pre>"},{"location":"running_psalm/plugins/plugins_type_system/#atomic-types","title":"\u539f\u5b50\u578b\uff08Atomic types\uff09","text":"<p>\u6d6e\u52d5\u5c0f\u6570\u70b9\u6570\u3001\u6574\u6570\u3001\u6587\u5b57\u5217\u306a\u3069\u306e\u30d7\u30ea\u30df\u30c6\u30a3\u30d6\u578b\u306b\u52a0\u3048\u3066\u3001\u914d\u5217\u3084\u30af\u30e9\u30b9\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u3089\u306f\u5168\u3066<code>src/Psalm/Types/Atomic</code>\u306b\u3042\u308a\u307e\u3059\u3002</p> <p>\u3053\u306e\u30d5\u30a9\u30eb\u30c0\u5185\u306e\u5168\u3066\u306e\u975e\u62bd\u8c61\u30af\u30e9\u30b9\u304c\u6709\u52b9\u306a\u578b\u3067\u3042\u308b\u3053\u3068\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3053\u308c\u3089\u306f\u5168\u3066'T'\u3067\u59cb\u307e\u308a\u307e\u3059\u3002</p> <p>\u30af\u30e9\u30b9\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\uff1a</p>"},{"location":"running_psalm/plugins/plugins_type_system/#_2","title":"\u305d\u306e\u4ed6","text":"<p><code>TVoid</code> - <code>void</code>\u578b\u3092\u8868\u3057\u3001\u901a\u5e38\u306f\u4f55\u3082\u8fd4\u3055\u306a\u3044\u95a2\u6570/\u30e1\u30bd\u30c3\u30c9\u3092\u6ce8\u91c8\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002</p> <p><code>TNull</code> - <code>null</code>\u578b\u3092\u8868\u3057\u307e\u3059\u3002</p> <p><code>TNever</code> - \u4f8b\u5916\u3092\u30b9\u30ed\u30fc\u3059\u308b\u304b\u7d42\u4e86\u3059\u308b\uff08\u30d3\u30eb\u30c8\u30a4\u30f3\u306e<code>exit()</code>\u306e\u3088\u3046\u306a\uff09\u3001\u6c7a\u3057\u3066\u623b\u3089\u306a\u3044\u95a2\u6570\u306e<code>no-return</code>/<code>never-return</code>\u578b\u3092\u8868\u3057\u307e\u3059\u3002\u307e\u305f\u3001\u53ef\u80fd\u306a\u578b\u304c\u306a\u3044\u5171\u7528\u4f53\u578b\uff08\u4f8b\u3048\u3070\u4e0d\u53ef\u80fd\u306a\u4ea4\u5dee\u578b\uff09\u306b\u3082\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002\u7a7a\u306e\u914d\u5217<code>[]</code>\u306f<code>array&lt;never, never&gt;</code>\u578b\u3092\u6301\u3061\u307e\u3059\u3002</p> <p><code>TMixed</code> - <code>mixed</code>\u578b\u3092\u8868\u3057\u3001\u5f0f\u306e\u578b\u304c\u4e0d\u660e\u306a\u5834\u5408\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002</p> <p><code>TNonEmptyMixed</code> - \u4e0a\u8a18\u3068\u540c\u69d8\u3067\u3059\u304c\u3001\u7a7a\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u5916\u90e8\u3067<code>$x</code>\u304c<code>mixed</code>\u306e\u5834\u5408\u3001<code>if ($x) {...}</code>\u6587\u306e\u4e2d\u306e<code>$x</code>\u306b\u5bfe\u3057\u3066\u751f\u6210\u3055\u308c\u307e\u3059\u3002</p> <p><code>TEmptyMixed</code> - \u4e0a\u8a18\u3068\u540c\u69d8\u3067\u3059\u304c\u3001\u7a7a\u3067\u3059\u3002\u5916\u90e8\u3067<code>$x</code>\u304c<code>mixed</code>\u306e\u5834\u5408\u3001<code>if (!$x) {...}</code>\u6587\u306e\u4e2d\u306e<code>$x</code>\u306b\u5bfe\u3057\u3066\u751f\u6210\u3055\u308c\u307e\u3059\u3002</p> <p><code>TIterable</code> - <code>iterable</code>\u578b\u3092\u8868\u3057\u307e\u3059\uff08<code>is_iterable</code>\u30c1\u30a7\u30c3\u30af\u306e\u7d50\u679c\u306b\u3082\u306a\u308a\u5f97\u307e\u3059\uff09\u3002</p> <p><code>TResource</code> - <code>resource</code>\u578b\u3092\u8868\u3057\u307e\u3059\uff08\u4f8b\uff1a\u30d5\u30a1\u30a4\u30eb\u30cf\u30f3\u30c9\u30eb\uff09\u3002</p> <p><code>TClosedResource</code> - \u30af\u30ed\u30fc\u30ba\u3055\u308c\u305f<code>resource</code>\u578b\u3092\u8868\u3057\u307e\u3059\uff08\u4f8b\uff1a<code>fclose()</code>\u3092\u901a\u3058\u305f\u30d5\u30a1\u30a4\u30eb\u30cf\u30f3\u30c9\u30eb\uff09\u3002</p> <p><code>TAssertionFalsy</code> - \u30d6\u30fc\u30eb\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3067\u8a08\u7b97\u3055\u308c\u305f\u3068\u304d\u306bfalse\u306b\u9084\u5143\u3055\u308c\u308b\u4efb\u610f\u306e\u5024\u3092\u8868\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u30a2\u30b5\u30fc\u30b7\u30e7\u30f3\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002</p> <p><code>TConditional</code> - phpdoc\u306e\u6761\u4ef6\u4ed8\u304d\u623b\u308a\u5024\u578b\u306e\u5185\u90e8\u8868\u73fe\u3067\u3059\u3002\u4f8b\u3048\u3070 ($param1 is int ? int : string)</p> <p><code>TIntMask</code> - \u305d\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u30d3\u30c3\u30c8\u30de\u30b9\u30af\u7d44\u307f\u5408\u308f\u305b\u306e\u7d50\u679c\u3067\u3042\u308b\u578b\u3092\u8868\u3057\u307e\u3059\u3002<code>int-mask&lt;1, 2, 4&gt;</code>\u306f<code>1|2|3|4|5|6|7</code>\u306b\u5bfe\u5fdc\u3057\u307e\u3059\u3002</p> <p><code>TIntMaskOf</code> - \u4e0a\u8a18\u3068\u540c\u69d8\u3067\u3059\u304c\u3001\u30b3\u30fc\u30c9\u5185\u306e\u5b9a\u6570\u3078\u306e\u53c2\u7167\u3068\u5171\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002<code>int-mask-of&lt;MyClass::CLASS_CONSTANT_*&gt;</code>\u306f\u30011\u30012\u30014\u306e3\u3064\u306e\u5b9a\u6570\u304c\u3042\u308b\u5834\u5408\u3001<code>1|2|3|4|5|6|7</code>\u306b\u5bfe\u5fdc\u3057\u307e\u3059\u3002</p> <p><code>TKeyOf</code> - \u914d\u5217\u306e\u30aa\u30d5\u30bb\u30c3\u30c8\u3092\u8868\u3057\u307e\u3059\uff08\u4f8b\uff1a<code>key-of&lt;MyClass::CLASS_CONSTANT&gt;</code>\uff09\u3002</p> <p><code>TValueOf</code> - \u914d\u5217\u307e\u305f\u306f\u5217\u6319\u578b\u306e\u5024\u3092\u8868\u3057\u307e\u3059\uff08\u4f8b\uff1a<code>value-of&lt;MyClass::CLASS_CONSTANT&gt;</code>\uff09\u3002</p> <p><code>TTemplateIndexedAccess</code> - \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u5316\u4e88\u5b9a</p> <p><code>TTemplateKeyOf</code> - \u914d\u5217\u306e\u578b\u304c\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u5834\u5408\u306bTKeyOf\u3092\u4f7f\u7528\u3059\u308b\u3068\u304d\u306b\u4f7f\u7528\u3055\u308c\u308b\u578b\u3092\u8868\u3057\u307e\u3059\u3002</p> <p><code>TTemplateValueOf</code> - \u914d\u5217\u307e\u305f\u306f\u5217\u6319\u578b\u306e\u578b\u304c\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u5834\u5408\u306bTValueOf\u3092\u4f7f\u7528\u3059\u308b\u3068\u304d\u306b\u4f7f\u7528\u3055\u308c\u308b\u578b\u3092\u8868\u3057\u307e\u3059\u3002</p> <p><code>TPropertiesOf</code> - \u30af\u30e9\u30b9\u306e\u30d7\u30ed\u30d1\u30c6\u30a3\u3068\u305d\u306e\u578b\u3092\u30ad\u30fc\u4ed8\u304d\u914d\u5217\u3068\u3057\u3066\u8868\u3057\u307e\u3059\uff08\u4f8b\uff1a<code>properties-of&lt;MyClass&gt;</code>\uff09</p> <p><code>TTemplatePropertiesOf</code> - \u30af\u30e9\u30b9\u306e\u578b\u304c\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u5834\u5408\u306bTPropertiesOf\u3092\u4f7f\u7528\u3059\u308b\u3068\u304d\u306b\u4f7f\u7528\u3055\u308c\u308b\u578b\u3092\u8868\u3057\u307e\u3059\u3002</p> <p><code>TTypeAlias</code> - \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u5316\u4e88\u5b9a</p>"},{"location":"running_psalm/plugins/plugins_type_system/#_3","title":"\u30b9\u30ab\u30e9\u30fc\u30b9\u30fc\u30d1\u30fc\u30bf\u30a4\u30d7","text":"<p><code>TScalar</code> - <code>scalar</code>\u30b9\u30fc\u30d1\u30fc\u30bf\u30a4\u30d7\u3092\u8868\u3057\u307e\u3059\uff08<code>is_scalar</code>\u30c1\u30a7\u30c3\u30af\u306e\u7d50\u679c\u306b\u3082\u306a\u308a\u5f97\u307e\u3059\uff09\u3002\u3053\u306e\u578b\u306f<code>float</code>\u3001<code>int</code>\u3001<code>bool</code>\u3001<code>string</code>\u3092\u5305\u542b\u3057\u307e\u3059\u3002</p> <p><code>TEmptyScalar</code> - \u7a7a\u3067\u3082\u3042\u308b<code>scalar</code>\u578b\u3092\u8868\u3057\u307e\u3059\u3002</p> <p><code>TNonEmptyScalar</code> - \u7a7a\u3067\u306a\u3044<code>scalar</code>\u578b\u3092\u8868\u3057\u307e\u3059\u3002</p>"},{"location":"running_psalm/plugins/plugins_type_system/#_4","title":"\u6570\u5024\u30b9\u30fc\u30d1\u30fc\u30bf\u30a4\u30d7","text":"<p><code>TNumeric</code> - <code>numeric</code>\u578b\u3092\u8868\u3057\u307e\u3059\uff08<code>is_numeric</code>\u30c1\u30a7\u30c3\u30af\u306e\u7d50\u679c\u306b\u3082\u306a\u308a\u5f97\u307e\u3059\uff09\u3002</p> <p><code>TEmptyNumeric</code> - \u7a7a\u3067\u3082\u3042\u308b<code>numeric</code>\u578b\u3092\u8868\u3057\u307e\u3059\uff08<code>is_numeric</code>\u3068<code>empty</code>\u30c1\u30a7\u30c3\u30af\u306e\u7d50\u679c\u306b\u3082\u306a\u308a\u5f97\u307e\u3059\uff09\u3002</p>"},{"location":"running_psalm/plugins/plugins_type_system/#_5","title":"\u30b9\u30ab\u30e9\u30fc\u578b","text":"<p>\u5168\u3066\u306e\u30b9\u30ab\u30e9\u30fc\u578b\u306b\u306f\u30ea\u30c6\u30e9\u30eb\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u3042\u308a\u307e\u3059\u3002\u4f8b\uff1a<code>int</code>\u5bfe<code>int(5)</code>\u3002</p>"},{"location":"running_psalm/plugins/plugins_type_system/#_6","title":"\u6574\u6570","text":"<p><code>TInt</code> - \u6b63\u78ba\u306a\u5024\u304c\u4e0d\u660e\u306a<code>int</code>\u578b\u3092\u8868\u3057\u307e\u3059\u3002</p> <p><code>TLiteralInt</code> - \u6b63\u78ba\u306a\u6570\u5024\u304c\u65e2\u77e5\u306e\u6574\u6570\u5024\u3092\u8868\u3059\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002</p> <p><code>TIntRange</code> - \u5883\u754c\u306e\u3042\u308b\u5024\u3092\u6301\u3064int\u3092\u8a18\u8ff0\u3067\u304d\u307e\u3059\uff08\u4f8b\uff1a<code>int&lt;1, 5&gt;</code>\uff09\u3002</p>"},{"location":"running_psalm/plugins/plugins_type_system/#_7","title":"\u6d6e\u52d5\u5c0f\u6570\u70b9\u6570","text":"<p><code>TFloat</code> - \u6b63\u78ba\u306a\u5024\u304c\u4e0d\u660e\u306a<code>float</code>\u578b\u3092\u8868\u3057\u307e\u3059\u3002</p> <p><code>TLiteralFloat</code> - \u6b63\u78ba\u306a\u6570\u5024\u304c\u65e2\u77e5\u306e\u6d6e\u52d5\u5c0f\u6570\u70b9\u5024\u3092\u8868\u3059\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"running_psalm/plugins/plugins_type_system/#_8","title":"\u30d6\u30fc\u30eb\u5024","text":"<p><code>TBool</code>\u3001<code>TFalse</code>\u3001<code>TTrue</code></p> <p><code>TBool</code> - \u6b63\u78ba\u306a\u5024\u304c\u4e0d\u660e\u306a<code>bool</code>\u578b\u3092\u8868\u3057\u307e\u3059\u3002</p> <p><code>TFalse</code> - <code>false</code>\u5024\u578b\u3092\u8868\u3057\u307e\u3059\u3002</p> <p><code>TTrue</code> - <code>true</code>\u5024\u578b\u3092\u8868\u3057\u307e\u3059\u3002</p> <pre><code>/** @return string|false    \u6587\u5b57\u5217\u304c\u7a7a\u306e\u5834\u5408\u306ffalse\u3001\u305d\u308c\u4ee5\u5916\u306f\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u6700\u521d\u306e\u6587\u5b57 */\nfunction firstChar(string $s) { return empty($s) ? false : $s[0]; }\n</code></pre> <p>\u3053\u3053\u3067\u3001\u95a2\u6570\u306ftrue\u3092\u8fd4\u3059\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u3001false\u3092bool\u306b\u7f6e\u304d\u63db\u3048\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u5834\u5408\u3001Psalm\u306ftrue\u3092\u53ef\u80fd\u306a\u623b\u308a\u5024\u3068\u3057\u3066\u8003\u616e\u3057\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002\u3088\u308a\u72ed\u3044\u578b\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u6b21\u306e\u3088\u3046\u306a\u7121\u610f\u5473\u306a\u30b3\u30fc\u30c9\u3092\u5831\u544a\u3067\u304d\u307e\u3059\uff08https://psalm.dev/r/037291351d\uff09\uff1a</p> <pre><code>$first = firstChar(\"sdf\");\nif (true === $first) {\n  echo \"\u3053\u308c\u306f\u5b9f\u969b\u306b\u306f\u30c7\u30c3\u30c9\u30b3\u30fc\u30c9\u3067\u3059\";\n}\n</code></pre>"},{"location":"running_psalm/plugins/plugins_type_system/#_9","title":"\u6587\u5b57\u5217","text":"<p><code>TString</code> - \u6b63\u78ba\u306a\u5024\u304c\u4e0d\u660e\u306a<code>string</code>\u578b\u3092\u8868\u3057\u307e\u3059\u3002</p> <p><code>TNonEmptyString</code> - \u7a7a\u3067\u306a\u3044\u6587\u5b57\u5217\u3092\u8868\u3057\u307e\u3059\u3002</p> <p><code>TNumericString</code> - \u6570\u5024\u3067\u3082\u3042\u308b\u6587\u5b57\u5217\u3092\u8868\u3057\u307e\u3059\uff08\u4f8b\uff1a<code>\"5\"</code>\uff09\u3002<code>is_string($s) &amp;&amp; is_numeric($s)</code>\u306e\u7d50\u679c\u306b\u306a\u308a\u5f97\u307e\u3059\u3002</p> <p><code>TLiteralString</code> - \u5024\u304c\u65e2\u77e5\u306e\u6587\u5b57\u5217\u3092\u8868\u3059\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002</p> <p><code>TClassString</code> - <code>class-string</code>\u578b\u3092\u8868\u3057\u3001\u6709\u52b9\u306aPHP\u30af\u30e9\u30b9\u3092\u8868\u3059\u6587\u5b57\u5217\u3092\u8a18\u8ff0\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002\u30af\u30e9\u30b9\u304c\u6d3e\u751f\u3059\u308b\u89aa\u30bf\u30a4\u30d7\u306f\u3001\u30b3\u30f3\u30b9\u30c8\u30e9\u30af\u30bf\u3067\u6307\u5b9a\u3055\u308c\u308b\u5834\u5408\u3068\u3055\u308c\u306a\u3044\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002</p> <p><code>TLiteralClassString</code> - \u7279\u5b9a\u306e\u30af\u30e9\u30b9\u6587\u5b57\u5217\u3092\u8868\u3057\u3001<code>A::class</code>\u306e\u3088\u3046\u306a\u5f0f\u306b\u3088\u3063\u3066\u751f\u6210\u3055\u308c\u307e\u3059\u3002</p> <p><code>TTraitString</code> - <code>trait-string</code>\u578b\u3092\u8868\u3057\u3001\u6709\u52b9\u306aPHP\u30c8\u30ec\u30a4\u30c8\u3092\u8868\u3059\u6587\u5b57\u5217\u3092\u8a18\u8ff0\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002</p> <p><code>TDependentGetClass</code> - get_class($var)\u306b\u3088\u3063\u3066\u898b\u3064\u304b\u308b\u5b8c\u5168\u4fee\u98fe\u30af\u30e9\u30b9\u3067\u3042\u308b\u6587\u5b57\u5217\u306e\u5024\u3092\u8868\u3057\u307e\u3059\u3002</p> <p><code>TDependentGetDebugType</code> - get_debug_type($var)\u306b\u3088\u3063\u3066\u898b\u3064\u304b\u308b\u578b\u306e\u5024\u3067\u3042\u308b\u6587\u5b57\u5217\u3092\u8868\u3057\u307e\u3059\u3002</p> <p><code>TDependentGetType</code> - gettype($var)\u306b\u3088\u3063\u3066\u898b\u3064\u304b\u308b\u578b\u306e\u5024\u3067\u3042\u308b\u6587\u5b57\u5217\u3092\u8868\u3057\u307e\u3059\u3002</p> <p><code>TCallableString</code> - <code>callable-string</code>\u578b\u3092\u8868\u3057\u3001<code>callable</code>\u3067\u3082\u3042\u308b\u672a\u77e5\u306e\u6587\u5b57\u5217\u3092\u8868\u3059\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002</p> <p><code>TSqlSelectString</code> - \u3053\u308c\u306f\u7279\u6b8a\u306a\u578b\u3067\u3001\u7279\u306b\u30d7\u30e9\u30b0\u30a4\u30f3\u306b\u3088\u308b\u6d88\u8cbb\u306e\u305f\u3081\u306e\u3082\u306e\u3067\u3059\u3002</p> <p><code>TLowercaseString</code> - \u5168\u3066\u306e\u6587\u5b57\u304c\u5c0f\u6587\u5b57\u3067\u3042\u308b\u6587\u5b57\u5217\u3092\u8868\u3057\u307e\u3059\uff08<code>strtolower</code>\u547c\u3073\u51fa\u3057\u306e\u7d50\u679c\u306b\u3082\u306a\u308a\u5f97\u307e\u3059\uff09\u3002</p> <p><code>TNonEmptyLowercaseString</code> - \u5168\u3066\u306e\u6587\u5b57\u304c\u5c0f\u6587\u5b57\u3067\u3042\u308b\u7a7a\u3067\u306a\u3044\u6587\u5b57\u5217\u3092\u8868\u3057\u307e\u3059\uff08<code>strtolower</code>\u547c\u3073\u51fa\u3057\u306e\u7d50\u679c\u306b\u3082\u306a\u308a\u5f97\u307e\u3059\uff09\u3002</p> <p><code>TSingleLetter</code> - \u9577\u3055\u304c1\u306e\u6587\u5b57\u5217\u3092\u8868\u3057\u307e\u3059\u3002</p>"},{"location":"running_psalm/plugins/plugins_type_system/#_10","title":"\u30b9\u30ab\u30e9\u30fc\u30af\u30e9\u30b9\u5b9a\u6570","text":"<p><code>TScalarClassConstant</code> - \u5024\u304c\u307e\u3060\u77e5\u3089\u308c\u3066\u3044\u306a\u3044\u53ef\u80fd\u6027\u306e\u3042\u308b\u30af\u30e9\u30b9\u5b9a\u6570\u3092\u8868\u3057\u307e\u3059\u3002</p>"},{"location":"running_psalm/plugins/plugins_type_system/#_11","title":"\u914d\u5217\u30ad\u30fc\u30b9\u30fc\u30d1\u30fc\u30bf\u30a4\u30d7","text":"<p><code>TArrayKey</code> - <code>array-key</code>\u578b\u3092\u8868\u3057\u3001<code>array</code>\u306e\u30aa\u30d5\u30bb\u30c3\u30c8\u306b\u306a\u308a\u5f97\u308b\u3082\u306e\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"running_psalm/plugins/plugins_type_system/#_12","title":"\u914d\u5217","text":"<p><code>TArray</code> - <code>array&lt;TKey, TValue&gt;</code>\u5f62\u5f0f\u306e\u5358\u7d14\u306a\u914d\u5217\u3092\u8868\u3057\u307e\u3059\u3002\u4e21\u65b9\u304c\u5171\u7528\u4f53\u578b\u3067\u3042\u308b2\u3064\u306e\u8981\u7d20\u3092\u6301\u3064\u914d\u5217\u3092\u671f\u5f85\u3057\u307e\u3059\u3002</p> <p><code>TNonEmptyArray</code> - \u4e0a\u8a18\u3068\u540c\u69d8\u3067\u3059\u304c\u3001\u7a7a\u3067\u306a\u3044\u3053\u3068\u304c\u5206\u304b\u3063\u3066\u3044\u308b\u914d\u5217\u3092\u8868\u3057\u307e\u3059\u3002</p> <p><code>TKeyedArray</code> - '\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30e9\u30a4\u30af\u914d\u5217'\u3092\u8868\u3057\u307e\u3059 - \u65e2\u77e5\u306e\u30ad\u30fc\u3092\u6301\u3064\u914d\u5217\u3067\u3059\u3002</p> <pre><code>$x = [\"a\" =&gt; 1, \"b\" =&gt; 2]; // TKeyedArray\u3067\u3059\u3001array{a: int, b: int}\n$y = rand(0, 1) ? [\"a\" =&gt; null] : [\"a\" =&gt; 1, \"b\" =&gt; \"b\"]; // \u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u30ad\u30fc/\u5024\u3092\u6301\u3064TKeyedArray\u3067\u3059\u3001array{a: ?int, b?: string}\n</code></pre> <p>\u3053\u306e\u578b\u306f\u3001\u30ea\u30b9\u30c8\u3092\u8868\u3059\u305f\u3081\u306b\u3082\u4f7f\u7528\u3055\u308c\u307e\u3059\uff08\u73fe\u5728\u975e\u63a8\u5968\u306e<code>TList</code>\u578b\u306e\u4ee3\u308f\u308a\u306b\uff09\u3002</p> <p>\u5168\u3066\u306e\u9023\u60f3\u914d\u5217\u304c\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30e9\u30a4\u30af\u3068\u307f\u306a\u3055\u308c\u308b\u308f\u3051\u3067\u306f\u306a\u3044\u3053\u3068\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u30ad\u30fc\u304c\u4e0d\u660e\u306a\u5834\u5408\u3001\u914d\u5217\u306f2\u3064\u306e\u578b\u9593\u306e\u30de\u30c3\u30d4\u30f3\u30b0\u3068\u3057\u3066\u6271\u308f\u308c\u307e\u3059\u3002</p> <pre><code>$a = [];\nforeach (range(1,1) as $_) $a[(string)rand(0,1)] = rand(0,1); // array&lt;string,int&gt;\n</code></pre> <p><code>TCallableKeyedArray</code> - <code>callable</code>\u3067\u3082\u3042\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30e9\u30a4\u30af\u914d\u5217\u3092\u8868\u3057\u307e\u3059\u3002</p> <p><code>TClassStringMap</code> - \u5404\u5024\u306e\u578b\u304c\u305d\u306e\u6587\u5b57\u5217\u30ad\u30fc\u5024\u306e\u95a2\u6570\u3067\u3042\u308b\u914d\u5217\u3092\u8868\u3057\u307e\u3059\u3002</p>"},{"location":"running_psalm/plugins/plugins_type_system/#_13","title":"\u547c\u3073\u51fa\u3057\u53ef\u80fd\u304a\u3088\u3073\u30af\u30ed\u30fc\u30b8\u30e3","text":"<p><code>TCallable</code> - <code>callable</code>\u578b\u3092\u8868\u3057\u307e\u3059\u3002<code>is_callable</code>\u30c1\u30a7\u30c3\u30af\u306e\u7d50\u679c\u306b\u306a\u308a\u5f97\u307e\u3059\u3002 <code>TClosure</code> - <code>Closure</code>\u578b\u3092\u8868\u3057\u307e\u3059\u3002</p> <p><code>TCallable</code>\u3068<code>TClosure</code>\u306f\u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u30d1\u30e9\u30e1\u30fc\u30bf\u3068\u623b\u308a\u5024\u306e\u578b\u3082\u5b9a\u7fa9\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"running_psalm/plugins/plugins_type_system/#_14","title":"\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30b9\u30fc\u30d1\u30fc\u30bf\u30a4\u30d7","text":"<p><code>TObject</code> - <code>object</code>\u578b\u3092\u8868\u3057\u307e\u3059\u3002</p> <p><code>TObjectWithProperties</code> - \u6307\u5b9a\u3055\u308c\u305f\u30e1\u30f3\u30d0\u30fc\u5909\u6570\u3092\u6301\u3064\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\uff08\u4f8b\uff1a<code>object{foo:int, bar:string}</code>\uff09\u3002</p>"},{"location":"running_psalm/plugins/plugins_type_system/#_15","title":"\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u578b","text":"<p><code>TNamedObject</code> - \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u578b\u304c\u65e2\u77e5\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u578b\u3092\u8868\u3057\u307e\u3059\uff08\u4f8b\uff1a<code>Exception</code>\u3001<code>Throwable</code>\u3001<code>Foo\\Bar</code>\uff09\u3002</p> <p><code>TGenericObject</code> - \u30b8\u30a7\u30cd\u30ea\u30c3\u30af\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6301\u3064\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u578b\u3092\u8868\u3057\u307e\u3059\uff08\u4f8b\uff1a<code>ArrayObject&lt;string, Foo\\Bar&gt;</code>\uff09\u3002</p> <p><code>TCallableObject</code> - <code>callable</code>\u3067\u3082\u3042\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u8868\u3057\u307e\u3059\uff08\u3064\u307e\u308a\u3001<code>__invoke</code>\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\uff09\u3002</p> <p><code>TAnonymousClassInstance</code> - \u6f5c\u5728\u7684\u306a\u30e1\u30bd\u30c3\u30c9\u3092\u6301\u3064\u533f\u540d\u30af\u30e9\u30b9\uff08\u3064\u307e\u308a<code>new class{}</code>\uff09\u3092\u8868\u3057\u307e\u3059\u3002</p>"},{"location":"running_psalm/plugins/plugins_type_system/#_16","title":"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8","text":"<p><code>TTemplateParam</code> - \u4ee5\u524d\u306b<code>@template</code>\u30bf\u30b0\u3067\u6307\u5b9a\u3055\u308c\u305f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8868\u3057\u307e\u3059\u3002</p> <p><code>TTemplateParamClass</code> - \u4ee5\u524d\u306b<code>@template</code>\u30bf\u30b0\u3067\u6307\u5b9a\u3055\u308c\u305f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u5bfe\u5fdc\u3059\u308b<code>class-string</code>\u3092\u8868\u3057\u307e\u3059\u3002</p>"},{"location":"running_psalm/plugins/plugins_type_system/#_17","title":"\u578b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4f5c\u6210","text":"<p>\u4e0e\u3048\u3089\u308c\u305f\u578b\u3092\u8a18\u8ff0\u3059\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f5c\u6210\u3059\u308b\u65b9\u6cd5\u306f2\u3064\u3042\u308a\u307e\u3059\u3002\u76f4\u63a5new\u3092\u4f7f\u7528\u3057\u3066\u4f5c\u6210\u3059\u308b\u304b\u3001doc\u30b9\u30c8\u30ea\u30f3\u30b0\u304b\u3089\u5ba3\u8a00\u7684\u306b\u4f5c\u6210\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u901a\u5e38\u30012\u756a\u76ee\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u305f\u3044\u3067\u3057\u3087\u3046\u3002\u3057\u304b\u3057\u3001\u3053\u306e\u30c7\u30fc\u30bf\u306e\u69cb\u9020\u3092\u7406\u89e3\u3059\u308b\u3053\u3068\u306f\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u306b\u6e21\u3055\u308c\u308b\u578b\u3092\u7406\u89e3\u3059\u308b\u306e\u306b\u5f79\u7acb\u3061\u307e\u3059\u3002</p> <p>\u3053\u308c\u3089\u306e\u30af\u30e9\u30b9\u306f\u6642\u3005\u5909\u66f4\u3055\u308c\u308b\u3053\u3068\u304c\u3042\u308b\u306e\u3067\u3001<code>Type::parseString</code>\u306f\u5e38\u306b\u3088\u308a\u5805\u7262\u306a\u30aa\u30d7\u30b7\u30e7\u30f3\u306b\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"running_psalm/plugins/plugins_type_system/#_18","title":"\u578b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u76f4\u63a5\u4f5c\u6210\u3059\u308b","text":"<p>\u6b21\u306e\u4f8b\u306f\u3001\u6587\u5b57\u5217\u3001\u6d6e\u52d5\u5c0f\u6570\u70b9\u6570\u3001'Foo\\Bar\\SomeClass'\u3068\u3044\u3046\u30af\u30e9\u30b9\u3092\u8868\u3059\u578b\u3092\u69cb\u7bc9\u3057\u307e\u3059\u3002</p> <pre><code>new TLiteralString('\u30c6\u30ad\u30b9\u30c8\u6587\u5b57\u5217')\nnew TLiteralFloat(3.142)\nnew TNamedObject('Foo\\Bar\\SomeClass')\n</code></pre> <p>Psalm\u5185\u306e\u578b\u306f\u3001\u5229\u4fbf\u6027\u306e\u305f\u3081\u5e38\u306b\u5171\u7528\u4f53\u3067\u30e9\u30c3\u30d7\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u578b\u304c\u671f\u5f85\u3055\u308c\u308b\u5834\u6240\uff08\u30d7\u30ed\u30d1\u30c6\u30a3\u578b\u3001\u623b\u308a\u5024\u578b\u3001\u5f15\u6570\u578b\u306a\u3069\uff09\u306e\u307b\u3068\u3093\u3069\u3067\u3001\u5171\u7528\u4f53\u3082\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001\u5358\u4e00\u306e\u539f\u5b50\u578b\uff08TInt\u306a\u3069\uff09\u3092\u5171\u7528\u4f53\u30b3\u30f3\u30c6\u30ca\u3067\u30e9\u30c3\u30d7\u3059\u308b\u3053\u3068\u3067\u3001\u4ed6\u306e\u5834\u6240\u3067\u305d\u306e\u578b\u3092\u5747\u4e00\u306b\u6271\u3046\u3053\u3068\u304c\u3067\u304d\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u7e70\u308a\u8fd4\u3057\u306e\u30c1\u30a7\u30c3\u30af\u3092\u907f\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>if ($type instanceof Union)\n   foreach ($types-&gt;getTypes() as $atomic)\n      handleAtomic($atomic);\nelse handleAtomic($type);\n\n// \u5171\u7528\u4f53\u30b3\u30f3\u30c6\u30ca\u3092\u4f7f\u7528\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u308a\u307e\u3059\nforeach ($types-&gt;getTypes() as $atomic)\n   handleAtomic($atomic);\n</code></pre> <p>\u307e\u305f\u3001\u5171\u7528\u4f53\u30c4\u30ea\u30fc\u306f\u5e38\u306b\u6d45\u304f\u306a\u308a\u307e\u3059\u3002\u306a\u305c\u306a\u3089\u3001Psalm\u306f\u5171\u7528\u4f53\u306e\u5171\u7528\u4f53\u3092\u5358\u4e00\u30ec\u30d9\u30eb\u306e\u5171\u7528\u4f53\u306b\u5e73\u5766\u5316\u3059\u308b\u304b\u3089\u3067\u3059\uff08<code>((A|B)|(C|D) =&gt; A|B|C|D)</code>\uff09\u3002</p> <p>\u3088\u308a\u8907\u96d1\u306a\u578b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u69cb\u7bc9\u3067\u304d\u307e\u3059\u3002\u4ee5\u4e0b\u306f3\u3064\u306e\u30ad\u30fc\u3092\u6301\u3064\u9023\u60f3\u914d\u5217\u3092\u8868\u3057\u3066\u3044\u307e\u3059\u3002Psalm\u306f\u3053\u308c\u3092'\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30e9\u30a4\u30af\u914d\u5217'\u3068\u547c\u3073\u3001'TKeyedArray'\u30af\u30e9\u30b9\u3067\u8868\u73fe\u3057\u307e\u3059\u3002</p> <pre><code>new Union([\n    new TKeyedArray([\n        'key_1' =&gt; new Union([new TString()]),\n        'key_2' =&gt; new Union([new TInt()]),\n        'key_3' =&gt; new Union([new TBool()])])]);\n</code></pre> <p>Type\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u306f\u3001\u578b\u3092\u81ea\u52d5\u7684\u306b\u5171\u7528\u4f53\u3067\u30e9\u30c3\u30d7\u3059\u308b\u3044\u304f\u3064\u304b\u306e\u9759\u7684\u30d8\u30eb\u30d1\u30fc\u30e1\u30bd\u30c3\u30c9\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001\u3053\u308c\u306f\u3088\u308a\u7c21\u6f54\u306b\u66f8\u304f\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>new Union([\n    new Type\\Atomic\\TKeyedArray([\n        'first' =&gt; Type::getInt(),\n        'second' =&gt; Type::getString()])]);\n</code></pre> <p>\u307e\u305f\u3001<code>Type::getInt(5)</code>\u3092\u4f7f\u7528\u3057\u3066\u3001\u30ea\u30c6\u30e9\u30eb\u6574\u6570\u50245\u306b\u5bfe\u5fdc\u3059\u308b\u5171\u7528\u4f53\u578b\u3092\u751f\u6210\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"running_psalm/plugins/plugins_type_system/#doc","title":"doc\u30b9\u30c8\u30ea\u30f3\u30b0\u578b\u304b\u3089\u578b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f5c\u6210\u3059\u308b","text":"<p>\u3053\u308c\u3089\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f5c\u6210\u3059\u308b\u3082\u3046\u4e00\u3064\u306e\u65b9\u6cd5\u306f\u3001\u9759\u7684\u30e1\u30bd\u30c3\u30c9<code>parseString</code>\u3092\u542b\u3080<code>Psalm\\Type</code>\u30af\u30e9\u30b9\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u3059\u3002\u4efb\u610f\u306edoc\u30b9\u30c8\u30ea\u30f3\u30b0\u578b\u8a18\u8ff0\u3092\u3053\u308c\u306b\u6e21\u3059\u3068\u3001\u5bfe\u5fdc\u3059\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u8868\u73fe\u3092\u8fd4\u3057\u307e\u3059\u3002</p> <pre><code>\\Psalm\\Type::parseString('int|null');\n</code></pre> <p>Psalm\u304c\u4e0e\u3048\u3089\u308c\u305f\u578b\u3092\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u3057\u3066\u3069\u306e\u3088\u3046\u306b\u8868\u73fe\u3059\u308b\u304b\u3092\u77e5\u308b\u306b\u306f\u3001\u3053\u306e\u95a2\u6570\u3078\u306e\u5165\u529b\u3068\u3057\u3066\u578b\u3092\u6307\u5b9a\u3057\u3001\u7d50\u679c\u306b\u5bfe\u3057\u3066<code>var_dump</code>\u3092\u547c\u3073\u51fa\u3059\u3053\u3068\u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"running_psalm/plugins/plugins_type_system/#_19","title":"\u578b\u306e\u64cd\u4f5c","text":"<p>\u578b\u3092\u64cd\u4f5c\u3059\u308b\u305f\u3081\u306e\u3044\u304f\u3064\u304b\u306e\u4e00\u822c\u7684\u306a\u64cd\u4f5c\u304c\u3042\u308a\u307e\u3059\uff1a</p>"},{"location":"running_psalm/plugins/plugins_type_system/#_20","title":"\u578b\u306e\u7d50\u5408","text":"<p>2\u3064\u4ee5\u4e0a\u306e\u578b\u3092\u7d50\u5408\u3057\u3066\u65b0\u3057\u3044\u5171\u7528\u4f53\u578b\u3092\u4f5c\u6210\u3059\u308b\u306b\u306f\uff1a</p> <pre><code>Type::combineUnionTypes($type1, $type2);\n</code></pre>"},{"location":"running_psalm/plugins/plugins_type_system/#_21","title":"\u578b\u306e\u4ea4\u5dee","text":"<p>2\u3064\u4ee5\u4e0a\u306e\u578b\u3092\u4ea4\u5dee\u3055\u305b\u3066\u65b0\u3057\u3044\u4ea4\u5dee\u578b\u3092\u4f5c\u6210\u3059\u308b\u306b\u306f\uff1a</p> <pre><code>Type::intersectUnionTypes($type1, $type2);\n</code></pre>"},{"location":"running_psalm/plugins/plugins_type_system/#_22","title":"\u578b\u306e\u6bd4\u8f03","text":"<p>2\u3064\u306e\u578b\u304c\u4e92\u63db\u6027\u304c\u3042\u308b\u304b\u3069\u3046\u304b\u3092\u78ba\u8a8d\u3059\u308b\u306b\u306f\uff1a</p> <pre><code>TypeComparator::isContainedBy($codebase, $type1, $type2);\n</code></pre>"},{"location":"running_psalm/plugins/plugins_type_system/#_23","title":"\u578b\u306e\u7d5e\u308a\u8fbc\u307f","text":"<p>\u6761\u4ef6\u306b\u57fa\u3065\u3044\u3066\u578b\u3092\u7d5e\u308a\u8fbc\u3080\u306b\u306f\uff1a</p> <pre><code>$newType = TypeNarrower::narrowToNotNull($type);\n</code></pre>"},{"location":"running_psalm/plugins/plugins_type_system/#_24","title":"\u30d7\u30e9\u30b0\u30a4\u30f3\u3067\u306e\u578b\u306e\u4f7f\u7528","text":"<p>\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u958b\u767a\u3059\u308b\u969b\u3001\u3053\u308c\u3089\u306e\u578b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4f7f\u7528\u3057\u3066\u3001\u30b3\u30fc\u30c9\u306e\u578b\u60c5\u5831\u3092\u5206\u6790\u3057\u305f\u308a\u64cd\u4f5c\u3057\u305f\u308a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u4f8b\u3048\u3070\uff1a</p> <pre><code>public function afterExpressionAnalysis(\n    Expr $expr,\n    Context $context,\n    StatementsSource $statements_source,\n    Codebase $codebase,\n    array &amp;$file_replacements = []\n): ?bool {\n    if ($expr instanceof PhpParser\\Node\\Expr\\Variable\n        &amp;&amp; is_string($expr-&gt;name)\n    ) {\n        $type = $statements_source-&gt;getNodeTypeProvider()-&gt;getType($expr);\n        if ($type instanceof Union &amp;&amp; $type-&gt;hasString()) {\n            // \u6587\u5b57\u5217\u578b\u3092\u542b\u3080\u5909\u6570\u306b\u5bfe\u3057\u3066\u4f55\u304b\u3092\u884c\u3046\n        }\n    }\n    return null;\n}\n</code></pre> <p>\u3053\u306e\u4f8b\u3067\u306f\u3001\u5909\u6570\u5f0f\u3092\u691c\u67fb\u3057\u3001\u305d\u306e\u578b\u306b\u6587\u5b57\u5217\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u3092\u30c1\u30a7\u30c3\u30af\u3057\u3066\u3044\u307e\u3059\u3002</p> <p>\u578b\u30b7\u30b9\u30c6\u30e0\u3092\u6df1\u304f\u7406\u89e3\u3059\u308b\u3053\u3068\u3067\u3001Psalm\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u6a5f\u80fd\u3092\u6700\u5927\u9650\u306b\u6d3b\u7528\u3057\u3001\u3088\u308a\u9ad8\u5ea6\u306a\u9759\u7684\u89e3\u6790\u3092\u5b9f\u88c5\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"running_psalm/plugins/using_plugins/","title":"\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u4f7f\u7528","text":"<p>Psalm\u306f\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u901a\u3058\u3066\u62e1\u5f35\u3057\u3001\u30c9\u30e1\u30a4\u30f3\u56fa\u6709\u306e\u554f\u984c\u3092\u767a\u898b\u30fb\u4fee\u6b63\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"running_psalm/plugins/using_plugins/#composer","title":"Composer\u30d9\u30fc\u30b9\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u4f7f\u7528","text":"<p>Psalm\u30d7\u30e9\u30b0\u30a4\u30f3\u306f\u3001Composer\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u3057\u3066\u914d\u5e03\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"running_psalm/plugins/using_plugins/#_2","title":"\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u63a2\u7d22","text":"<p>\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u30ea\u30b9\u30c8\u306f\u4ee5\u4e0b\u306e\u5834\u6240\u3067\u898b\u3064\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff1a</p> <ul> <li>Psalm\u306e\u516c\u5f0f\u30a6\u30a7\u30d6\u30b5\u30a4\u30c8</li> <li>Packagist</li> </ul> <p>\u307e\u305f\u3001CLI\u3067\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u3082\u4e00\u89a7\u3092\u53d6\u5f97\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>composer search -t psalm-plugin '.'\n</code></pre>"},{"location":"running_psalm/plugins/using_plugins/#_3","title":"\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<p>\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\uff1a</p> <pre><code>composer require --dev &lt;plugin-vendor/plugin-package&gt;\n</code></pre>"},{"location":"running_psalm/plugins/using_plugins/#_4","title":"\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u7ba1\u7406","text":"<p>\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u306f\u3001<code>psalm-plugin</code>\u30c4\u30fc\u30eb\u3092\u4f7f\u7528\u3057\u3066\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u6709\u52b9\u5316\u3001\u7121\u52b9\u5316\u3001\u304a\u3088\u3073\u5229\u7528\u53ef\u80fd\u306a\u30d7\u30e9\u30b0\u30a4\u30f3\u3068\u6709\u52b9\u306a\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u8868\u793a\u3092\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u6709\u52b9\u306b\u3059\u308b\u306b\u306f\uff1a</p> <pre><code>vendor/bin/psalm-plugin enable plugin-vendor/plugin-package\n</code></pre> <p>\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u7121\u52b9\u306b\u3059\u308b\u306b\u306f\uff1a</p> <pre><code>vendor/bin/psalm-plugin disable plugin-vendor/plugin-package\n</code></pre> <p>\u3059\u3079\u3066\u306e\u30ed\u30fc\u30ab\u30eb\u30d7\u30e9\u30b0\u30a4\u30f3\uff08\u6709\u52b9\u304a\u3088\u3073\u7121\u52b9\uff09\u306e\u30ea\u30b9\u30c8\u3092\u8868\u793a\u3059\u308b\u306b\u306f\uff1a</p> <pre><code>vendor/bin/psalm-plugin show\n</code></pre>"},{"location":"running_psalm/plugins/using_plugins/#_5","title":"\u72ec\u81ea\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u4f7f\u7528","text":"<p>\u304a\u6c17\u306b\u5165\u308a\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3084\u30e9\u30a4\u30d6\u30e9\u30ea\u7528\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u304c\u307e\u3060\u306a\u3044\u5834\u5408\u306f\u3001\u81ea\u5206\u3067\u4f5c\u6210\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u30d5\u30a9\u30fc\u30af\u3057\u3001docblock\u3092\u8abf\u6574\u3057\u3001\u30d1\u30c3\u30b1\u30fc\u30b8\u3092Packagist\u306b\u516c\u958b\u3059\u308b\u3060\u3051\u3067\u7c21\u5358\u306b\u4f5c\u6210\u3067\u304d\u307e\u3059\u3002</p> <p>\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u4f5c\u6210\u3092\u59cb\u3081\u308b\u306b\u306f\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u306e\u4f5c\u6210\u306e\u7ae0\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"security_analysis/","title":"Psalm\u306b\u304a\u3051\u308b\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u5206\u6790","text":"<p>Psalm\u306f\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u5236\u5fa1\u3067\u304d\u308b\u5165\u529b\uff08<code>$_GET['name']</code>\u306a\u3069\uff09\u3068\u3001\u30a8\u30b9\u30b1\u30fc\u30d7\u3055\u308c\u3066\u3044\u306a\u3044\u30e6\u30fc\u30b6\u30fc\u5236\u5fa1\u306e\u5165\u529b\u304c\u7d42\u308f\u3063\u3066\u307b\u3057\u304f\u306a\u3044\u5834\u6240\uff08<code>echo \"&lt;h1&gt;$name&lt;/h1&gt;\"</code>\u306a\u3069\uff09\u3068\u306e\u9593\u306e\u3064\u306a\u304c\u308a\u3092\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u901a\u3058\u3066\u30c7\u30fc\u30bf\u304c\u3069\u306e\u3088\u3046\u306b\u6d41\u308c\u308b\u304b\uff08\u4ee3\u5165\u3001\u95a2\u6570/\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u3001\u914d\u5217/\u30d7\u30ed\u30d1\u30c6\u30a3\u30a2\u30af\u30bb\u30b9\u3092\u4ecb\u3057\u3066\uff09\u3092\u898b\u308b\u3053\u3068\u3067\u898b\u3064\u3051\u3088\u3046\u3068\u3057\u307e\u3059\u3002</p> <p>\u3053\u306e\u30e2\u30fc\u30c9\u306f<code>--taint-analysis</code>\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30d5\u30e9\u30b0\u3067\u6709\u52b9\u306b\u3067\u304d\u307e\u3059\u3002\u6c5a\u67d3\u5206\u6790\u304c\u6709\u52b9\u306b\u306a\u308b\u3068\u3001\u4ed6\u306e\u5206\u6790\u306f\u5b9f\u884c\u3055\u308c\u307e\u305b\u3093\u3002\u5305\u62ec\u7684\u306a\u7d50\u679c\u3092\u78ba\u4fdd\u3059\u308b\u305f\u3081\u306b\u3001\u6c5a\u67d3\u5206\u6790\u306e\u524d\u306b\u901a\u5e38\u901a\u308aPsalm\u3092\u5b9f\u884c\u3057\u3001\u30a8\u30e9\u30fc\u3092\u4fee\u6b63\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>\u6c5a\u67d3\u3055\u308c\u305f\u5165\u529b\u3068\u306f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30e6\u30fc\u30b6\u30fc\u304c\u5168\u4f53\u7684\u307e\u305f\u306f\u90e8\u5206\u7684\u306b\u5236\u5fa1\u3067\u304d\u308b\u3082\u306e\u3059\u3079\u3066\u3067\u3059\u3002\u6c5a\u67d3\u5206\u6790\u3067\u306f\u3001\u6c5a\u67d3\u3055\u308c\u305f\u5165\u529b\u3092_\u6c5a\u67d3\u6e90_\u3068\u547c\u3073\u307e\u3059\u3002</p> <p>\u4f8b\u3048\u3070\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u3082\u306e\u304c\u6c5a\u67d3\u6e90\u3067\u3059\uff1a - <code>$_GET['id']</code> - <code>$_POST['email']</code> - <code>$_COOKIE['token']</code></p> <p>\u6c5a\u67d3\u5206\u6790\u306f\u3001\u30c7\u30fc\u30bf\u304c\u6c5a\u67d3\u6e90\u304b\u3089_\u6c5a\u67d3\u30b7\u30f3\u30af_\u306b\u3069\u306e\u3088\u3046\u306b\u6d41\u308c\u308b\u304b\u3092\u8ffd\u8de1\u3057\u307e\u3059\u3002\u6c5a\u67d3\u30b7\u30f3\u30af\u306f\u3001\u4fe1\u983c\u3067\u304d\u306a\u3044\u30c7\u30fc\u30bf\u304c\u6c7a\u3057\u3066\u5230\u9054\u3057\u3066\u307b\u3057\u304f\u306a\u3044\u5834\u6240\u3067\u3059\u3002</p> <p>\u4f8b\u3048\u3070\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u3082\u306e\u304c\u6c5a\u67d3\u30b7\u30f3\u30af\u3067\u3059\uff1a - <code>&lt;div id=\"section_&lt;?= $id ?&gt;\"&gt;</code> - <code>$pdo-&gt;exec(\"select * from users where name='\" . $name . \"'\")</code></p>"},{"location":"security_analysis/#_1","title":"\u6c5a\u67d3\u30bf\u30a4\u30d7","text":"<p>Psalm\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u3001Psalm\\Type\\TaintKind\u30af\u30e9\u30b9\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u591a\u304f\u306e\u6c5a\u67d3\u30bf\u30a4\u30d7\u3092\u8a8d\u8b58\u3057\u307e\u3059\uff1a</p> <ul> <li><code>sql</code> - SQL\u3092\u542b\u3080\u53ef\u80fd\u6027\u306e\u3042\u308b\u6587\u5b57\u5217\u306b\u4f7f\u7528</li> <li><code>ldap</code> - LDAP\u306eDN\u307e\u305f\u306f\u30d5\u30a3\u30eb\u30bf\u3092\u542b\u3080\u53ef\u80fd\u6027\u306e\u3042\u308b\u6587\u5b57\u5217\u306b\u4f7f\u7528</li> <li><code>html</code> - \u5c71\u62ec\u5f27\u307e\u305f\u306f\u5f15\u7528\u7b26\u306a\u3057\u306e\u6587\u5b57\u5217\u3092\u542b\u3080\u53ef\u80fd\u6027\u306e\u3042\u308b\u6587\u5b57\u5217\u306b\u4f7f\u7528</li> <li><code>has_quotes</code> - \u5f15\u7528\u7b26\u306a\u3057\u306e\u6587\u5b57\u5217\u3092\u542b\u3080\u53ef\u80fd\u6027\u306e\u3042\u308b\u6587\u5b57\u5217\u306b\u4f7f\u7528</li> <li><code>shell</code> - \u30b7\u30a7\u30eb\u30b3\u30de\u30f3\u30c9\u3092\u542b\u3080\u53ef\u80fd\u6027\u306e\u3042\u308b\u6587\u5b57\u5217\u306b\u4f7f\u7528</li> <li><code>callable</code> - \u30e6\u30fc\u30b6\u30fc\u304c\u5236\u5fa1\u53ef\u80fd\u306a\u547c\u3073\u51fa\u3057\u53ef\u80fd\u306a\u6587\u5b57\u5217\u306b\u4f7f\u7528</li> <li><code>unserialize</code> - \u30b7\u30ea\u30a2\u30eb\u5316\u3055\u308c\u305f\u6587\u5b57\u5217\u3092\u542b\u3080\u53ef\u80fd\u6027\u306e\u3042\u308b\u6587\u5b57\u5217\u306b\u4f7f\u7528</li> <li><code>include</code> - \u30a4\u30f3\u30af\u30eb\u30fc\u30c9\u3055\u308c\u308b\u30d1\u30b9\u3092\u542b\u3080\u53ef\u80fd\u6027\u306e\u3042\u308b\u6587\u5b57\u5217\u306b\u4f7f\u7528</li> <li><code>eval</code> - \u30b3\u30fc\u30c9\u3092\u542b\u3080\u53ef\u80fd\u6027\u306e\u3042\u308b\u6587\u5b57\u5217\u306b\u4f7f\u7528</li> <li><code>ssrf</code> - Curl\u307e\u305f\u306f\u305d\u308c\u3089\u304d\u306e\u30c6\u30ad\u30b9\u30c8\u3092\u6e21\u3059\u53ef\u80fd\u6027\u306e\u3042\u308b\u6587\u5b57\u5217\u306b\u4f7f\u7528</li> <li><code>file</code> - \u30d1\u30b9\u3092\u542b\u3080\u53ef\u80fd\u6027\u306e\u3042\u308b\u6587\u5b57\u5217\u306b\u4f7f\u7528</li> <li><code>cookie</code> - HTTP\u30af\u30c3\u30ad\u30fc\u3092\u542b\u3080\u53ef\u80fd\u6027\u306e\u3042\u308b\u6587\u5b57\u5217\u306b\u4f7f\u7528</li> <li><code>header</code> - HTTP\u30d8\u30c3\u30c0\u30fc\u3092\u542b\u3080\u53ef\u80fd\u6027\u306e\u3042\u308b\u6587\u5b57\u5217\u306b\u4f7f\u7528</li> <li><code>user_secret</code> - \u30e6\u30fc\u30b6\u30fc\u304c\u63d0\u4f9b\u3057\u305f\u79d8\u5bc6\u3092\u542b\u3080\u53ef\u80fd\u6027\u306e\u3042\u308b\u6587\u5b57\u5217\u306b\u4f7f\u7528</li> <li><code>system_secret</code> - \u30b7\u30b9\u30c6\u30e0\u306e\u79d8\u5bc6\u3092\u542b\u3080\u53ef\u80fd\u6027\u306e\u3042\u308b\u6587\u5b57\u5217\u306b\u4f7f\u7528</li> </ul> <p>\u30ab\u30b9\u30bf\u30e0\u6c5a\u67d3\u6e90\u3092\u5b9a\u7fa9\u3059\u308b\u969b\u306b\u3001\u72ec\u81ea\u306e\u6c5a\u67d3\u30bf\u30a4\u30d7\u3092\u81ea\u7531\u306b\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059 - \u3053\u308c\u3089\u306f\u5358\u306a\u308b\u6587\u5b57\u5217\u3067\u3059\u3002</p>"},{"location":"security_analysis/#_2","title":"\u6c5a\u67d3\u6e90","text":"<p>Psalm\u306f\u73fe\u5728\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u30673\u3064\u306e\u6c5a\u67d3\u6e90\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\uff1a<code>$_GET</code>\u3001<code>$_POST</code>\u3001<code>$_COOKIE</code>\u30b5\u30fc\u30d0\u30fc\u5909\u6570\u3067\u3059\u3002</p> <p>\u72ec\u81ea\u306e\u6c5a\u67d3\u6e90\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"security_analysis/#_3","title":"\u6c5a\u67d3\u30b7\u30f3\u30af","text":"<p>Psalm\u306f\u73fe\u5728\u3001<code>echo</code>\u3001<code>include</code>\u3001<code>header</code>\u3092\u542b\u3080\u7d44\u307f\u8fbc\u307f\u95a2\u6570\u3084\u30e1\u30bd\u30c3\u30c9\u306b\u5bfe\u3057\u3066\u3001\u591a\u304f\u306e\u7570\u306a\u308b\u30b7\u30f3\u30af\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002</p> <p>\u72ec\u81ea\u306e\u6c5a\u67d3\u30b7\u30f3\u30af\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"security_analysis/#_4","title":"\u507d\u967d\u6027\u3092\u907f\u3051\u308b","text":"<p>\u8ab0\u3082\u5927\u91cf\u306e\u507d\u967d\u6027\u3092\u304b\u304d\u5206\u3051\u305f\u304f\u306f\u3042\u308a\u307e\u305b\u3093 - \u3053\u3053\u306b\u507d\u967d\u6027\u3092\u907f\u3051\u308b\u305f\u3081\u306e\u30ac\u30a4\u30c9\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"security_analysis/#_5","title":"\u5236\u9650\u4e8b\u9805","text":"<p>\u6c5a\u67d3\u5206\u6790\u306f\u3001\u5024\u306e\u30a8\u30b9\u30b1\u30fc\u30d7\u6642\u306b\u30df\u30b9\u3092\u72af\u3055\u306a\u3044\u3053\u3068\u306b\u4f9d\u5b58\u3057\u3066\u3044\u307e\u3059\u3002\u4f8b\u3048\u3070\uff1a</p> <pre><code>$sql = 'SELECT * FROM users WHERE id = ' . $mysqli-&gt;real_escape_string((string) $_GET['id']);\n\n$html = \"\n  &lt;img src=\" . htmlentities((string) $_GET['img']) . \" alt='' /&gt;\n  &lt;a href='\" . htmlentities((string) $_GET['a1']) . \"'&gt;Link 1&lt;/a&gt;\n  &lt;a href='\" . htmlentities((string) $_GET['a2']) . \"'&gt;Line 2&lt;/a&gt;\";\n\n// \u8a73\u7d30\uff1a\n//    $id  = 'id'                   - \u5f15\u7528\u7b26\u304c\u4e0d\u8db3\n//    $img = '/ onerror=alert(1)'   - \u5f15\u7528\u7b26\u304c\u4e0d\u8db3\n//    $a1  = 'javascript:alert(1)'  - \u901a\u5e38\u306e\u30a4\u30f3\u30e9\u30a4\u30f3JavaScript\n//    $a2  = '/' onerror='alert(1)' - PHP 8.1\u4ee5\u524d\u3067\u306f\u3001\u30b7\u30f3\u30b0\u30eb\u30af\u30a9\u30fc\u30c8\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u30a8\u30b9\u30b1\u30fc\u30d7\u3055\u308c\u306a\u3044\n// \u30c6\u30b9\u30c8\uff1a\n//    /?id=id&amp;img=%2F+onerror%3Dalert%281%29&amp;a1=javascript%3Aalert%281%29&amp;a2=%2F%27+onerror%3D%27alert%281%29\n</code></pre> <p>\u3053\u308c\u3089\u306e\u554f\u984c\u3092\u907f\u3051\u308b\u306b\u306f\u3001SQL\u3068\u30b3\u30de\u30f3\u30c9\uff08\u4f8b\uff1a<code>exec</code>\uff09\u306b\u306f\u30d1\u30e9\u30e1\u30fc\u30bf\u5316\u30af\u30a8\u30ea\u3092\u4f7f\u7528\u3057\u3001HTML\u306b\u306f\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u8003\u616e\u3057\u305f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30a8\u30f3\u30b8\u30f3\u3092\u4f7f\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u305d\u3057\u3066\u3001literal-string\u578b\u3092\u4f7f\u7528\u3057\u3066\u3001\u6a5f\u5bc6\u306a\u6587\u5b57\u5217\u304c\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\uff08\u3064\u307e\u308a\u3001\u958b\u767a\u8005\u306b\u3088\u3063\u3066\u66f8\u304b\u308c\u305f\uff09\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"security_analysis/#_6","title":"\u6c5a\u67d3\u5206\u6790\u3067\u30d9\u30fc\u30b9\u30e9\u30a4\u30f3\u3092\u4f7f\u7528\u3059\u308b","text":"<p>\u6c5a\u67d3\u5206\u6790\u306f\u4ed6\u306e\u9759\u7684\u30b3\u30fc\u30c9\u5206\u6790\u3068\u306f\u5225\u306b\u5b9f\u884c\u3055\u308c\u308b\u305f\u3081\u3001\u5225\u306e\u30d9\u30fc\u30b9\u30e9\u30a4\u30f3\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u304c\u7406\u306b\u304b\u306a\u3063\u3066\u3044\u307e\u3059\u3002</p> <p><code>--use-baseline=PATH</code>\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u3066\u3001\u6c5a\u67d3\u5206\u6790\u306b\u7570\u306a\u308b\u30d9\u30fc\u30b9\u30e9\u30a4\u30f3\u3092\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"security_analysis/#_7","title":"\u30e6\u30fc\u30b6\u30fc\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3067\u7d50\u679c\u3092\u8868\u793a\u3059\u308b","text":"<p>Psalm\u306f\u3001\u9759\u7684\u5206\u6790\u7d50\u679c\u3092\u4ea4\u63db\u3059\u308b\u305f\u3081\u306eSARIF\u6a19\u6e96\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u6c5a\u67d3\u30d5\u30ed\u30fc\u3092\u542b\u3080\u7d50\u679c\u3092\u4efb\u610f\u306eSARIF\u4e92\u63db\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3067\u8868\u793a\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"security_analysis/#github-code-scanning","title":"GitHub Code Scanning","text":"<p>GitHub code scanning\u306f\u3001Psalm GitHub Action\u3092\u4f7f\u7528\u3057\u3066\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3067\u304d\u307e\u3059\u3002</p> <p>\u307e\u305f\u306f\u3001GitHub\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b\u3088\u3046\u306b\u3001\u751f\u6210\u3055\u308c\u305fSARIF\u30d5\u30a1\u30a4\u30eb\u3092\u624b\u52d5\u3067\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002</p> <p>\u7d50\u679c\u306f\u3001\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u300cSecurity\u300d\u30bf\u30d6\u3067\u5229\u7528\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"security_analysis/#sarif","title":"\u305d\u306e\u4ed6\u306eSARIF\u4e92\u63db\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2","text":"<p>SARIF\u30ec\u30dd\u30fc\u30c8\u3092\u751f\u6210\u3059\u308b\u306b\u306f\u3001<code>--report</code>\u30d5\u30e9\u30b0\u3068<code>.sarif</code>\u62e1\u5f35\u5b50\u3092\u4ed8\u3051\u3066Psalm\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\u4f8b\uff1a</p> <pre><code>psalm --report=results.sarif\n</code></pre>"},{"location":"security_analysis/#_8","title":"\u6c5a\u67d3\u30b0\u30e9\u30d5\u306e\u30c7\u30d0\u30c3\u30b0","text":"<p>Psalm\u306f\u3001DOT\u8a00\u8a9e\u3092\u4f7f\u7528\u3057\u3066\u6c5a\u67d3\u30b0\u30e9\u30d5\u3092\u51fa\u529b\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u671f\u5f85\u3055\u308c\u308b\u6c5a\u67d3\u304c\u691c\u51fa\u3055\u308c\u306a\u3044\u5834\u5408\u306b\u5f79\u7acb\u3061\u307e\u3059\u3002DOT\u30b0\u30e9\u30d5\u3092\u751f\u6210\u3059\u308b\u306b\u306f\u3001<code>--dump-taint-graph</code>\u30d5\u30e9\u30b0\u3092\u4ed8\u3051\u3066Psalm\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\u4f8b\uff1a</p> <pre><code>psalm --taint-analysis --dump-taint-graph=taints.dot\ndot -Tsvg -o taints.svg taints.dot\n</code></pre>"},{"location":"security_analysis/annotations/","title":"Psalm\u306b\u304a\u3051\u308b\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u5206\u6790","text":"<p>Psalm\u306f\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u5236\u5fa1\u3067\u304d\u308b\u5165\u529b\uff08<code>$_GET['name']</code>\u306a\u3069\uff09\u3068\u3001\u30a8\u30b9\u30b1\u30fc\u30d7\u3055\u308c\u3066\u3044\u306a\u3044\u30e6\u30fc\u30b6\u30fc\u5236\u5fa1\u306e\u5165\u529b\u304c\u7d42\u308f\u3063\u3066\u307b\u3057\u304f\u306a\u3044\u5834\u6240\uff08<code>echo \"&lt;h1&gt;$name&lt;/h1&gt;\"</code>\u306a\u3069\uff09\u3068\u306e\u9593\u306e\u3064\u306a\u304c\u308a\u3092\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u901a\u3058\u3066\u30c7\u30fc\u30bf\u304c\u3069\u306e\u3088\u3046\u306b\u6d41\u308c\u308b\u304b\uff08\u4ee3\u5165\u3001\u95a2\u6570/\u30e1\u30bd\u30c3\u30c9\u547c\u3073\u51fa\u3057\u3001\u914d\u5217/\u30d7\u30ed\u30d1\u30c6\u30a3\u30a2\u30af\u30bb\u30b9\u3092\u4ecb\u3057\u3066\uff09\u3092\u898b\u308b\u3053\u3068\u3067\u898b\u3064\u3051\u3088\u3046\u3068\u3057\u307e\u3059\u3002</p> <p>\u3053\u306e\u30e2\u30fc\u30c9\u306f<code>--taint-analysis</code>\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30d5\u30e9\u30b0\u3067\u6709\u52b9\u306b\u3067\u304d\u307e\u3059\u3002\u6c5a\u67d3\u5206\u6790\u304c\u6709\u52b9\u306b\u306a\u308b\u3068\u3001\u4ed6\u306e\u5206\u6790\u306f\u5b9f\u884c\u3055\u308c\u307e\u305b\u3093\u3002\u5305\u62ec\u7684\u306a\u7d50\u679c\u3092\u78ba\u4fdd\u3059\u308b\u305f\u3081\u306b\u3001\u6c5a\u67d3\u5206\u6790\u306e\u524d\u306b\u901a\u5e38\u901a\u308aPsalm\u3092\u5b9f\u884c\u3057\u3001\u30a8\u30e9\u30fc\u3092\u4fee\u6b63\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>\u6c5a\u67d3\u3055\u308c\u305f\u5165\u529b\u3068\u306f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u30e6\u30fc\u30b6\u30fc\u304c\u5168\u4f53\u7684\u307e\u305f\u306f\u90e8\u5206\u7684\u306b\u5236\u5fa1\u3067\u304d\u308b\u3082\u306e\u3059\u3079\u3066\u3067\u3059\u3002\u6c5a\u67d3\u5206\u6790\u3067\u306f\u3001\u6c5a\u67d3\u3055\u308c\u305f\u5165\u529b\u3092_\u6c5a\u67d3\u6e90_\u3068\u547c\u3073\u307e\u3059\u3002</p> <p>\u4f8b\u3048\u3070\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u3082\u306e\u304c\u6c5a\u67d3\u6e90\u3067\u3059\uff1a - <code>$_GET['id']</code> - <code>$_POST['email']</code> - <code>$_COOKIE['token']</code></p> <p>\u6c5a\u67d3\u5206\u6790\u306f\u3001\u30c7\u30fc\u30bf\u304c\u6c5a\u67d3\u6e90\u304b\u3089_\u6c5a\u67d3\u30b7\u30f3\u30af_\u306b\u3069\u306e\u3088\u3046\u306b\u6d41\u308c\u308b\u304b\u3092\u8ffd\u8de1\u3057\u307e\u3059\u3002\u6c5a\u67d3\u30b7\u30f3\u30af\u306f\u3001\u4fe1\u983c\u3067\u304d\u306a\u3044\u30c7\u30fc\u30bf\u304c\u6c7a\u3057\u3066\u5230\u9054\u3057\u3066\u307b\u3057\u304f\u306a\u3044\u5834\u6240\u3067\u3059\u3002</p> <p>\u4f8b\u3048\u3070\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u3082\u306e\u304c\u6c5a\u67d3\u30b7\u30f3\u30af\u3067\u3059\uff1a - <code>&lt;div id=\"section_&lt;?= $id ?&gt;\"&gt;</code> - <code>$pdo-&gt;exec(\"select * from users where name='\" . $name . \"'\")</code></p>"},{"location":"security_analysis/annotations/#_1","title":"\u6c5a\u67d3\u30bf\u30a4\u30d7","text":"<p>Psalm\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u3001Psalm\\Type\\TaintKind\u30af\u30e9\u30b9\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u591a\u304f\u306e\u6c5a\u67d3\u30bf\u30a4\u30d7\u3092\u8a8d\u8b58\u3057\u307e\u3059\uff1a</p> <ul> <li><code>sql</code> - SQL\u3092\u542b\u3080\u53ef\u80fd\u6027\u306e\u3042\u308b\u6587\u5b57\u5217\u306b\u4f7f\u7528</li> <li><code>ldap</code> - LDAP\u306eDN\u307e\u305f\u306f\u30d5\u30a3\u30eb\u30bf\u3092\u542b\u3080\u53ef\u80fd\u6027\u306e\u3042\u308b\u6587\u5b57\u5217\u306b\u4f7f\u7528</li> <li><code>html</code> - \u5c71\u62ec\u5f27\u307e\u305f\u306f\u5f15\u7528\u7b26\u306a\u3057\u306e\u6587\u5b57\u5217\u3092\u542b\u3080\u53ef\u80fd\u6027\u306e\u3042\u308b\u6587\u5b57\u5217\u306b\u4f7f\u7528</li> <li><code>has_quotes</code> - \u5f15\u7528\u7b26\u306a\u3057\u306e\u6587\u5b57\u5217\u3092\u542b\u3080\u53ef\u80fd\u6027\u306e\u3042\u308b\u6587\u5b57\u5217\u306b\u4f7f\u7528</li> <li><code>shell</code> - \u30b7\u30a7\u30eb\u30b3\u30de\u30f3\u30c9\u3092\u542b\u3080\u53ef\u80fd\u6027\u306e\u3042\u308b\u6587\u5b57\u5217\u306b\u4f7f\u7528</li> <li><code>callable</code> - \u30e6\u30fc\u30b6\u30fc\u304c\u5236\u5fa1\u53ef\u80fd\u306a\u547c\u3073\u51fa\u3057\u53ef\u80fd\u306a\u6587\u5b57\u5217\u306b\u4f7f\u7528</li> <li><code>unserialize</code> - \u30b7\u30ea\u30a2\u30eb\u5316\u3055\u308c\u305f\u6587\u5b57\u5217\u3092\u542b\u3080\u53ef\u80fd\u6027\u306e\u3042\u308b\u6587\u5b57\u5217\u306b\u4f7f\u7528</li> <li><code>include</code> - \u30a4\u30f3\u30af\u30eb\u30fc\u30c9\u3055\u308c\u308b\u30d1\u30b9\u3092\u542b\u3080\u53ef\u80fd\u6027\u306e\u3042\u308b\u6587\u5b57\u5217\u306b\u4f7f\u7528</li> <li><code>eval</code> - \u30b3\u30fc\u30c9\u3092\u542b\u3080\u53ef\u80fd\u6027\u306e\u3042\u308b\u6587\u5b57\u5217\u306b\u4f7f\u7528</li> <li><code>ssrf</code> - Curl\u307e\u305f\u306f\u305d\u308c\u3089\u304d\u306e\u30c6\u30ad\u30b9\u30c8\u3092\u6e21\u3059\u53ef\u80fd\u6027\u306e\u3042\u308b\u6587\u5b57\u5217\u306b\u4f7f\u7528</li> <li><code>file</code> - \u30d1\u30b9\u3092\u542b\u3080\u53ef\u80fd\u6027\u306e\u3042\u308b\u6587\u5b57\u5217\u306b\u4f7f\u7528</li> <li><code>cookie</code> - HTTP\u30af\u30c3\u30ad\u30fc\u3092\u542b\u3080\u53ef\u80fd\u6027\u306e\u3042\u308b\u6587\u5b57\u5217\u306b\u4f7f\u7528</li> <li><code>header</code> - HTTP\u30d8\u30c3\u30c0\u30fc\u3092\u542b\u3080\u53ef\u80fd\u6027\u306e\u3042\u308b\u6587\u5b57\u5217\u306b\u4f7f\u7528</li> <li><code>user_secret</code> - \u30e6\u30fc\u30b6\u30fc\u304c\u63d0\u4f9b\u3057\u305f\u79d8\u5bc6\u3092\u542b\u3080\u53ef\u80fd\u6027\u306e\u3042\u308b\u6587\u5b57\u5217\u306b\u4f7f\u7528</li> <li><code>system_secret</code> - \u30b7\u30b9\u30c6\u30e0\u306e\u79d8\u5bc6\u3092\u542b\u3080\u53ef\u80fd\u6027\u306e\u3042\u308b\u6587\u5b57\u5217\u306b\u4f7f\u7528</li> </ul> <p>\u30ab\u30b9\u30bf\u30e0\u6c5a\u67d3\u6e90\u3092\u5b9a\u7fa9\u3059\u308b\u969b\u306b\u3001\u72ec\u81ea\u306e\u6c5a\u67d3\u30bf\u30a4\u30d7\u3092\u81ea\u7531\u306b\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059 - \u3053\u308c\u3089\u306f\u5358\u306a\u308b\u6587\u5b57\u5217\u3067\u3059\u3002</p>"},{"location":"security_analysis/annotations/#_2","title":"\u6c5a\u67d3\u6e90","text":"<p>Psalm\u306f\u73fe\u5728\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u30673\u3064\u306e\u6c5a\u67d3\u6e90\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\uff1a<code>$_GET</code>\u3001<code>$_POST</code>\u3001<code>$_COOKIE</code>\u30b5\u30fc\u30d0\u30fc\u5909\u6570\u3067\u3059\u3002</p> <p>\u72ec\u81ea\u306e\u6c5a\u67d3\u6e90\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"security_analysis/annotations/#_3","title":"\u6c5a\u67d3\u30b7\u30f3\u30af","text":"<p>Psalm\u306f\u73fe\u5728\u3001<code>echo</code>\u3001<code>include</code>\u3001<code>header</code>\u3092\u542b\u3080\u7d44\u307f\u8fbc\u307f\u95a2\u6570\u3084\u30e1\u30bd\u30c3\u30c9\u306b\u5bfe\u3057\u3066\u3001\u591a\u304f\u306e\u7570\u306a\u308b\u30b7\u30f3\u30af\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002</p> <p>\u72ec\u81ea\u306e\u6c5a\u67d3\u30b7\u30f3\u30af\u3092\u5b9a\u7fa9\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"security_analysis/annotations/#_4","title":"\u507d\u967d\u6027\u3092\u907f\u3051\u308b","text":"<p>\u8ab0\u3082\u5927\u91cf\u306e\u507d\u967d\u6027\u3092\u304b\u304d\u5206\u3051\u305f\u304f\u306f\u3042\u308a\u307e\u305b\u3093 - \u3053\u3053\u306b\u507d\u967d\u6027\u3092\u907f\u3051\u308b\u305f\u3081\u306e\u30ac\u30a4\u30c9\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"security_analysis/annotations/#_5","title":"\u5236\u9650\u4e8b\u9805","text":"<p>\u6c5a\u67d3\u5206\u6790\u306f\u3001\u5024\u306e\u30a8\u30b9\u30b1\u30fc\u30d7\u6642\u306b\u30df\u30b9\u3092\u72af\u3055\u306a\u3044\u3053\u3068\u306b\u4f9d\u5b58\u3057\u3066\u3044\u307e\u3059\u3002\u4f8b\u3048\u3070\uff1a</p> <pre><code>$sql = 'SELECT * FROM users WHERE id = ' . $mysqli-&gt;real_escape_string((string) $_GET['id']);\n$html = \"  &lt;img src=\" . htmlentities((string) $_GET['img']) . \" alt='' /&gt;\n  &lt;a href='\" . htmlentities((string) $_GET['a1']) . \"'&gt;Link 1&lt;/a&gt;\n  &lt;a href='\" . htmlentities((string) $_GET['a2']) . \"'&gt;Line 2&lt;/a&gt;\";\n// \u8a73\u7d30\uff1a\n//    $id  = 'id'                   - \u5f15\u7528\u7b26\u304c\u4e0d\u8db3\n//    $img = '/ onerror=alert(1)'   - \u5f15\u7528\u7b26\u304c\u4e0d\u8db3\n//    $a1  = 'javascript:alert(1)'  - \u901a\u5e38\u306e\u30a4\u30f3\u30e9\u30a4\u30f3JavaScript\n//    $a2  = '/' onerror='alert(1)' - PHP 8.1\u4ee5\u524d\u3067\u306f\u3001\u30b7\u30f3\u30b0\u30eb\u30af\u30a9\u30fc\u30c8\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u30a8\u30b9\u30b1\u30fc\u30d7\u3055\u308c\u306a\u3044\n// \u30c6\u30b9\u30c8\uff1a\n//    /?id=id&amp;img=%2F+onerror%3Dalert%281%29&amp;a1=javascript%3Aalert%281%29&amp;a2=%2F%27+onerror%3D%27alert%281%29\n</code></pre> <p>\u3053\u308c\u3089\u306e\u554f\u984c\u3092\u907f\u3051\u308b\u306b\u306f\u3001SQL\u3068\u30b3\u30de\u30f3\u30c9\uff08\u4f8b\uff1a<code>exec</code>\uff09\u306b\u306f\u30d1\u30e9\u30e1\u30fc\u30bf\u5316\u30af\u30a8\u30ea\u3092\u4f7f\u7528\u3057\u3001HTML\u306b\u306f\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8\u3092\u8003\u616e\u3057\u305f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u30a8\u30f3\u30b8\u30f3\u3092\u4f7f\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u305d\u3057\u3066\u3001literal-string\u578b\u3092\u4f7f\u7528\u3057\u3066\u3001\u6a5f\u5bc6\u306a\u6587\u5b57\u5217\u304c\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\uff08\u3064\u307e\u308a\u3001\u958b\u767a\u8005\u306b\u3088\u3063\u3066\u66f8\u304b\u308c\u305f\uff09\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"security_analysis/annotations/#_6","title":"\u6c5a\u67d3\u5206\u6790\u3067\u30d9\u30fc\u30b9\u30e9\u30a4\u30f3\u3092\u4f7f\u7528\u3059\u308b","text":"<p>\u6c5a\u67d3\u5206\u6790\u306f\u4ed6\u306e\u9759\u7684\u30b3\u30fc\u30c9\u5206\u6790\u3068\u306f\u5225\u306b\u5b9f\u884c\u3055\u308c\u308b\u305f\u3081\u3001\u5225\u306e\u30d9\u30fc\u30b9\u30e9\u30a4\u30f3\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u304c\u7406\u306b\u304b\u306a\u3063\u3066\u3044\u307e\u3059\u3002</p> <p><code>--use-baseline=PATH</code>\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u3066\u3001\u6c5a\u67d3\u5206\u6790\u306b\u7570\u306a\u308b\u30d9\u30fc\u30b9\u30e9\u30a4\u30f3\u3092\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"security_analysis/annotations/#_7","title":"\u30e6\u30fc\u30b6\u30fc\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3067\u7d50\u679c\u3092\u8868\u793a\u3059\u308b","text":"<p>Psalm\u306f\u3001\u9759\u7684\u5206\u6790\u7d50\u679c\u3092\u4ea4\u63db\u3059\u308b\u305f\u3081\u306eSARIF\u6a19\u6e96\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u6c5a\u67d3\u30d5\u30ed\u30fc\u3092\u542b\u3080\u7d50\u679c\u3092\u4efb\u610f\u306eSARIF\u4e92\u63db\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3067\u8868\u793a\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"security_analysis/annotations/#github-code-scanning","title":"GitHub Code Scanning","text":"<p>GitHub code scanning\u306f\u3001Psalm GitHub Action\u3092\u4f7f\u7528\u3057\u3066\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u3067\u304d\u307e\u3059\u3002</p> <p>\u307e\u305f\u306f\u3001GitHub\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u308b\u3088\u3046\u306b\u3001\u751f\u6210\u3055\u308c\u305fSARIF\u30d5\u30a1\u30a4\u30eb\u3092\u624b\u52d5\u3067\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002</p> <p>\u7d50\u679c\u306f\u3001\u30ea\u30dd\u30b8\u30c8\u30ea\u306e\u300cSecurity\u300d\u30bf\u30d6\u3067\u5229\u7528\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"security_analysis/annotations/#sarif","title":"\u305d\u306e\u4ed6\u306eSARIF\u4e92\u63db\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2","text":"<p>SARIF\u30ec\u30dd\u30fc\u30c8\u3092\u751f\u6210\u3059\u308b\u306b\u306f\u3001<code>--report</code>\u30d5\u30e9\u30b0\u3068<code>.sarif</code>\u62e1\u5f35\u5b50\u3092\u4ed8\u3051\u3066Psalm\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\u4f8b\uff1a</p> <pre><code>psalm --report=results.sarif\n</code></pre>"},{"location":"security_analysis/annotations/#_8","title":"\u6c5a\u67d3\u30b0\u30e9\u30d5\u306e\u30c7\u30d0\u30c3\u30b0","text":"<p>Psalm\u306f\u3001DOT\u8a00\u8a9e\u3092\u4f7f\u7528\u3057\u3066\u6c5a\u67d3\u30b0\u30e9\u30d5\u3092\u51fa\u529b\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u671f\u5f85\u3055\u308c\u308b\u6c5a\u67d3\u304c\u691c\u51fa\u3055\u308c\u306a\u3044\u5834\u5408\u306b\u5f79\u7acb\u3061\u307e\u3059\u3002DOT\u30b0\u30e9\u30d5\u3092\u751f\u6210\u3059\u308b\u306b\u306f\u3001<code>--dump-taint-graph</code>\u30d5\u30e9\u30b0\u3092\u4ed8\u3051\u3066Psalm\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\u4f8b\uff1a</p> <pre><code>psalm --taint-analysis --dump-taint-graph=taints.dot\ndot -Tsvg -o taints.svg taints.dot\n</code></pre>"},{"location":"security_analysis/avoiding_false_negatives/","title":"\u507d\u9670\u6027\u3092\u907f\u3051\u308b","text":""},{"location":"security_analysis/avoiding_false_negatives/#_2","title":"\u30a8\u30b9\u30b1\u30fc\u30d7\u89e3\u9664\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8","text":"<p>\u4ee5\u524d\u306b\u30a8\u30b9\u30b1\u30fc\u30d7/\u30a8\u30f3\u30b3\u30fc\u30c9\u3055\u308c\u305f\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u306e\u5f8c\u51e6\u7406\u306f\u3001\u5b89\u5168\u3067\u306a\u3044\u30b7\u30ca\u30ea\u30aa\u3092\u5f15\u304d\u8d77\u3053\u3059\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002 <code>@psalm-taint-unescape &lt;taint-type&gt;</code>\u3092\u4f7f\u7528\u3057\u3066\u3001\u3053\u308c\u3089\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u660e\u793a\u7684\u306b\u5b89\u5168\u3067\u306a\u3044\u3068\u5ba3\u8a00\u3067\u304d\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/**\n * @psalm-taint-unescape html\n */\nfunction decode(string $str): string\n{\n    return str_replace(\n        ['&amp;lt;', '&amp;gt;', '&amp;quot;', '&amp;apos;'],\n        ['&lt;', '&gt;', '\"', '\"'],\n        $str\n    );\n}\n\n$safe = htmlspecialchars($_GET['text']);\necho decode($safe);\n</code></pre>"},{"location":"security_analysis/avoiding_false_positives/","title":"\u507d\u967d\u6027\u3092\u907f\u3051\u308b","text":"<p>Psalm\u306etaint\u5206\u6790\u3092\u521d\u3081\u3066\u5b9f\u884c\u3059\u308b\u3068\u3001\u591a\u304f\u306e\u507d\u967d\u6027\u304c\u8868\u793a\u3055\u308c\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002 \u8ab0\u3082\u507d\u967d\u6027\u306f\u597d\u307f\u307e\u305b\u3093\uff01</p> <p>\u3053\u308c\u3089\u3092\u9632\u3050\u65b9\u6cd5\u304c\u3044\u304f\u3064\u304b\u3042\u308a\u307e\u3059\uff1a</p>"},{"location":"security_analysis/avoiding_false_positives/#_2","title":"\u6c5a\u67d3\u3055\u308c\u305f\u5165\u529b\u3092\u30a8\u30b9\u30b1\u30fc\u30d7\u3059\u308b","text":"<p>\u4e00\u90e8\u306e\u64cd\u4f5c\u306f\u30c7\u30fc\u30bf\u304b\u3089\u6c5a\u67d3\u3092\u9664\u53bb\u3057\u307e\u3059 - \u4f8b\u3048\u3070\u3001<code>$_GET['name']</code>\u3092<code>htmlentities</code>\u547c\u3073\u51fa\u3057\u3067\u30e9\u30c3\u30d7\u3059\u308b\u3068\u3001\u305d\u306e<code>$_GET</code>\u547c\u3073\u51fa\u3057\u306e\u30af\u30ed\u30b9\u30b5\u30a4\u30c8\u30b9\u30af\u30ea\u30d7\u30c6\u30a3\u30f3\u30b0\u653b\u6483\u3092\u9632\u304e\u307e\u3059\u3002</p> <p>Psalm\u3067\u306f\u3001<code>@psalm-taint-escape &lt;taint-type&gt;</code>\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u3066\u6c5a\u67d3\u3092\u9664\u53bb\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>&lt;?php\nfunction echoVar(string $str) : void {\n    /**\n     * @psalm-taint-escape html\n     */\n    $str = str_replace(['&lt;', '&gt;'], '', $str);\n    echo $str;\n}\n\nechoVar($_GET[\"text\"]);\n</code></pre>"},{"location":"security_analysis/avoiding_false_positives/#_3","title":"\u6761\u4ef6\u4ed8\u304d\u3067\u6c5a\u67d3\u3055\u308c\u305f\u5165\u529b\u3092\u30a8\u30b9\u30b1\u30fc\u30d7\u3059\u308b","text":"<p>\u524d\u306e\u4f8b\u3092\u5c11\u3057\u4fee\u6b63\u3057\u305f\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u306f\u3001\u6761\u4ef6\u3092\u4f7f\u7528\u3057\u3066\u623b\u308a\u5024\u304c\u5b89\u5168\u3068\u307f\u306a\u3055\u308c\u308b\u304b\u3069\u3046\u304b\u3092\u5224\u65ad\u3057\u307e\u3059\u3002\u95a2\u6570\u306e\u5f15\u6570<code>$escape</code>\u304ctrue\u306e\u5834\u5408\u306b\u306e\u307f\u3001\u5bfe\u5fdc\u3059\u308b<code>@psalm-taint-escape</code>\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u304c\u6c5a\u67d3\u30bf\u30a4\u30d7<code>html</code>\u306b\u9069\u7528\u3055\u308c\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/**\n * @param string $str\n * @param bool $escape\n * @psalm-taint-escape ($escape is true ? 'html' : null)\n */\nfunction processVar(string $str, bool $escape = true) : string {\n    if ($escape) {\n      $str = str_replace(['&lt;', '&gt;'], '', $str);\n    }\n    return $str;\n}\n\necho processVar($_GET['text'], false); // \u6c5a\u67d3\u3055\u308c\u305fHTML\u3092\u691c\u51fa\necho processVar($_GET['text'], true);  // \u5b89\u5168\u3068\u307f\u306a\u3055\u308c\u308b\n</code></pre>"},{"location":"security_analysis/avoiding_false_positives/#html","title":"\u30e6\u30fc\u30b6\u30fc\u5165\u529b\u306eHTML\u3092\u30b5\u30cb\u30bf\u30a4\u30ba\u3059\u308b","text":"<p>\u53ef\u80fd\u306a\u9650\u308a\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u30e6\u30fc\u30b6\u30fc\u5165\u529b\u3092HTML\u30d6\u30ed\u30c3\u30af\u3067\u306f\u306a\u304f\u3001\u500b\u5225\u306e\u30c6\u30ad\u30b9\u30c8\u30d5\u30a3\u30fc\u30eb\u30c9\u3068\u3057\u3066\u53d7\u3051\u5165\u308c\u3066\u4fdd\u5b58\u3059\u308b\u3088\u3046\u306b\u8a2d\u8a08\u3055\u308c\u308b\u3079\u304d\u3067\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u30e6\u30fc\u30b6\u30fc\u5165\u529b\u3092<code>htmlspecialchars</code>\u3084<code>htmlentities</code>\u3092\u4f7f\u7528\u3057\u3066\u5b8c\u5168\u306b\u30a8\u30b9\u30b1\u30fc\u30d7\u3067\u304d\u307e\u3059\u3002HTML\u30e6\u30fc\u30b6\u30fc\u5165\u529b\u304c\u5fc5\u8981\u306a\u5834\u5408\uff08\u4f8b\uff1aTinyMCE\u306e\u3088\u3046\u306a\u30ea\u30c3\u30c1\u30c6\u30ad\u30b9\u30c8\u30a8\u30c7\u30a3\u30bf\uff09\u3001\u30ea\u30b9\u30af\u306e\u3042\u308bHTML\u3092\u30d5\u30a3\u30eb\u30bf\u30ea\u30f3\u30b0\u3059\u308b\u305f\u3081\u306b\u7279\u5225\u306b\u8a2d\u8a08\u3055\u308c\u305f\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u4f7f\u7528\u3092\u5f37\u304f\u63a8\u5968\u3057\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001HTML Purifier\u306f\u6b21\u306e\u3088\u3046\u306b\u4f7f\u7528\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>&lt;?php\n/**\n * @psalm-taint-escape html\n * @psalm-taint-escape has_quotes\n */\nfunction sanitizeHTML($html){\n    $purifier = new HTMLPurifier();\n    return $purifier-&gt;purify($html);\n}\n</code></pre>"},{"location":"security_analysis/avoiding_false_positives/#_4","title":"\u95a2\u6570\u5185\u306e\u6c5a\u67d3\u3092\u7279\u6b8a\u5316\u3059\u308b","text":"<p>\u95a2\u6570\u3001\u30e1\u30bd\u30c3\u30c9\u3001\u30af\u30e9\u30b9\u306b\u5bfe\u3057\u3066\u306f\u3001<code>@psalm-taint-specialize</code>\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002</p> <pre><code>&lt;?php\nfunction takesInput(string $s) : string {\n    return $s;\n}\n\necho htmlentities(takesInput($_GET[\"name\"]));\necho takesInput(\"hello\"); // Psalm\u306f\u3053\u3053\u3067\u6c5a\u67d3\u3055\u308c\u305fHTML\u3092\u691c\u51fa\u3057\u307e\u3059\n</code></pre> <p><code>@psalm-taint-specialize</code>\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u3067\u554f\u984c\u304c\u89e3\u6c7a\u3057\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u95a2\u6570\u306e\u5404\u547c\u3073\u51fa\u3057\u3092\u5225\u3005\u306b\u6271\u3046\u3088\u3046Psalm\u306b\u6307\u793a\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/**\n * @psalm-taint-specialize\n */\nfunction takesInput(string $s) : string {\n    return $s;\n}\n\necho htmlentities(takesInput($_GET[\"name\"]));\necho takesInput(\"hello\"); // \u30a8\u30e9\u30fc\u306a\u3057\n</code></pre> <p>\u7279\u6b8a\u5316\u3055\u308c\u305f\u95a2\u6570\u3084\u30e1\u30bd\u30c3\u30c9\u306f\u3001\u4f9d\u7136\u3068\u3057\u3066\u6c5a\u67d3\u3055\u308c\u305f\u5165\u529b\u3092\u8ffd\u8de1\u3057\u307e\u3059\uff1a</p> <pre><code>&lt;?php\n/**\n * @psalm-taint-specialize\n */\nfunction takesInput(string $s) : string {\n    return $s;\n}\n\necho takesInput($_GET[\"name\"]); // Psalm\u306f\u6c5a\u67d3\u3055\u308c\u305f\u5165\u529b\u3092\u691c\u51fa\u3057\u307e\u3059\necho takesInput(\"hello\"); // \u30a8\u30e9\u30fc\u306a\u3057\n</code></pre> <p>\u3053\u3053\u3067\u306f\u3001\u95a2\u6570\u306e\u6c5a\u67d3\u72b6\u614b\u304c\u5b8c\u5168\u306b\u95a2\u6570\u3078\u306e\u5165\u529b\u306b\u4f9d\u5b58\u3057\u3066\u3044\u308b\u3053\u3068\u3092Psalm\u306b\u4f1d\u3048\u3066\u3044\u307e\u3059\u3002</p> <p>Psalm\u306b\u304a\u3051\u308b\u4e0d\u5909\u6027\u306b\u7cbe\u901a\u3057\u3066\u3044\u308b\u5834\u5408\u3001\u3053\u306e\u4e00\u822c\u7684\u306a\u8003\u3048\u65b9\u306f\u99b4\u67d3\u307f\u304c\u3042\u308b\u306f\u305a\u3067\u3059\u3002\u7d14\u7c8b\u95a2\u6570\u306f\u51fa\u529b\u304c\u5b8c\u5168\u306b\u5165\u529b\u306b\u4f9d\u5b58\u3059\u308b\u3082\u306e\u3060\u304b\u3089\u3067\u3059\u3002\u9a5a\u304f\u3079\u304d\u3053\u3068\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u304c\u3001<code>@psalm-pure</code>\u3068\u30de\u30fc\u30af\u3055\u308c\u305f\u3059\u3079\u3066\u306e\u95a2\u6570\u3082\u3001\u5165\u529b\u306b\u57fa\u3065\u3044\u3066\u51fa\u529b\u306e\u6c5a\u67d3\u72b6\u614b\u3092\u7279\u6b8a\u5316\u3057\u307e\u3059\uff1a</p> <pre><code>&lt;?php\n/**\n * @psalm-pure\n */\nfunction takesInput(string $s) : string {\n    return $s;\n}\n\necho htmlentities(takesInput($_GET[\"name\"]));\necho takesInput(\"hello\"); // \u30a8\u30e9\u30fc\u306a\u3057\n</code></pre>"},{"location":"security_analysis/avoiding_false_positives/#_5","title":"\u30af\u30e9\u30b9\u5185\u306e\u6c5a\u67d3\u3092\u7279\u6b8a\u5316\u3059\u308b","text":"<p>\u95a2\u6570\u547c\u3073\u51fa\u3057\u3067\u6c5a\u67d3\u3092\u7279\u6b8a\u5316\u3067\u304d\u308b\u306e\u3068\u540c\u69d8\u306b\u3001\u6c5a\u67d3\u3055\u308c\u305f\u30d7\u30ed\u30d1\u30c6\u30a3\u3082\u7279\u5b9a\u306e\u30af\u30e9\u30b9\u306b\u7279\u6b8a\u5316\u3067\u304d\u307e\u3059\u3002</p> <pre><code>&lt;?php\nclass User {\n    public string $name;\n\n    public function __construct(string $name) {\n        $this-&gt;name = $name;\n    }\n}\n\n/**\n * @psalm-taint-specialize\n */\nfunction echoUserName(User $user) {\n    echo $user-&gt;name; // \u30a8\u30e9\u30fc\u3001\u6c5a\u67d3\u3055\u308c\u305f\u5165\u529b\u3092\u691c\u51fa\n}\n\n$user1 = new User(\"Keith\");\n$user2 = new User($_GET[\"name\"]);\nechoUserName($user1);\n</code></pre> <p>\u30af\u30e9\u30b9\u306b<code>@psalm-taint-specialize</code>\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u3067\u554f\u984c\u304c\u89e3\u6c7a\u3057\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/**\n * @psalm-taint-specialize\n */\nclass User {\n    public string $name;\n\n    public function __construct(string $name) {\n        $this-&gt;name = $name;\n    }\n}\n\n/**\n * @psalm-taint-specialize\n */\nfunction echoUserName(User $user) {\n    echo $user-&gt;name; // \u30a8\u30e9\u30fc\u306a\u3057\n}\n\n$user1 = new User(\"Keith\");\n$user2 = new User($_GET[\"name\"]);\nechoUserName($user1);\n</code></pre> <p>\u305d\u3057\u3066\u3001\u3053\u308c\u306f\u4e00\u7a2e\u306e\u7d14\u7c8b\u6027\u306e\u5f37\u5236\u306a\u306e\u3067\u3001<code>@psalm-immutable</code>\u3082\u4f7f\u7528\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>&lt;?php\n/**\n * @psalm-immutable\n */\nclass User {\n    public string $name;\n\n    public function __construct(string $name) {\n        $this-&gt;name = $name;\n    }\n}\n\n/**\n * @psalm-taint-specialize\n */\nfunction echoUserName(User $user) {\n    echo $user-&gt;name; // \u30a8\u30e9\u30fc\u306a\u3057\n}\n\n$user1 = new User(\"Keith\");\n$user2 = new User($_GET[\"name\"]);\nechoUserName($user1);\n</code></pre>"},{"location":"security_analysis/avoiding_false_positives/#_6","title":"\u6c5a\u67d3\u30d1\u30b9\u3067\u30d5\u30a1\u30a4\u30eb\u3092\u907f\u3051\u308b","text":"<p>\u7279\u5b9a\u306e\u30d5\u30a1\u30a4\u30eb\u3084\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u901a\u904e\u3059\u308b\u6c5a\u67d3\u30d1\u30b9\u306b\u8208\u5473\u304c\u306a\u3044\u3053\u3068\u3092Psalm\u306b\u4f1d\u3048\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002Psalm\u8a2d\u5b9a\u3067\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u6307\u5b9a\u3057\u307e\u3059\uff1a</p> <pre><code>    &lt;taintAnalysis&gt;\n        &lt;ignoreFiles&gt;\n            &lt;directory name=\"tests\"/&gt;\n        &lt;/ignoreFiles&gt;\n    &lt;/taintAnalysis&gt;\n</code></pre>"},{"location":"security_analysis/custom_taint_sinks/","title":"\u30ab\u30b9\u30bf\u30e0\u6c5a\u67d3\u30b7\u30f3\u30af","text":"<p><code>@psalm-taint-sink &lt;taint-type&gt; &lt;param-name&gt;</code>\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u3066\u3001\u6c5a\u67d3\u30b7\u30f3\u30af\u3092\u5b9a\u7fa9\u3067\u304d\u307e\u3059\u3002 \u6307\u5b9a\u3055\u308c\u305f\u6c5a\u67d3\u30bf\u30a4\u30d7\u306b\u4e00\u81f4\u3059\u308b\u6c5a\u67d3\u5024\u306f\u3001Psalm\u306b\u3088\u3063\u3066\u30a8\u30e9\u30fc\u3068\u3057\u3066\u5831\u544a\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"security_analysis/custom_taint_sinks/#_2","title":"\u4f8b","text":"<p>\u3053\u3053\u3067\u306f\u3001<code>PDOWrapper</code>\u30af\u30e9\u30b9\u306b\u6c5a\u67d3\u3055\u308c\u305fSQL\u3092\u53d7\u3051\u53d6\u308b\u3079\u304d\u3067\u306f\u306a\u3044<code>exec</code>\u30e1\u30bd\u30c3\u30c9\u304c\u3042\u308b\u305f\u3081\u3001\u305d\u306e\u633f\u5165\u3092\u9632\u3050\u3053\u3068\u304c\u3067\u304d\u307e\u3059\uff1a</p> <pre><code>&lt;?php\nclass PDOWrapper {\n    /**\n     * @psalm-taint-sink sql $sql\n     */\n    public function exec(string $sql) : void {}\n}\n</code></pre>"},{"location":"security_analysis/custom_taint_sources/","title":"\u30ab\u30b9\u30bf\u30e0\u6c5a\u67d3\u30bd\u30fc\u30b9","text":"<p>\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u307e\u305f\u306f\u30d7\u30e9\u30b0\u30a4\u30f3\u3092\u4f7f\u7528\u3057\u3066\u3001\u72ec\u81ea\u306e\u6c5a\u67d3\u30bd\u30fc\u30b9\u3092\u5b9a\u7fa9\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"security_analysis/custom_taint_sources/#_2","title":"\u6c5a\u67d3\u30bd\u30fc\u30b9\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3","text":"<p><code>@psalm-taint-source &lt;taint-type&gt;</code>\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u3066\u3001\u30e6\u30fc\u30b6\u30fc\u5165\u529b\u3092\u63d0\u4f9b\u3059\u308b\u95a2\u6570\u307e\u305f\u306f\u30e1\u30bd\u30c3\u30c9\u3092\u793a\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>\u4ee5\u4e0b\u306e\u4f8b\u3067\u306f\u3001<code>input</code>\u6c5a\u67d3\u30bf\u30a4\u30d7\u304cPsalm\\Type\\TaintKindGroup\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u5165\u529b\u6c5a\u67d3\u306e\u4ee3\u66ff\u3068\u3057\u3066\u6307\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p> <pre><code>&lt;?php\n/**\n * @psalm-taint-source input\n */\nfunction getQueryParam(string $name) : string {}\n</code></pre>"},{"location":"security_analysis/custom_taint_sources/#_3","title":"\u30ab\u30b9\u30bf\u30e0\u6c5a\u67d3\u30d7\u30e9\u30b0\u30a4\u30f3","text":"<p>\u4f8b\u3048\u3070\u3001\u3053\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u306f\u3059\u3079\u3066\u306e<code>$bad_data</code>\u3068\u3044\u3046\u540d\u524d\u306e\u5909\u6570\u3092\u6c5a\u67d3\u30bd\u30fc\u30b9\u3068\u3057\u3066\u6271\u3044\u307e\u3059\u3002</p> <pre><code>&lt;?php\nnamespace Some\\Ns;\n\nuse PhpParser;\nuse Psalm\\CodeLocation;\nuse Psalm\\Context;\nuse Psalm\\FileManipulation;\nuse Psalm\\Plugin\\EventHandler\\AfterExpressionAnalysisInterface;\nuse Psalm\\Plugin\\EventHandler\\Event\\AfterExpressionAnalysisEvent;\nuse Psalm\\Type\\TaintKindGroup;\n\nclass BadSqlTainter implements AfterExpressionAnalysisInterface\n{\n    /**\n     * \u5f0f\u304c\u30c1\u30a7\u30c3\u30af\u3055\u308c\u305f\u5f8c\u306b\u547c\u3073\u51fa\u3055\u308c\u307e\u3059\n     *\n     * @param  PhpParser\\Node\\Expr  $expr\n     * @param  Context              $context\n     * @param  FileManipulation[]   $file_replacements\n     *\n     * @return void\n     */\n    public static function afterExpressionAnalysis(AfterExpressionAnalysisEvent $event): ?bool {\n        $expr = $event-&gt;getExpr();\n        $statements_source = $event-&gt;getStatementsSource();\n        $codebase = $event-&gt;getCodebase();\n\n        if ($expr instanceof PhpParser\\Node\\Expr\\Variable\n            &amp;&amp; $expr-&gt;name === 'bad_data'\n        ) {\n            $expr_type = $statements_source-&gt;getNodeTypeProvider()-&gt;getType($expr);\n\n            // \u30b0\u30ed\u30fc\u30d0\u30eb\u306b\u4e00\u610f\u306eID\u3067\u3042\u308b\u3079\u304d\u3067\u3059\n            // \u884c\u756a\u53f7/\u958b\u59cb\u30aa\u30d5\u30bb\u30c3\u30c8\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\n            $expr_identifier = '$bad_data'\n                . '-' . $statements_source-&gt;getFileName()\n                . ':' . $expr-&gt;getAttribute('startFilePos');\n\n            if ($expr_type) {\n                $codebase-&gt;addTaintSource(\n                    $expr_type,\n                    $expr_identifier,\n                    TaintKindGroup::ALL_INPUT,\n                    new CodeLocation($statements_source, $expr)\n                );\n            }\n        }\n\n        return null;\n    }\n}\n</code></pre>"},{"location":"security_analysis/taint_flow/","title":"\u6c5a\u67d3\u30d5\u30ed\u30fc","text":""},{"location":"security_analysis/taint_flow/#_2","title":"\u6700\u9069\u5316\u3055\u308c\u305f\u6c5a\u67d3\u30d5\u30ed\u30fc","text":"<p>\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u6271\u3046\u969b\u3001\u30c7\u30fc\u30bf\u30d5\u30ed\u30fc\u306e\u8ffd\u8de1\u306b\u306f\u7570\u306a\u308b\u30ec\u30a4\u30e4\u30fc\u3084\u4ed6\u306e\u30b5\u30fc\u30c9\u30d1\u30fc\u30c6\u30a3\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u304c\u95a2\u4e0e\u3059\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002<code>@psalm-flow</code>\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u3001PsalmPHP\u306f\u30b7\u30e7\u30fc\u30c8\u30ab\u30c3\u30c8\u3092\u53d6\u308a\u3001\u6c5a\u67d3\u30c7\u30fc\u30bf\u30d5\u30ed\u30fc\u3092\u3088\u308a\u660e\u793a\u7684\u306b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"security_analysis/taint_flow/#_3","title":"\u30d7\u30ed\u30ad\u30b7\u30d2\u30f3\u30c8","text":"<pre><code>&lt;?php // --taint-analysis\n/**\n * @psalm-flow proxy exec($value)\n */\nfunction process(string $value): void {}\n\nprocess($_GET['malicious'] ?? '');\n</code></pre> <p>\u4e0a\u306e\u4f8b\u306f\u3001\u95a2\u6570<code>process($value)</code>\u304c\u30cd\u30a4\u30c6\u30a3\u30d6\u306ePHP\u95a2\u6570<code>exec($value)</code>\u306e\u30d7\u30ed\u30ad\u30b7\u3067\u3042\u308b\u3053\u3068\u3092\u8ff0\u3079\u3066\u3044\u307e\u3059 - \u3053\u308c\u306f\u6f5c\u5728\u7684\u306b\u30b3\u30fc\u30c9\u5b9f\u884c\uff08<code>TaintedShell</code>\uff09\u306b\u8106\u5f31\u3067\u3059\u3002</p> <p>\u4f8b + <code>@psalm-flow proxy exec($value)</code> \u30b0\u30ed\u30fc\u30d0\u30eb/\u30b9\u30b3\u30fc\u30d7\u4ed8\u304d\u95a2\u6570<code>exec</code>\u3092\u53c2\u7167 + <code>@psalm-flow proxy MyClass::mySinkMethod($value)</code> \u30af\u30e9\u30b9<code>MyClass</code>\u306e\u95a2\u6570/\u30e1\u30bd\u30c3\u30c9\u3092\u53c2\u7167</p>"},{"location":"security_analysis/taint_flow/#_4","title":"\u623b\u308a\u5024\u306e\u30d2\u30f3\u30c8","text":"<pre><code>&lt;?php // --taint-analysis\n/**\n * @psalm-flow ($value, $items) -&gt; return\n */\nfunction inputOutputHandler(string $value, string ...$items): string\n{\n    // \u8907\u96d1\u306a\u9b54\u6cd5\u304c\u305f\u304f\u3055\u3093\n}\n\necho inputOutputHandler('first', 'second', $_GET['malicious'] ?? '');\n</code></pre> <p>\u4e0a\u306e\u4f8b\u306f\u3001\u95a2\u6570\u30d1\u30e9\u30e1\u30fc\u30bf<code>$value</code>\u3068<code>$items</code>\u304c\u623b\u308a\u5024\u306b\u518d\u3073\u53cd\u6620\u3055\u308c\u308b\u3053\u3068\u3092\u8ff0\u3079\u3066\u3044\u307e\u3059\u3002\u3057\u305f\u304c\u3063\u3066\u3001\u95a2\u6570<code>inputOutputHandler</code>\u3078\u306e\u5165\u529b\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u3044\u305a\u308c\u304b\u304c\u6c5a\u67d3\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u7d50\u679c\u306e\u623b\u308a\u5024\u3082\u6c5a\u67d3\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u4f8b\u3067\u306f\u3001<code>echo</code>\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u305f\u3081\u3001<code>TaintedHtml</code>\u304c\u691c\u51fa\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"security_analysis/taint_flow/#_5","title":"\u30d7\u30ed\u30ad\u30b7\u3068\u623b\u308a\u5024\u306e\u30d2\u30f3\u30c8\u306e\u7d44\u307f\u5408\u308f\u305b","text":"<pre><code>&lt;?php // --taint-analysis\n/**\n * @psalm-flow proxy exec($value)\n * @psalm-flow ($value, $items) -&gt; return\n */\nfunction handleInput(string $value, string ...$items): string\n{\n    // \u8907\u96d1\u306a\u9b54\u6cd5\u304c\u305f\u304f\u3055\u3093\n}\n\necho handleInput($_GET['malicious'] ?? '');\n</code></pre> <p>\u4e0a\u306e\u4f8b\u306f\u3001\u524d\u306e2\u3064\u306e\u4f8b\u3092\u7d44\u307f\u5408\u308f\u305b\u3066\u304a\u308a\u3001<code>@psalm-flow</code>\u30a2\u30ce\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u8907\u6570\u56de\u4f7f\u7528\u3067\u304d\u308b\u3053\u3068\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u3001<code>TaintedHtml</code>\u3068<code>TaintedShell</code>\u306e\u4e21\u65b9\u304c\u691c\u51fa\u3055\u308c\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002</p>"}]}